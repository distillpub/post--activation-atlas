'use strict';(function(){function X(){}function q(b,a){for(var c in a)b[c]=a[c];return b}function ia(b,a){for(var c in a)b[c]=1;return b}function z(b){b.parentNode.removeChild(b)}function $b(b,a){for(;b.nextSibling&&b.nextSibling!==a;)b.parentNode.removeChild(b.nextSibling)}function $a(b){for(;b.previousSibling;)b.parentNode.removeChild(b.previousSibling)}function ac(b){for(;b.nextSibling;)b.parentNode.removeChild(b.nextSibling)}function Sa(b,a){for(;b.firstChild;)a.appendChild(b.firstChild)}function U(b,
a){for(var c=0;c<b.length;c+=1)b[c]&&b[c].d(a)}function aa(){return document.createDocumentFragment()}function l(b){return document.createElement(b)}function v(b){return document.createElementNS("http://www.w3.org/2000/svg",b)}function m(b){return document.createTextNode(b)}function ma(){return document.createComment("")}function f(b,a,c){null==c?b.removeAttribute(a):b.setAttribute(a,c)}function ab(b,a,c){b.setAttributeNS("http://www.w3.org/1999/xlink",a,c)}function ld(b){return""===b?void 0:+b}function W(b,
a){b.data=""+a}function t(b,a,c){b.style.setProperty(a,c)}function Ob(b,a){for(var c=0;c<b.options.length;c+=1){var d=b.options[c];if(d.__value===a){d.selected=!0;break}}}function ie(b){return(b=b.querySelector(":checked")||b.options[0])&&b.__value}function md(b,a){"static"===getComputedStyle(b).position&&(b.style.position="relative");let c=document.createElement("object");c.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;");
c.type="text/html";let d;c.onload=()=>{d=c.contentDocument.defaultView;d.addEventListener("resize",a)};/Trident/.test(navigator.userAgent)?(b.appendChild(c),c.data="about:blank"):(c.data="about:blank",b.appendChild(c));return{cancel:()=>{d&&d.removeEventListener&&d.removeEventListener("resize",a);b.removeChild(c)}}}function je(b,a){return b!=b?a==a:b!==a||b&&"object"===typeof b||"function"===typeof b}function gi(b,a){return b!=b?a==a:b!==a}function ke(b,a){if(b=b in this._handlers&&this._handlers[b].slice())for(var c=
0;c<b.length;c+=1){var d=b[c];if(!d.__calling)try{d.__calling=!0,d.call(this,a)}finally{d.__calling=!1}}}function G(b){b._lock=!0;nd(b._beforecreate);nd(b._oncreate);nd(b._aftercreate);b._lock=!1}function le(){return this._state}function x(b,a){b._handlers=Object.create(null);b._slots=Object.create(null);b._bind=a._bind;b._staged={};b.options=a;b.root=a.root||b;b.store=a.store||b.root.store;a.root||(b._beforecreate=[],b._oncreate=[],b._aftercreate=[])}function me(b,a){var c=this._handlers[b]||(this._handlers[b]=
[]);c.push(a);return{cancel:function(){var b=c.indexOf(a);~b&&c.splice(b,1)}}}function nd(b){for(;b&&b.length;)b.shift()()}function oa(){this.store._remove(this)}function ne(b,a){this._handlers={};this._dependents=[];this._computed=Object.create(null);this._sortedComputedProperties=[];this._state=q({},b);this._differs=a&&a.immutable?gi:je}function hi({x:b,width:a,y:c,height:d,visible:e}){if(!1===e)return"display: none;";{e=document.documentElement.scrollLeft;let h=Math.max(window.pageYOffset,document.documentElement.scrollTop,
document.body.scrollTop),g=document.documentElement.clientWidth-a;d=document.documentElement.clientHeight-d;let k=Math.min(b,g),n=Math.min(c,d);b>=g&&c>=d&&(k=b-a);return`width: ${a}px; top: ${n+h}px; left: ${k+e}px;`}}function ii(b,a){function c(a){b.mousemove(a)}function d(a){b.hide()}var e,h;document.addEventListener("mousemove",c);document.addEventListener("scroll",d);var g=a.component&&oe(b,a);return{c(){e=m("\n\n");h=l("div");g&&g.c();h.style.cssText=a.style;h.className="svelte-14z2oof svelte-ref-root"},
m(a,c){a.insertBefore(e,c);a.insertBefore(h,c);g&&g.m(h,null);b.refs.root=h},p(a,c){c.component?g?g.p(a,c):(g=oe(b,c),g.c(),g.m(h,null)):g&&(g.d(1),g=null);a.style&&(h.style.cssText=c.style)},d(a){document.removeEventListener("mousemove",c);document.removeEventListener("scroll",d);a&&(z(e),z(h));g&&g.d();b.refs.root===h&&(b.refs.root=null)}}}function oe(b,a){var c,d=a.component;if(d)var e=new d({root:b.root,store:b.store});return{c(){e&&e._fragment.c();c=ma()},m(a,d){e&&(e._mount(a,d),b.refs.component=
e);a.insertBefore(c,d)},p(a,g){d!==(d=g.component)&&(e&&e.destroy(),d?(e=new d({root:b.root,store:b.store}),e._fragment.c(),e._mount(c.parentNode,c),b.refs.component=e):(e=null,b.refs.component===e&&(b.refs.component=null)))},d(a){a&&z(c);e&&e.destroy(a)}}}function Pb(b){x(this,b);this.refs={};this._state=q({visible:!1,width:150,height:200,component:null},b.data);this._recompute({x:1,width:1,y:1,height:1,visible:1},this._state);this._intro=!0;this._fragment=ii(this,this._state);b.target&&(this._fragment.c(),
this._mount(b.target,b.anchor),G(this))}function ji(b,a){function c(){b.store.set({screenWidth:g.offsetWidth})}function d(){b.store.set({pageWidth:f.offsetWidth})}function e(){b.store.set({textWidth:u.offsetWidth})}var h,g,k,n,f,p,y,u,E;return{c(){h=l("div");g=l("div");n=m("\n  ");f=l("div");y=m("\n  ");u=l("div");b.root._beforecreate.push(c);t(g,"grid-column","screen");g.className="svelte-bwnr57 svelte-ref-screen";b.root._beforecreate.push(d);t(f,"grid-column","page");f.className="svelte-bwnr57 svelte-ref-page";
b.root._beforecreate.push(e);t(u,"grid-column","text");u.className="svelte-bwnr57 svelte-ref-text";h.className="base-grid svelte-bwnr57"},m(a,r){a.insertBefore(h,r);h.appendChild(g);k=md(g,c);b.refs.screen=g;h.appendChild(n);h.appendChild(f);p=md(f,d);b.refs.page=f;h.appendChild(y);h.appendChild(u);E=md(u,e);b.refs.text=u},p:X,d(a){a&&z(h);k.cancel();b.refs.screen===g&&(b.refs.screen=null);p.cancel();b.refs.page===f&&(b.refs.page=null);E.cancel();b.refs.text===u&&(b.refs.text=null)}}}function od(b){x(this,
b);this.refs={};this._state=q(this.store._init(["screenWidth","pageWidth","textWidth"]),b.data);this.store._add(this,["screenWidth","pageWidth","textWidth"]);this._intro=!0;this._handlers.destroy=[oa];this._fragment=ji(this,this._state);this.root._oncreate.push(()=>{this.measure();this.fire("update",{changed:ia({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function Qb(b,a){if(0>(a=(b=a?b.toExponential(a-1):b.toExponential()).indexOf("e")))return null;
var c=b.slice(0,a);return[1<c.length?c[0]+c.slice(2):c,+b.slice(a+1)]}function ki(b){return b=Qb(Math.abs(b)),b?b[1]:NaN}function li(b,a){return function(c,d){for(var e=c.length,h=[],g=0,k=b[0],n=0;0<e&&0<k;){n+k+1>d&&(k=Math.max(1,d-n));h.push(c.substring(e-=k,e+k));if((n+=k+1)>d)break;k=b[g=(g+1)%b.length]}return h.reverse().join(a)}}function mi(b){return function(a){return a.replace(/[0-9]/g,function(a){return b[+a]})}}function pd(b){return new qd(b)}function qd(b){if(!(a=ni.exec(b)))throw Error("invalid format: "+
b);var a;this.fill=a[1]||" ";this.align=a[2]||">";this.sign=a[3]||"-";this.symbol=a[4]||"";this.zero=!!a[5];this.width=a[6]&&+a[6];this.comma=!!a[7];this.precision=a[8]&&+a[8].slice(1);this.trim=!!a[9];this.type=a[10]||""}function pe(b,a){a=Qb(b,a);if(!a)return b+"";b=a[0];a=a[1];return 0>a?"0."+Array(-a).join("0")+b:b.length>a+1?b.slice(0,a+1)+"."+b.slice(a+1):b+Array(a-b.length+2).join("0")}function qe(b){return b}function oi(b){function a(a){function b(a){var b=I,d=H,g,n;if("c"===B)d=C(a)+d,a=
"";else{a=+a;var r=0>a;a=C(Math.abs(a),w);if(T){var p=a.length,l=1,u=-1;a:for(;l<p;++l)switch(a[l]){case ".":u=g=l;break;case "0":0===u&&(u=l);g=l;break;default:if(0<u){if(!+a[l])break a;u=0}}a=0<u?a.slice(0,u)+a.slice(g+1):a}r&&0===+a&&(r=!1);b=(r?"("===y?y:"-":"-"===y||"("===y?"":y)+b;d=("s"===B?re[8+se/3]:"")+d+(r&&"("===y?")":"");if(t)for(r=-1,g=a.length;++r<g;)if(n=a.charCodeAt(r),48>n||57<n){d=(46===n?e+a.slice(r+1):a.slice(r))+d;a=a.slice(0,r);break}}J&&!m&&(a=c(a,Infinity));n=b.length+a.length+
d.length;r=n<A?Array(A-n+1).join(k):"";J&&m&&(a=c(r+a,r.length?A-d.length:Infinity),r="");switch(f){case "<":a=b+a+d+r;break;case "=":a=b+r+a+d;break;case "^":a=r.slice(0,n=r.length>>1)+b+a+d+r.slice(n);break;default:a=r+b+a+d}return h(a)}a=pd(a);var k=a.fill,f=a.align,y=a.sign,l=a.symbol,m=a.zero,A=a.width,J=a.comma,w=a.precision,T=a.trim,B=a.type;"n"===B?(J=!0,B="g"):te[B]||(null==w&&(w=12),T=!0,B="g");if(m||"0"===k&&"="===f)m=!0,k="0",f="=";var I="$"===l?d[0]:"#"===l&&/[boxX]/.test(B)?"0"+B.toLowerCase():
"",H="$"===l?d[1]:/[%p]/.test(B)?g:"",C=te[B],t=/[defgprs%]/.test(B);w=null==w?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));b.toString=function(){return a+""};return b}var c=b.grouping&&b.thousands?li(b.grouping,b.thousands):qe,d=b.currency,e=b.decimal,h=b.numerals?mi(b.numerals):qe,g=b.percent||"%";return{format:a,formatPrefix:function(b,c){var d=a((b=pd(b),b.type="f",b));b=3*Math.max(-8,Math.min(8,Math.floor(ki(c)/3)));var e=Math.pow(10,-b),g=re[8+b/3];return function(a){return d(e*
a)+g}}}}function ue(b,a,c){b=Object.create(b);b.top=a[c];b.i=c;return b}function pi(b,a){var c,d,e,h,g,k=ve(a.num_activations),n,f,p=a.top_class_indices&&we(b,a);return{c(){c=l("div");d=l("table");p&&p.c();e=m("\n  ");h=l("div");g=m("Average of ");n=m(k);f=m(" activations");d.className="svelte-1qbcldy";t(h,"font-size","10px");t(h,"margin-top","4px");t(h,"color","#999");t(h,"text-align","right");c.className="hover svelte-1qbcldy"},m(a,b){a.insertBefore(c,b);c.appendChild(d);p&&p.m(d,null);c.appendChild(e);
c.appendChild(h);h.appendChild(g);h.appendChild(n);h.appendChild(f)},p(a,c){c.top_class_indices?p?p.p(a,c):(p=we(b,c),p.c(),p.m(d,null)):p&&(p.d(1),p=null);a.num_activations&&k!==(k=ve(c.num_activations))&&W(n,k)},d(a){a&&z(c);p&&p.d()}}}function we(b,a){for(var c,d=a.top_class_indices.slice(0,5),e=[],h=0;h<d.length;h+=1)e[h]=xe(b,ue(a,d,h));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=ma()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,b);a.insertBefore(c,b)},p(a,h){if(a.top_class_values||a.$inceptionLabels||
a.top_class_indices){d=h.top_class_indices.slice(0,5);for(var g=0;g<d.length;g+=1){let k=ue(h,d,g);e[g]?e[g].p(a,k):(e[g]=xe(b,k),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){U(e,a);a&&z(c)}}}function xe(b,a){var c,d,e=a.i+1,h,g,k,n,f=a.$inceptionLabels[a.top],p,y,u,E=ye(a.top_class_values[a.i]),A;return{c(){c=l("tr");d=l("td");h=m(e);g=m(".");k=m("\n        ");n=l("td");p=m(f);y=m("\n        ");u=l("td");A=m(E);t(d,"width","10px");t(d,"text-align","right");
t(d,"padding-right","4px");d.className="svelte-1qbcldy";n.className=(0==a.i?"first":"")+" svelte-1qbcldy";t(u,"text-align","right");u.className="svelte-1qbcldy"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(h);d.appendChild(g);c.appendChild(k);c.appendChild(n);n.appendChild(p);c.appendChild(y);c.appendChild(u);u.appendChild(A)},p(a,b){(a.$inceptionLabels||a.top_class_indices)&&f!==(f=b.$inceptionLabels[b.top])&&W(p,f);a.top_class_values&&E!==(E=ye(b.top_class_values[b.i]))&&W(A,E)},d(a){a&&
z(c)}}}function ze(b){x(this,b);this._state=q(this.store._init(["inceptionLabels"]),b.data);this.store._add(this,["inceptionLabels"]);this._intro=!0;this._handlers.destroy=[oa];this._fragment=pi(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function qi(){this.refs.element.addEventListener("ready",(b)=>{this.set({ready:!0})});this.refs.element.addEventListener("onscreen",(b)=>{this.set({onscreen:!0});this.fire("onscreen")});this.refs.element.addEventListener("offscreen",
(b)=>{this.set({onscreen:!1});this.fire("offscreen")})}function ri(b,a){var c,d=b._slotted.default;return{c(){c=l("d-figure");t(c,"display",a.display);t(c,"height",a.height)},m(a,h){a.insertBefore(c,h);d&&c.appendChild(d);b.refs.element=c},p(a,b){a.display&&t(c,"display",b.display);a.height&&t(c,"height",b.height)},d(a){a&&z(c);d&&Sa(c,d);b.refs.element===c&&(b.refs.element=null)}}}function Rb(b){x(this,b);this.refs={};this._state=q({display:"block",ready:!1,height:"",onscreen:!1,offscreen:!0},b.data);
this._intro=!0;this._slotted=b.slots||{};this._fragment=ri(this,this._state);this.root._oncreate.push(()=>{qi.call(this);this.fire("update",{changed:ia({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function si(b,a){var c;return{c(){c=l("div");c.innerHTML='<span class="svelte-19e83wz">Loading \u2026</span>';c.className="svelte-19e83wz"},m(a,b){a.insertBefore(c,b)},p:X,d(a){a&&z(c)}}}function rd(b){x(this,b);this._state=q({},b.data);this._intro=
!0;this._fragment=si(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function ti({radarReady:b,component:a,clientWidth:c}){return c&&b&&a?!0:!1}function ui({width:b}){if(b){if("number"==typeof b)return b+"px";if("string"==typeof b)return b}else return"100%"}function vi({clientWidth:b,height:a,aspectRatio:c,minHeight:d}){if(c)return b/=c,d?Math.min(d,b)+"px":b+"px";if(a){if("number"==typeof a)return a+"px";if("string"==typeof a)return a}else return"100%"}function wi(){let {height:b,
aspectRatio:a}=this.get();b||a||console.warn(`Require 'height'${b} or 'aspectRatio'${a} not set on LazyComponent.html`,this);setTimeout(()=>this.measure(),10)}function xi(b,a){function c(a){b.measure()}var d,e;window.addEventListener("resize",c);var h=a.finalReady?Ae:Be,g=h(b,a),k={offscreen:a.offscreen,onscreen:a.onscreen,height:"100%"};if(void 0!==a.radarReady){k.ready=a.radarReady;var n=!0}var f=new Rb({root:b.root,store:b.store,slots:{default:aa()},data:k,_bind(a,c){var d={};!n&&a.ready&&(d.radarReady=
c.ready);b._set(d);n=void 0}});b.root._beforecreate.push(()=>{f._bind({ready:1},f.get())});return{c(){d=l("div");g.c();e=ma();f._fragment.c();t(d,"width",a.finalWidth);t(d,"height",a.finalHeight);d.className="svelte-16j6f9b svelte-ref-container"},m(a,c){a.insertBefore(d,c);g.m(f._slotted.default,null);f._slotted.default.appendChild(e);f._mount(d,null);b.refs.container=d},p(c,k){a=k;h===(h=a.finalReady?Ae:Be)&&g?g.p(c,a):(g.d(1),g=h(b,a),g.c(),g.m(e.parentNode,e));k={};c.offscreen&&(k.offscreen=a.offscreen);
c.onscreen&&(k.onscreen=a.onscreen);!n&&c.radarReady&&(k.ready=a.radarReady,n=void 0!==a.radarReady);f._set(k);n=void 0;c.finalWidth&&t(d,"width",a.finalWidth);c.finalHeight&&t(d,"height",a.finalHeight)},d(a){window.removeEventListener("resize",c);a&&z(d);g.d();f.destroy();b.refs.container===d&&(b.refs.container=null)}}}function Be(b,a){var c=new rd({root:b.root,store:b.store});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p:X,d(a){c.destroy(a)}}}function Ae(b,a){function c(a){a={};for(var c=
0;c<e.length;c+=1)a=q(a,e[c]);return{root:b.root,store:b.store,data:a}}var d,e=[{clientWidth:a.clientWidth},{clientHeight:a.clientHeight},a.componentData],h=a.component;if(h)var g=new h(c(a));return{c(){g&&g._fragment.c();d=ma()},m(a,c){g&&(g._mount(a,c),b.refs.component=g);a.insertBefore(d,c)},p(a,n){if(a.clientWidth||a.clientHeight||a.componentData){var k=e;a=[a.clientWidth&&{clientWidth:n.clientWidth},a.clientHeight&&{clientHeight:n.clientHeight},a.componentData&&n.componentData];for(var f={},
y={},l={},m=k.length;m--;){var A=k[m],J=a[m];if(J){for(var w in A)w in J||(y[w]=1);for(w in J)l[w]||(f[w]=J[w],l[w]=1);k[m]=J}else for(w in A)l[w]=1}for(w in y)w in f||(f[w]=void 0);k=f}else k={};h!==(h=n.component)?(g&&g.destroy(),h?(g=new h(c(n)),g._fragment.c(),g._mount(d.parentNode,d),b.refs.component=g):(g=null,b.refs.component===g&&(b.refs.component=null))):h&&g._set(k)},d(a){a&&z(d);g&&g.destroy(a)}}}function ea(b){x(this,b);this.refs={};this._state=q({component:null,url:null,componentData:null,
radarReady:!1,onscreen:!1,offsreen:!0,height:null,width:null,aspectRatio:null,minHeight:null,clientWidth:500,clientHeight:500},b.data);this._recompute({radarReady:1,component:1,clientWidth:1,width:1,height:1,aspectRatio:1,minHeight:1},this._state);this._intro=!0;this._fragment=xi(this,this._state);this.root._oncreate.push(()=>{wi.call(this);this.fire("update",{changed:ia({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function yi(b,a){var c,
d,e=b._slotted.default;return{c(){c=l("div");d=l("div");d.className="container svelte-xqvv98";c.className="root svelte-xqvv98";t(c,"display",a.display);t(c,"padding-bottom",""+100/a.aspectRatio+"%")},m(a,b){a.insertBefore(c,b);c.appendChild(d);e&&d.appendChild(e)},p(a,b){a.display&&t(c,"display",b.display);a.aspectRatio&&t(c,"padding-bottom",""+100/b.aspectRatio+"%")},d(a){a&&z(c);e&&Sa(d,e)}}}function sd(b){x(this,b);this._state=q({display:"block",aspectRatio:1,clientWidth:0},b.data);this._intro=
!0;this._slotted=b.slots||{};this._fragment=yi(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function zi(b,a){var c,d,e,h=a.ready?Ce:De,g=h(b,a),k={aspectRatio:a.aspectRatio},n=new sd({root:b.root,store:b.store,slots:{default:aa()},data:k});k={};if(void 0!==a.ready){k.ready=a.ready;var f=!0}var p=new Rb({root:b.root,store:b.store,slots:{default:aa()},data:k,_bind(a,c){var d={};!f&&a.ready&&(d.ready=c.ready);b._set(d);f=void 0}});b.root._beforecreate.push(()=>{p._bind({ready:1},
p.get())});return{c(){c=l("div");g.c();d=ma();n._fragment.c();p._fragment.c();c.className=e=(a.background?"background":"")+" "+(a.border?"border":"")+" svelte-1q1tvil svelte-ref-root"},m(a,e){a.insertBefore(c,e);g.m(n._slotted.default,null);n._slotted.default.appendChild(d);n._mount(p._slotted.default,null);p._mount(c,null);b.refs.root=c},p(k,r){a=r;h===(h=a.ready?Ce:De)&&g?g.p(k,a):(g.d(1),g=h(b,a),g.c(),g.m(d.parentNode,d));r={};k.aspectRatio&&(r.aspectRatio=a.aspectRatio);n._set(r);r={};!f&&k.ready&&
(r.ready=a.ready,f=void 0!==a.ready);p._set(r);f=void 0;(k.background||k.border)&&e!==(e=(a.background?"background":"")+" "+(a.border?"border":"")+" svelte-1q1tvil svelte-ref-root")&&(c.className=e)},d(a){a&&z(c);g.d();n.destroy();p.destroy();b.refs.root===c&&(b.refs.root=null)}}}function De(b,a){var c=new rd({root:b.root,store:b.store});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p:X,d(a){c.destroy(a)}}}function Ce(b,a){var c;return{c(){c=l("img");c.src=a.src;c.alt=a.alt;c.style.cssText=a.style;
c.className="svelte-1q1tvil svelte-ref-image"},m(a,e){a.insertBefore(c,e);b.refs.image=c},p(a,b){a.src&&(c.src=b.src);a.alt&&(c.alt=b.alt);a.style&&(c.style.cssText=b.style)},d(a){a&&z(c);b.refs.image===c&&(b.refs.image=null)}}}function O(b){x(this,b);this.refs={};this._state=q({ready:!1,src:"",alt:"",style:"",display:"block",aspectRatio:1,border:!0,background:!1},b.data);this._intro=!0;this._fragment=zi(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function Ai(b,
a){var c,d,e,h,g,k,n;return{c(){c=l("a");d=v("svg");e=v("path");h=m("\n  ");g=l("span");k=m(a.text);f(e,"d","M14,2c0-0.3-0.2-0.5-0.5-0.5S13,1.7,13,2v12c0,0.6-0.4,1-1,1H3.1c-0.3,0-0.5-0.1-0.7-0.3L1.7,14h8.8c0.8,0,1.5-0.7,1.5-1.5\n      l0-11C12,0.7,11.3,0,10.5,0l-9,0C0.7,0,0,0.7,0,1.5v12.1c0,0.3,0.1,0.5,0.3,0.7l1.4,1.4C1.9,15.9,2.1,16,2.4,16h10.1\n      c0.8,0,1.5-0.7,1.5-1.5l0-1.8C14,9,14,2,14,2z M9.1,9.6c0,0.3-0.2,0.5-0.5,0.5H5.4c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h3.1\n      C8.8,9.1,9.1,9.3,9.1,9.6z M2.3,4.7C2.1,4.5,2.1,4.2,2.3,4C2.5,3.8,2.8,3.8,3,4l2.8,2.6L3,9.3C2.9,9.4,2.8,9.4,2.7,9.4\n      c-0.1,0-0.3-0.1-0.4-0.2c-0.2-0.2-0.2-0.5,0-0.7l2-1.9L2.3,4.7z");
f(e,"class","svelte-7z3jn3");f(d,"viewBox","0 0 18 18");f(d,"class","svelte-7z3jn3");g.className="svelte-7z3jn3";c.href=a.url;c.className=n="root emphasis-"+a.emphasis+" svelte-7z3jn3"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);c.appendChild(h);c.appendChild(g);g.appendChild(k)},p(a,b){a.text&&W(k,b.text);a.url&&(c.href=b.url);a.emphasis&&n!==(n="root emphasis-"+b.emphasis+" svelte-7z3jn3")&&(c.className=n)},d(a){a&&z(c)}}}function td(b){x(this,b);this._state=q({url:"https://colab.research.google.com/github/tensorflow/lucid/blob/master/notebooks/activation-atlas/activation-atlas-simple.ipynb",
text:"Try in a notebook",emphasis:1},b.data);this._intro=!0;this._fragment=Ai(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Bi(b,a){function c(a){b.fire("click")}var d,e=b._slotted.default;return{c(){d=l("button");d.addEventListener("click",c,void 0);t(d,"background-color",a.backgroundColor);t(d,"color",a.color);d.className="svelte-nm66xb"},m(a,b){a.insertBefore(d,b);e&&d.appendChild(e)},p(a,b){a.backgroundColor&&t(d,"background-color",b.backgroundColor);
a.color&&t(d,"color",b.color)},d(a){a&&z(d);e&&Sa(d,e);d.removeEventListener("click",c,void 0)}}}function bc(b){x(this,b);this._state=q({backgroundColor:"rgb(255, 130, 0)",color:"white"},b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=Bi(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Ci(b,a){var c,d,e;return{c(){c=v("svg");d=v("path");e=v("path");f(d,"d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z");f(e,"d","M0 0h24v24H0z");f(e,"fill","none");f(c,
"xmlns","http://www.w3.org/2000/svg");f(c,"width","24");f(c,"height","24");f(c,"viewBox","0 0 24 24")},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(e)},p:X,d(a){a&&z(c)}}}function Ee(b){x(this,b);this._state=q({},b.data);this._intro=!0;this._fragment=Ci(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Di(b,a){var c,d,e;return{c(){c=v("svg");d=v("path");e=v("path");f(d,"d","M19 13H5v-2h14v2z");f(e,"d","M0 0h24v24H0z");f(e,"fill","none");f(c,"xmlns",
"http://www.w3.org/2000/svg");f(c,"width","24");f(c,"height","24");f(c,"viewBox","0 0 24 24")},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(e)},p:X,d(a){a&&z(c)}}}function Fe(b){x(this,b);this._state=q({},b.data);this._intro=!0;this._fragment=Di(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Ei(b,a){var c,d,e;return{c(){c=v("svg");d=v("path");e=v("path");f(d,"d","M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z");f(e,"d","M0 0h24v24H0z");f(e,"fill","none");
f(c,"xmlns","http://www.w3.org/2000/svg");f(c,"width","24");f(c,"height","24");f(c,"viewBox","0 0 24 24")},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(e)},p:X,d(a){a&&z(c)}}}function Ge(b){x(this,b);this._state=q({},b.data);this._intro=!0;this._fragment=Ei(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Fi({name:b}){if("home"===b)return Ge;if("add"===b)return Ee;if("remove"===b)return Fe}function Gi(b,a){var c,d=a.Icon;if(d)var e=new d({root:b.root,
store:b.store});return{c(){c=l("div");e&&e._fragment.c();t(c,"fill",a.color)},m(a,b){a.insertBefore(c,b);e&&e._mount(c,null)},p(a,g){d!==(d=g.Icon)&&(e&&e.destroy(),d?(e=new d({root:b.root,store:b.store}),e._fragment.c(),e._mount(c,null)):e=null);a.color&&t(c,"fill",g.color)},d(a){a&&z(c);e&&e.destroy()}}}function Sb(b){x(this,b);this._state=q({color:"black"},b.data);this._recompute({name:1},this._state);this._intro=!0;this._fragment=Gi(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,
b.anchor),G(this))}function Hi({clientWidth:b,extent:a}){return Math.min(b,Math.max(1E-6,a[0][0]*b))}function Ii({clientWidth:b,extent:a}){return Math.min(b,a[0][1]*b)}function Ji({clientHeight:b,extent:a}){return Math.min(b,Math.max(1E-6,a[1][0]*b))}function Ki({clientHeight:b,extent:a}){return Math.min(b,a[1][1]*b)}function Li(){setTimeout(()=>this.measure(),10)}function Mi(b,a){function c(a){b.measure()}function d(a){b.down(a)}var e;window.addEventListener("resize",c);var h=a.extent&&He(b,a);return{c(){e=
l("div");h&&h.c();e.addEventListener("pointerdown",d,void 0);e.className="root svelte-1pppif8";t(e,"cursor",a.cursor);t(e,"position","absolute")},m(a,c){a.insertBefore(e,c);h&&h.m(e,null);b.refs.root=e},p(a,c){c.extent?h?h.p(a,c):(h=He(b,c),h.c(),h.m(e,null)):h&&(h.d(1),h=null);a.cursor&&t(e,"cursor",c.cursor)},d(a){window.removeEventListener("resize",c);a&&z(e);h&&h.d();e.removeEventListener("pointerdown",d,void 0);b.refs.root===e&&(b.refs.root=null)}}}function He(b,a){var c,d,e,h,g=a.left&&a.right&&
a.top&&a.bottom&&Ie(b,a),k=a.annotationValue&&Je(b,a);return{c(){c=v("svg");g&&g.c();d=m("\n  ");e=l("div");k&&k.c();f(c,"width",a.clientWidth);f(c,"height",a.clientHeight);f(c,"class","svelte-1pppif8");e.className=h="reticle "+(a.round?"round":"")+" svelte-1pppif8";t(e,"border-color",a.color);t(e,"top",""+(a.top-1)+"px");t(e,"left",""+(a.left-1)+"px");t(e,"width",""+(a.right-a.left+2)+"px");t(e,"height",""+(a.bottom-a.top+2)+"px")},m(a,b){a.insertBefore(c,b);g&&g.m(c,null);a.insertBefore(d,b);a.insertBefore(e,
b);k&&k.m(e,null)},p(a,d){d.left&&d.right&&d.top&&d.bottom?g?g.p(a,d):(g=Ie(b,d),g.c(),g.m(c,null)):g&&(g.d(1),g=null);a.clientWidth&&f(c,"width",d.clientWidth);a.clientHeight&&f(c,"height",d.clientHeight);d.annotationValue?k?k.p(a,d):(k=Je(b,d),k.c(),k.m(e,null)):k&&(k.d(1),k=null);a.round&&h!==(h="reticle "+(d.round?"round":"")+" svelte-1pppif8")&&(e.className=h);a.color&&t(e,"border-color",d.color);a.top&&t(e,"top",""+(d.top-1)+"px");a.left&&t(e,"left",""+(d.left-1)+"px");(a.right||a.left)&&t(e,
"width",""+(d.right-d.left+2)+"px");(a.bottom||a.top)&&t(e,"height",""+(d.bottom-d.top+2)+"px")},d(a){a&&z(c);g&&g.d();a&&(z(d),z(e));k&&k.d()}}}function Ie(b,a){var c,d,e;return{c(){c=v("path");f(c,"class",d=(a.background?"":"transparent")+" svelte-1pppif8");f(c,"d",e="M0,0 L"+a.clientWidth+",0 L"+a.clientWidth+","+a.clientHeight+" L0,"+a.clientHeight+" z M"+a.left+","+a.top+" L"+a.left+","+a.bottom+" L"+a.right+","+a.bottom+" L"+a.right+","+a.top+" z")},m(a,b){a.insertBefore(c,b)},p(a,b){a.background&&
d!==(d=(b.background?"":"transparent")+" svelte-1pppif8")&&f(c,"class",d);(a.clientWidth||a.clientHeight||a.left||a.top||a.bottom||a.right)&&e!==(e="M0,0 L"+b.clientWidth+",0 L"+b.clientWidth+","+b.clientHeight+" L0,"+b.clientHeight+" z M"+b.left+","+b.top+" L"+b.left+","+b.bottom+" L"+b.right+","+b.bottom+" L"+b.right+","+b.top+" z")&&f(c,"d",e)},d(a){a&&z(c)}}}function Je(b,a){var c,d,e,h;return{c(){c=l("div");d=l("div");e=l("div");h=m(a.annotationValue);e.className="annotation";d.className="annotationTab svelte-1pppif8";
t(d,"background",a.color);c.className="annotationTabParent svelte-1pppif8";t(c,"top",""+(a.w*a.width-2)/2+"px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);e.appendChild(h)},p(a,b){a.annotationValue&&W(h,b.annotationValue);a.color&&t(d,"background",b.color);(a.w||a.width)&&t(c,"top",""+(b.w*b.width-2)/2+"px")},d(a){a&&z(c)}}}function yb(b){x(this,b);this.refs={};this._state=q({dragging:!1,extent:[[0,0],[0,0]],background:!0,round:!1,color:"rgb(255, 130, 0)",enableDragging:!0,upListener:null,
moveListener:null,cursor:"grab",clientWidth:98,clientHeight:98},b.data);this._recompute({clientWidth:1,extent:1,clientHeight:1},this._state);this._intro=!0;this._fragment=Mi(this,this._state);this.root._oncreate.push(()=>{Li.call(this);this.fire("update",{changed:ia({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function Ni(b,a){var c,d,e,h=new O({root:b.root,store:b.store,data:{aspectRatio:1,src:"assets/images/renders/thumbnail-"+a.layerName+
".jpg",border:!1,alt:"thumbnail for "+a.layerName}}),g={enableDragging:!0};if(void 0!==a.extent){g.extent=a.extent;var k=!0}var n=new yb({root:b.root,store:b.store,data:g,_bind(a,c){var d={};!k&&a.extent&&(d.extent=c.extent);b._set(d);k=void 0}});b.root._beforecreate.push(()=>{n._bind({extent:1},n.get())});n.on("drag",function(a){b.fire("drag",a)});var f=new sd({root:b.root,store:b.store,slots:{default:aa()}});return{c(){c=l("div");d=l("div");h._fragment.c();e=m("\n    ");n._fragment.c();f._fragment.c();
t(d,"opacity","0.4");c.className="svelte-15ooxw3 svelte-ref-root"},m(a,g){a.insertBefore(c,g);f._slotted.default.appendChild(d);h._mount(d,null);f._slotted.default.appendChild(e);n._mount(f._slotted.default,null);f._mount(c,null);b.refs.root=c},p(b,c){a=c;c={};b.layerName&&(c.src="assets/images/renders/thumbnail-"+a.layerName+".jpg");b.layerName&&(c.alt="thumbnail for "+a.layerName);h._set(c);c={};!k&&b.extent&&(c.extent=a.extent,k=void 0!==a.extent);n._set(c);k=void 0},d(a){a&&z(c);h.destroy();n.destroy();
f.destroy();b.refs.root===c&&(b.refs.root=null)}}}function Ke(b){x(this,b);this.refs={};this._state=q({scaleCountFactor:200},b.data);this._intro=!0;this._fragment=Ni(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function ud(){}function gc(b){for(var a,c,d=1,e=arguments.length;d<e;d++)for(a in c=arguments[d],c)b[a]=c[a];return b}function Le(b){this.destroy=ud;this.fire("destroy");this.set=this.get=ud;!1!==b&&this._fragment.u();this._fragment.d();this._fragment=
this._state=null}function Me(b,a,c,d,e){for(var h in a)if(c[h]){var g=d[h],k=e[h],n=a[h];if(n)for(var f=0;f<n.length;f+=1){var p=n[f];p.__calling||(p.__calling=!0,p.call(b,g,k),p.__calling=!1)}}}function Ic(b){for(;b&&b.length;)b.shift()()}function Oi(b,a){return a?a:b}function Pi(){let b=(a)=>{this.set({loaded:!0});var {img:a}=this.get();a.removeEventListener("loaded",b)};this.observe("index",(a)=>{this.draw()},{init:!1});this.observe("img",(a)=>{this.draw()},{init:!1});this.observe("loaded",(a)=>
{this.draw()},{init:!1});this.observe("url",(a)=>{let c=this.get("img");c&&c.removeEventListener("load",b);if(vd.has(a))a=vd.get(a),a.loaded?this.set({loaded:!0,img:a.img}):(this.set({loaded:!1,img:a.img}),a.img.addEventListener("load",b));else{let c=new Image;this.set({loaded:!1,img:c});let e={img:c},h=(a)=>{e.loaded=!0;c.removeEventListener("load",h)};c.addEventListener("load",h);c.addEventListener("load",b);vd.set(a,e);c.src=a}})}function Qi(b,a){var c;return{c:function(){c=document.createElement("canvas");
this.h()},h:function(){c.width=a.width;c.height=a.realHeight},m:function(a,e){a.insertBefore(c,e);b.refs.canvas=c},p:function(a,b){a.width&&(c.width=b.width);a.realHeight&&(c.height=b.realHeight)},u:function(){c.parentNode.removeChild(c)},d:function(){b.refs.canvas===c&&(b.refs.canvas=null)}}}function Ne(b){this._observers={pre:Object.create(null),post:Object.create(null)};this._handlers=Object.create(null);this._bind=b._bind;this.options=b;this.root=b.root||this;this.store=this.root.store||b.store;
this.refs={};this._state=gc({url:"",index:0,width:100,loaded:null,columns:Infinity,height:null,img:null},b.data);this._recompute({width:1,height:1},this._state);var a=Pi.bind(this);b.root||(this._oncreate=[]);this._fragment=Qi(this,this._state);this.root._oncreate.push(a);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),Ic(this._oncreate))}function Oe(b){return new Function("d","return {"+b.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}")}function Ri(b,a){var c=
Oe(b);return function(d,e){return a(c(d),e,b)}}function Si(b){var a=Object.create(null),c=[];b.forEach(function(b){for(var d in b)d in a||c.push(a[d]=d)});return c}function Pe(b){function a(a,b){function c(){if(l)return wd;if(m)return m=!1,Qe;var b,c=g,d;if(34===a.charCodeAt(c)){for(;g++<e&&34!==a.charCodeAt(g)||34===a.charCodeAt(++g););(b=g)>=e?l=!0:10===(d=a.charCodeAt(g++))?m=!0:13===d&&(m=!0,10===a.charCodeAt(g)&&++g);return a.slice(c+1,b-1).replace(/""/g,'"')}for(;g<e;){if(10===(d=a.charCodeAt(b=
g++)))m=!0;else if(13===d)m=!0,10===a.charCodeAt(g)&&++g;else if(d!==h)continue;return a.slice(c,b)}return l=!0,a.slice(c,e)}var d=[],e=a.length,g=0,k=0,f,l=0>=e,m=!1;10===a.charCodeAt(e-1)&&--e;for(13===a.charCodeAt(e-1)&&--e;(f=c())!==wd;){for(var w=[];f!==Qe&&f!==wd;)w.push(f),f=c();b&&null==(w=b(w,k++))||d.push(w)}return d}function c(a){return a.map(d).join(b)}function d(a){return null==a?"":e.test(a+="")?'"'+a.replace(/"/g,'""')+'"':a}var e=new RegExp('["'+b+"\n\r]"),h=b.charCodeAt(0);return{parse:function(b,
c){var d,e;b=a(b,function(a,b){if(d)return d(a,b-1);e=a;d=c?Ri(a,c):Oe(a)});b.columns=e||[];return b},parseRows:a,format:function(a,c){null==c&&(c=Si(a));return[c.map(d).join(b)].concat(a.map(function(a){return c.map(function(b){return d(a[b])}).join(b)})).join("\n")},formatRows:function(a){return a.map(c).join("\n")}}}function Re(b){if(b.ok)return b;throw Error(b.status+":"+b.statusText);}function Jc(b){return new Promise((a,c)=>{let d=new Image;d.onload=(b)=>a(d);d.onerror=(a)=>c(a);d.src=b})}function Kc(b){return fetch(b).then(Re).then((a)=>
a.text())}function xd(b,a){a=null!=a?a:Date.now()+""+Math.random();let c="namespace:"+a+", url:"+b+", random:"+Date.now()+Math.random();Lc.set(c,!1);if(yd.has(a)){let b=yd.get(a);Lc.set(b,!0)}yd.set(a,c);return new Promise((a,e)=>{if(Array.isArray(b)){var d=b.map((a)=>Se(a));d=Promise.all(d)}else d=Se(b);d.then((b)=>{Lc.get(c)||a(b)}).catch((a)=>{Lc.get(c)||e(a)})})}function Se(b){if(zd.has(b))return zd.get(b);var a=Te;var c=b.split(".");c=c[c.length-1];a.has(c)||console.warn("Trying to load url: "+
b+' with an unknown filetype. Assuming "text".');a=a.has(c)?c:"text";a=Te.get(a)(b);zd.set(b,a);return a}function Ti({clientWidth:b}){return b}function Ui({model:b,layerName:a}){return b+"_"+a}function Vi(){let {root:b,id:a,grid:c}=this.get(),d=Wi[a];null==d.class_filter&&(d.class_filter="None");null==d.filter&&(d.filter="None");Array.isArray(d.layout)||(d.layout=[d.layout]);Array.isArray(d.layer)||(d.layer=[d.layer]);Array.isArray(d.filter)||(d.filter=[d.filter]);this.set({gridSize:d.grid_size[c],
layerName:d.layer[0]});xd(`${b}/${a}/web/web--grid_size=${d.grid_size[c]}--layout=${d.layout[0]}--class_filter=${d.class_filter}--filter=${d.filter[0]}--layer=${d.layer[0]}--model=${d.model}--sample_images=${d.sample_images}--sample_type=${d.sample_type}.json`).then((a)=>{this.set({icons:a});this.render()})}function Xi({changed:b}){b.classHeatmap&&this.render()}function Yi(b,a){var c,d;return{c(){c=l("div");d=l("canvas");d.width=a.gridSize;d.height=a.gridSize;t(d,"width","100%");d.className="svelte-sjakuy";
t(c,"height",""+a.height+"px")},m(a,h){a.insertBefore(c,h);c.appendChild(d);b.refs.canvas=d},p(a,b){a.gridSize&&(d.width=b.gridSize,d.height=b.gridSize);a.height&&t(c,"height",""+b.height+"px")},d(a){a&&z(c);b.refs.canvas===d&&(b.refs.canvas=null)}}}function Mc(b){x(this,b);this.refs={};this._state=q({root:"gcs-back",model:"inceptionv1",layerName:"mixed4d",grid:1,layout:0,gridSize:10,classHeatmap:-1,icons:[],clientWidth:45},b.data);this._recompute({clientWidth:1,
model:1,layerName:1},this._state);this._intro=!0;this._handlers.update=[Xi];this._fragment=Yi(this,this._state);this.root._oncreate.push(()=>{Vi.call(this);this.fire("update",{changed:ia({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function Ue(b,a,c){b=Object.create(b);b.layer=a[c];b.i=c;return b}function Zi(b,a){for(var c,d=a.layers,e=[],h=0;h<d.length;h+=1)e[h]=Ve(b,Ue(a,d,h));return{c(){c=l("div");for(var a=0;a<e.length;a+=1)e[a].c();
c.className="stack"},m(a,b){a.insertBefore(c,b);for(a=0;a<e.length;a+=1)e[a].m(c,null)},p(a,h){if(a.layerName||a.layers||a.classHeatmap){d=h.layers;for(var g=0;g<d.length;g+=1){let k=Ue(h,d,g);e[g]?e[g].p(a,k):(e[g]=Ve(b,k),e[g].c(),e[g].m(c,null))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){a&&z(c);U(e,a)}}}function Ve(b,a){function c(){b.set({layerName:e.__value})}var d,e,h,g,k,n,r,p=a.layer,y,u,E,A=new Mc({root:b.root,store:b.store,data:{grid:0,layerName:a.layer,classHeatmap:a.classHeatmap}});
return{c(){d=l("label");e=l("input");g=m("\n    ");k=l("div");A._fragment.c();n=m("\n    ");r=l("span");y=m(p);u=m("\n  ");b._bindingGroups[0].push(e);e.addEventListener("change",c,void 0);f(e,"type","radio");e.__value=h=a.layer;e.value=e.__value;e.className="svelte-1lxnb2u";k.className="thumb svelte-1lxnb2u";t(k,"position","relative");r.className="svelte-1lxnb2u";d.className=E="layer "+(a.layerName==a.layer?"selected":"")+" svelte-1lxnb2u"},m(b,c){b.insertBefore(d,c);d.appendChild(e);e.checked=e.__value===
a.layerName;d.appendChild(g);d.appendChild(k);A._mount(k,null);d.appendChild(n);d.appendChild(r);r.appendChild(y);d.appendChild(u)},p(a,b){a.layerName&&(e.checked=e.__value===b.layerName);a.layers&&h!==(h=b.layer)&&(e.__value=h);e.value=e.__value;var c={};a.layers&&(c.layerName=b.layer);a.classHeatmap&&(c.classHeatmap=b.classHeatmap);A._set(c);a.layers&&p!==(p=b.layer)&&W(y,p);(a.layerName||a.layers)&&E!==(E="layer "+(b.layerName==b.layer?"selected":"")+" svelte-1lxnb2u")&&(d.className=E)},d(a){a&&
z(d);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(e),1);e.removeEventListener("change",c,void 0);A.destroy()}}}function We(b){x(this,b);this._state=q({layerName:"mixed4c",layers:"mixed3a mixed3b mixed4a mixed4b mixed4c mixed4d mixed4e mixed5a mixed5b".split(" "),classHeatmap:-1},b.data);this._bindingGroups=[[]];this._intro=!0;this._fragment=Zi(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function $i({inceptionLabels:b}){let a=Nc.map((a)=>({label:b.inception[a],
i:a}));return[{label:"show all",i:-1}].concat(a)}function Xe(b,a,c){b=Object.create(b);b.l=a[c];return b}function aj(b,a){for(var c,d=a.labels,e=[],h=0;h<d.length;h+=1)e[h]=Ye(b,Xe(a,d,h));return{c(){c=l("div");for(var a=0;a<e.length;a+=1)e[a].c();c.className="chooser svelte-xexspk"},m(a,b){a.insertBefore(c,b);for(a=0;a<e.length;a+=1)e[a].m(c,null)},p(a,h){if(a.classHeatmap||a.labels){d=h.labels;for(var g=0;g<d.length;g+=1){let k=Xe(h,d,g);e[g]?e[g].p(a,k):(e[g]=Ye(b,k),e[g].c(),e[g].m(c,null))}for(;g<
e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){a&&z(c);U(e,a)}}}function Ye(b,a){function c(){b.set({classHeatmap:e.__value})}var d,e,h,g,k,n=a.l.label,r,p,y,u;return{c(){d=l("label");e=l("input");g=m("\n      ");k=l("span");r=m(n);y=m("\n    ");b._bindingGroups[0].push(e);e.addEventListener("change",c,void 0);f(e,"type","radio");e.__value=h=a.l.i;e.value=e.__value;e.className="svelte-xexspk";k.title=p=a.l.i;d.className=u=(a.classHeatmap===a.l.i?"selected":"")+" svelte-xexspk"},m(b,c){b.insertBefore(d,
c);d.appendChild(e);e.checked=e.__value===a.classHeatmap;d.appendChild(g);d.appendChild(k);k.appendChild(r);d.appendChild(y)},p(a,b){a.classHeatmap&&(e.checked=e.__value===b.classHeatmap);a.labels&&h!==(h=b.l.i)&&(e.__value=h);e.value=e.__value;a.labels&&n!==(n=b.l.label)&&W(r,n);a.labels&&p!==(p=b.l.i)&&(k.title=p);(a.classHeatmap||a.labels)&&u!==(u=(b.classHeatmap===b.l.i?"selected":"")+" svelte-xexspk")&&(d.className=u)},d(a){a&&z(d);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(e),1);
e.removeEventListener("change",c,void 0)}}}function Ad(b){x(this,b);this._state=q({classesToKeep:Nc,inceptionLabels:Tb,classHeatmap:235},b.data);this._recompute({inceptionLabels:1},this._state);this._bindingGroups=[[]];this._intro=!0;this._fragment=aj(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Ze(b){return new Function("d","return {"+b.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}")}function bj(b,a){var c=Ze(b);return function(d,
e){return a(c(d),e,b)}}function cj(b){var a=Object.create(null),c=[];b.forEach(function(b){for(var d in b)d in a||c.push(a[d]=d)});return c}function $e(b){function a(a,b){function c(){if(l)return Bd;if(m)return m=!1,af;var b,c=g,d;if(34===a.charCodeAt(c)){for(;g++<e&&34!==a.charCodeAt(g)||34===a.charCodeAt(++g););(b=g)>=e?l=!0:10===(d=a.charCodeAt(g++))?m=!0:13===d&&(m=!0,10===a.charCodeAt(g)&&++g);return a.slice(c+1,b-1).replace(/""/g,'"')}for(;g<e;){if(10===(d=a.charCodeAt(b=g++)))m=!0;else if(13===
d)m=!0,10===a.charCodeAt(g)&&++g;else if(d!==h)continue;return a.slice(c,b)}return l=!0,a.slice(c,e)}var d=[],e=a.length,g=0,k=0,f,l=0>=e,m=!1;10===a.charCodeAt(e-1)&&--e;for(13===a.charCodeAt(e-1)&&--e;(f=c())!==Bd;){for(var w=[];f!==af&&f!==Bd;)w.push(f),f=c();b&&null==(w=b(w,k++))||d.push(w)}return d}function c(a){return a.map(d).join(b)}function d(a){return null==a?"":e.test(a+="")?'"'+a.replace(/"/g,'""')+'"':a}var e=new RegExp('["'+b+"\n\r]"),h=b.charCodeAt(0);return{parse:function(b,c){var d,
e;b=a(b,function(a,b){if(d)return d(a,b-1);e=a;d=c?bj(a,c):Ze(a)});b.columns=e||[];return b},parseRows:a,format:function(a,c){null==c&&(c=cj(a));return[c.map(d).join(b)].concat(a.map(function(a){return c.map(function(b){return d(a[b])}).join(b)})).join("\n")},formatRows:function(a){return a.map(c).join("\n")}}}function bf(b){if(b.ok)return b;throw Error(b.status+":"+b.statusText);}function Oc(b){return new Promise((a,c)=>{let d=new Image;d.onload=(b)=>a(d);d.onerror=(a)=>c(a);d.src=b})}function Pc(b){return fetch(b).then(bf).then((a)=>
a.text())}function Cd(b,a){a=null!=a?a:Date.now()+""+Math.random();let c="namespace:"+a+", url:"+b+", random:"+Date.now()+Math.random();Qc.set(c,!1);if(Dd.has(a)){let b=Dd.get(a);Qc.set(b,!0)}Dd.set(a,c);return new Promise((a,e)=>{if(Array.isArray(b)){var d=b.map((a)=>cf(a));d=Promise.all(d)}else d=cf(b);d.then((b)=>{Qc.get(c)||a(b)}).catch((a)=>{Qc.get(c)||e(a)})})}function cf(b){if(Ed.has(b))return Ed.get(b);var a=df;var c=b.split(".");c=c[c.length-1];a.has(c)||console.warn("Trying to load url: "+
b+' with an unknown filetype. Assuming "text".');a=a.has(c)?c:"text";a=df.get(a)(b);Ed.set(b,a);return a}function ef(b,a){return b<a?-1:b>a?1:b>=a?0:NaN}function dj(b){return function(a,c){return ef(b(a),c)}}function da(b,a,c){b=+b;a=+a;c=2>(e=arguments.length)?(a=b,b=0,1):3>e?1:+c;for(var d=-1,e=Math.max(0,Math.ceil((a-b)/c))|0,h=Array(e);++d<e;)h[d]=b+d*c;return h}function ej({changed:b}){if(b.layer||b.classFilter||b.id||b.layout||b.filter){let {root:a,id:c,layer:d,classFilter:e,filter:h,layout:g}=
this.get();this.set({loading:!0});let k=fj[c];this.set({config:k});let f=!1,r=!1;switch(k.layer[d]){case "mixed4a":r=f=!0;break;case "mixed4d":f=!0;r=!1;break;case "mixed5a":f=!0;r=!1;break;case "mixed5b":f=!0,r=!1}null!==e&&(null==k.class_filter&&(k.class_filter="None"),null==k.filter&&(k.filter="None"),Array.isArray(k.grid_size)||(k.grid_size=[k.grid_size]),Array.isArray(k.class_filter)||(k.class_filter=[k.class_filter]),Array.isArray(k.layer)||(k.layer=[k.layer]),Array.isArray(k.layout)||(k.layout=
[k.layout]),Array.isArray(k.filter)||(k.filter=[k.filter]),b=k.grid_size.map((b)=>`${a}/${c}/web/web--grid_size=${b}--layout=${k.layout[g]}--class_filter=${k.class_filter[e]}--filter=${k.filter[h]}--layer=${k.layer[d]}--model=${k.model}--sample_images=${k.sample_images}--sample_type=${k.sample_type}.json`),Cd(b).then((b)=>{let n=Array(b.length);b.forEach((b,l)=>{let p=k.grid_size[l],m=k.tile_size;Array(p/m).keys();let y=[...Array(p).keys()].map((a)=>Array(p));for(let n of b){void 0!==n.x&&(n.grid_x=
n.x);void 0!==n.y&&(n.grid_y=n.y);void 0!==n.n&&(n.num_activations=n.n);void 0!==n.i&&(n.top_class_indices=n.i);void 0!==n.v&&(n.top_class_values=n.v);void 0!==n.f&&(n.full_class_values=n.f,n.full_class_indices=Nc);b=f?p-n.grid_x-1:n.grid_x;let l=r?p-n.grid_y-1:n.grid_y;n.gx=b/p;n.gy=l/p;n.gw=1/p;let u=Math.floor(n.grid_x/m),w=Math.floor(n.grid_y/m);n.localX=n.grid_x%m;n.localY=n.grid_y%m;n.url=`${a}/${c}/render/render--x=${u}--y=${w}--tries=${k.tries}--alpha=${k.alpha?"True":"False"}--tile_size=${k.tile_size}--whiten=${k.whiten}--steps=${k.steps}--icon_size=${k.icon_size}--grid_size=${p}--layout=${k.layout[g]}--class_filter=${k.class_filter[e]}--filter=${k.filter[h]}--layer=${k.layer[d]}--model=${k.model}--sample_images=${k.sample_images}--sample_type=${k.sample_type}.jpg`;
y[b][l]=n}n[l]=y});this.set({layers:n,loading:!1})}))}}function Fd(b){x(this,b);this._state=q({fingerprint:Math.random()+Date.now(),root:"gcs-back",id:"inceptionv1",labels:Tb.inception,layer:0,classFilter:0,filter:0,layout:0,config:null,layers:null,loading:!1},b.data);this._intro=!0;this._handlers.update=[ej];this._fragment={c:X,m:X,p:X,d:X};this.root._oncreate.push(()=>{this.fire("update",{changed:ia({},this._state),current:this._state})});b.target&&(this._fragment.c(),
this._mount(b.target,b.anchor),G(this))}function Gd(){for(var b=0,a=arguments.length,c={},d;b<a;++b){if(!(d=arguments[b]+"")||d in c)throw Error("illegal type: "+d);c[d]=[]}return new Rc(c)}function Rc(b){this._=b}function gj(b,a){return b.trim().split(/^|\s+/).map(function(b){var c="",e=b.indexOf(".");0<=e&&(c=b.slice(e+1),b=b.slice(0,e));if(b&&!a.hasOwnProperty(b))throw Error("unknown type: "+b);return{type:b,name:c}})}function ff(b,a,c){for(var d=0,e=b.length;d<e;++d)if(b[d].name===a){b[d]=hj;
b=b.slice(0,d).concat(b.slice(d+1));break}null!=c&&b.push({name:a,value:c});return b}function Sc(b){var a=b+="",c=a.indexOf(":");0<=c&&"xmlns"!==(a=b.slice(0,c))&&(b=b.slice(c+1));return gf.hasOwnProperty(a)?{space:gf[a],local:b}:b}function ij(b){return function(){var a=this.ownerDocument,c=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===c&&"http://www.w3.org/1999/xhtml"===a.documentElement.namespaceURI?a.createElement(b):a.createElementNS(c,b)}}function jj(b){return function(){return this.ownerDocument.createElementNS(b.space,
b.local)}}function hf(b){b=Sc(b);return(b.local?jj:ij)(b)}function kj(){}function Hd(b){return null==b?kj:function(){return this.querySelector(b)}}function lj(){return[]}function jf(b){return null==b?lj:function(){return this.querySelectorAll(b)}}function kf(b){return Array(b.length)}function Tc(b,a){this.ownerDocument=b.ownerDocument;this.namespaceURI=b.namespaceURI;this._next=null;this._parent=b;this.__data__=a}function mj(b){return function(){return b}}function nj(b,a,c,d,e,h){for(var g=0,k,n=
a.length,f=h.length;g<f;++g)(k=a[g])?(k.__data__=h[g],d[g]=k):c[g]=new Tc(b,h[g]);for(;g<n;++g)if(k=a[g])e[g]=k}function oj(b,a,c,d,e,h,g){var k,n,f={},l=a.length,m=h.length,u=Array(l),E;for(k=0;k<l;++k)if(n=a[k])u[k]=E="$"+g.call(n,n.__data__,k,a),E in f?e[k]=n:f[E]=n;for(k=0;k<m;++k)E="$"+g.call(b,h[k],k,h),(n=f[E])?(d[k]=n,n.__data__=h[k],f[E]=null):c[k]=new Tc(b,h[k]);for(k=0;k<l;++k)(n=a[k])&&f[u[k]]===n&&(e[k]=n)}function pj(b,a){return b<a?-1:b>a?1:b>=a?0:NaN}function qj(b){return function(){this.removeAttribute(b)}}
function rj(b){return function(){this.removeAttributeNS(b.space,b.local)}}function sj(b,a){return function(){this.setAttribute(b,a)}}function tj(b,a){return function(){this.setAttributeNS(b.space,b.local,a)}}function uj(b,a){return function(){var c=a.apply(this,arguments);null==c?this.removeAttribute(b):this.setAttribute(b,c)}}function vj(b,a){return function(){var c=a.apply(this,arguments);null==c?this.removeAttributeNS(b.space,b.local):this.setAttributeNS(b.space,b.local,c)}}function wj(b){return function(){this.style.removeProperty(b)}}
function xj(b,a,c){return function(){this.style.setProperty(b,a,c)}}function yj(b,a,c){return function(){var d=a.apply(this,arguments);null==d?this.style.removeProperty(b):this.style.setProperty(b,d,c)}}function Jb(b,a){return b.style.getPropertyValue(a)||(b.ownerDocument&&b.ownerDocument.defaultView||b.document&&b||b.defaultView).getComputedStyle(b,null).getPropertyValue(a)}function zj(b){return function(){delete this[b]}}function Aj(b,a){return function(){this[b]=a}}function Bj(b,a){return function(){var c=
a.apply(this,arguments);null==c?delete this[b]:this[b]=c}}function Id(b){return b.classList||new lf(b)}function lf(b){this._node=b;this._names=(b.getAttribute("class")||"").trim().split(/^|\s+/)}function mf(b,a){b=Id(b);for(var c=-1,d=a.length;++c<d;)b.add(a[c])}function nf(b,a){b=Id(b);for(var c=-1,d=a.length;++c<d;)b.remove(a[c])}function Cj(b){return function(){mf(this,b)}}function Dj(b){return function(){nf(this,b)}}function Ej(b,a){return function(){(a.apply(this,arguments)?mf:nf)(this,b)}}function Fj(){this.textContent=
""}function Gj(b){return function(){this.textContent=b}}function Hj(b){return function(){var a=b.apply(this,arguments);this.textContent=null==a?"":a}}function Ij(){this.innerHTML=""}function Jj(b){return function(){this.innerHTML=b}}function Kj(b){return function(){var a=b.apply(this,arguments);this.innerHTML=null==a?"":a}}function Lj(){this.nextSibling&&this.parentNode.appendChild(this)}function Mj(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Nj(){return null}
function Oj(){var b=this.parentNode;b&&b.removeChild(this)}function Pj(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Qj(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function Rj(b,a,c){b=of(b,a,c);return function(a){var c=a.relatedTarget;c&&(c===this||c.compareDocumentPosition(this)&8)||b.call(this,a)}}function of(b,a,c){return function(d){var e=P;P=d;try{b.call(this,this.__data__,a,c)}finally{P=e}}}function Sj(b){return b.trim().split(/^|\s+/).map(function(a){var b=
"",d=a.indexOf(".");0<=d&&(b=a.slice(d+1),a=a.slice(0,d));return{type:a,name:b}})}function Tj(b){return function(){var a=this.__on;if(a){for(var c=0,d=-1,e=a.length,h;c<e;++c)(h=a[c],b.type&&h.type!==b.type||h.name!==b.name)?a[++d]=h:this.removeEventListener(h.type,h.listener,h.capture);++d?a.length=d:delete this.__on}}}function Uj(b,a,c){var d=pf.hasOwnProperty(b.type)?Rj:of;return function(e,h,g){e=this.__on;var k;h=d(a,h,g);if(e){g=0;for(var n=e.length;g<n;++g)if((k=e[g]).type===b.type&&k.name===
b.name){this.removeEventListener(k.type,k.listener,k.capture);this.addEventListener(k.type,k.listener=h,k.capture=c);k.value=a;return}}this.addEventListener(b.type,h,c);k={type:b.type,name:b.name,value:a,listener:h,capture:c};e?e.push(k):this.__on=[k]}}function qf(b,a,c){var d=b.ownerDocument&&b.ownerDocument.defaultView||b.document&&b||b.defaultView,e=d.CustomEvent;"function"===typeof e?e=new e(a,c):(e=d.document.createEvent("Event"),c?(e.initEvent(a,c.bubbles,c.cancelable),e.detail=c.detail):e.initEvent(a,
!1,!1));b.dispatchEvent(e)}function Vj(b,a){return function(){return qf(this,b,a)}}function Wj(b,a){return function(){return qf(this,b,a.apply(this,arguments))}}function la(b,a){this._groups=b;this._parents=a}function hb(){return new la([[document.documentElement]],rf)}function Aa(b){return"string"===typeof b?new la([[document.querySelector(b)]],[document.documentElement]):new la([[b]],rf)}function sf(){for(var b=P,a;a=b.sourceEvent;)b=a;return b}function tf(b,a){var c=b.ownerSVGElement||b;if(c.createSVGPoint)return c=
c.createSVGPoint(),c.x=a.clientX,c.y=a.clientY,c=c.matrixTransform(b.getScreenCTM().inverse()),[c.x,c.y];c=b.getBoundingClientRect();return[a.clientX-c.left-b.clientLeft,a.clientY-c.top-b.clientTop]}function Uc(b){var a=sf();a.changedTouches&&(a=a.changedTouches[0]);return tf(b,a)}function uf(b,a,c){3>arguments.length&&(c=a,a=sf().changedTouches);for(var d=0,e=a?a.length:0,h;d<e;++d)if((h=a[d]).identifier===c)return tf(b,h);return null}function Jd(){P.preventDefault();P.stopImmediatePropagation()}
function Xj(b){var a=b.document.documentElement;b=Aa(b).on("dragstart.drag",Jd,!0);if("onselectstart"in a)b.on("selectstart.drag",Jd,!0);else a.__noselect=a.style.MozUserSelect,a.style.MozUserSelect="none"}function Yj(b,a){var c=b.document.documentElement,d=Aa(b).on("dragstart.drag",null);a&&(d.on("click.drag",Jd,!0),setTimeout(function(){d.on("click.drag",null)},0));if("onselectstart"in c)d.on("selectstart.drag",null);else c.style.MozUserSelect=c.__noselect,delete c.__noselect}function Kb(b,a,c){b.prototype=
a.prototype=c;c.constructor=b}function zb(b,a){b=Object.create(b.prototype);for(var c in a)b[c]=a[c];return b}function na(){}function Lb(b){var a;b=(b+"").trim().toLowerCase();return(a=Zj.exec(b))?(a=parseInt(a[1],16),new ba(a>>8&15|a>>4&240,a>>4&15|a&240,(a&15)<<4|a&15,1)):(a=ak.exec(b))?vf(parseInt(a[1],16)):(a=bk.exec(b))?new ba(a[1],a[2],a[3],1):(a=ck.exec(b))?new ba(255*a[1]/100,255*a[2]/100,255*a[3]/100,1):(a=dk.exec(b))?wf(a[1],a[2],a[3],a[4]):(a=ek.exec(b))?wf(255*a[1]/100,255*a[2]/100,255*
a[3]/100,a[4]):(a=fk.exec(b))?xf(a[1],a[2]/100,a[3]/100,1):(a=gk.exec(b))?xf(a[1],a[2]/100,a[3]/100,a[4]):yf.hasOwnProperty(b)?vf(yf[b]):"transparent"===b?new ba(NaN,NaN,NaN,0):null}function vf(b){return new ba(b>>16&255,b>>8&255,b&255,1)}function wf(b,a,c,d){0>=d&&(b=a=c=NaN);return new ba(b,a,c,d)}function Kd(b){b instanceof na||(b=Lb(b));if(!b)return new ba;b=b.rgb();return new ba(b.r,b.g,b.b,b.opacity)}function Ld(b,a,c,d){return 1===arguments.length?Kd(b):new ba(b,a,c,null==d?1:d)}function ba(b,
a,c,d){this.r=+b;this.g=+a;this.b=+c;this.opacity=+d}function Md(b){b=Math.max(0,Math.min(255,Math.round(b)||0));return(16>b?"0":"")+b.toString(16)}function xf(b,a,c,d){0>=d?b=a=c=NaN:0>=c||1<=c?b=a=NaN:0>=a&&(b=NaN);return new pa(b,a,c,d)}function hk(b){if(b instanceof pa)return new pa(b.h,b.s,b.l,b.opacity);b instanceof na||(b=Lb(b));if(!b)return new pa;if(b instanceof pa)return b;b=b.rgb();var a=b.r/255,c=b.g/255,d=b.b/255,e=Math.min(a,c,d),h=Math.max(a,c,d),g=NaN,k=h-e,n=(h+e)/2;k?(g=a===h?(c-
d)/k+6*(c<d):c===h?(d-a)/k+2:(a-c)/k+4,k/=.5>n?h+e:2-h-e,g*=60):k=0<n&&1>n?0:g;return new pa(g,k,n,b.opacity)}function pa(b,a,c,d){this.h=+b;this.s=+a;this.l=+c;this.opacity=+d}function Nd(b,a,c){return 255*(60>b?a+(c-a)*b/60:180>b?c:240>b?a+(c-a)*(240-b)/60:a)}function Od(b){if(b instanceof ua)return new ua(b.l,b.a,b.b,b.opacity);if(b instanceof Ta){if(isNaN(b.h))return new ua(b.l,0,0,b.opacity);var a=b.h*zf;return new ua(b.l,Math.cos(a)*b.c,Math.sin(a)*b.c,b.opacity)}b instanceof ba||(b=Kd(b));
var c=Pd(b.r),d=Pd(b.g),e=Pd(b.b);a=Qd(.2225045*c+.7168786*d+.0606169*e);if(c===d&&d===e)var h=c=a;else h=Qd((.4360747*c+.3850649*d+.1430804*e)/.96422),c=Qd((.0139322*c+.0971045*d+.7141733*e)/.82521);return new ua(116*a-16,500*(h-a),200*(a-c),b.opacity)}function ua(b,a,c,d){this.l=+b;this.a=+a;this.b=+c;this.opacity=+d}function Qd(b){return b>ik?Math.pow(b,1/3):b/Af+Bf}function Rd(b){return b>Oa?b*b*b:Af*(b-Bf)}function Sd(b){return 255*(.0031308>=b?12.92*b:1.055*Math.pow(b,1/2.4)-.055)}function Pd(b){return.04045>=
(b/=255)?b/12.92:Math.pow((b+.055)/1.055,2.4)}function jk(b){if(b instanceof Ta)return new Ta(b.h,b.c,b.l,b.opacity);b instanceof ua||(b=Od(b));if(0===b.a&&0===b.b)return new Ta(NaN,0,b.l,b.opacity);var a=Math.atan2(b.b,b.a)*Cf;return new Ta(0>a?a+360:a,Math.sqrt(b.a*b.a+b.b*b.b),b.l,b.opacity)}function Ta(b,a,c,d){this.h=+b;this.c=+a;this.l=+c;this.opacity=+d}function Ab(b,a,c,d){this.h=+b;this.s=+a;this.l=+c;this.opacity=+d}function Df(b){return function(){return b}}function kk(b,a){return function(c){return b+
c*a}}function lk(b,a,c){return b=Math.pow(b,c),a=Math.pow(a,c)-b,c=1/c,function(d){return Math.pow(b+d*a,c)}}function mk(b){return 1===(b=+b)?Ef:function(a,c){return c-a?lk(a,c,b):Df(isNaN(a)?c:a)}}function Ef(b,a){var c=a-b;return c?kk(b,c):Df(isNaN(b)?a:b)}function rb(b,a){return b=+b,a-=b,function(c){return b+a*c}}function nk(b){return function(){return b}}function ok(b){return function(a){return b(a)+""}}function pk(b,a){var c=Td.lastIndex=Ud.lastIndex=0,d,e,h,g=-1,k=[],n=[];b+="";for(a+="";(d=
Td.exec(b))&&(e=Ud.exec(a));)(h=e.index)>c&&(h=a.slice(c,h),k[g]?k[g]+=h:k[++g]=h),(d=d[0])===(e=e[0])?k[g]?k[g]+=e:k[++g]=e:(k[++g]=null,n.push({i:g,x:rb(d,e)})),c=Ud.lastIndex;c<a.length&&(h=a.slice(c),k[g]?k[g]+=h:k[++g]=h);return 2>k.length?n[0]?ok(n[0].x):nk(a):(a=n.length,function(b){for(var c=0,d;c<a;++c)k[(d=n[c]).i]=d.x(b);return k.join("")})}function Ff(b,a,c,d,e,h){var g,k,n;if(g=Math.sqrt(b*b+a*a))b/=g,a/=g;if(n=b*c+a*d)c-=b*n,d-=a*n;if(k=Math.sqrt(c*c+d*d))c/=k,d/=k,n/=k;b*d<a*c&&(b=
-b,a=-a,n=-n,g=-g);return{translateX:e,translateY:h,rotate:Math.atan2(a,b)*Gf,skewX:Math.atan(n)*Gf,scaleX:g,scaleY:k}}function Hf(b,a,c,d){function e(a){return a.length?a.pop()+" ":""}function h(b,d,e,g,h,k){b!==e||d!==g?(h=h.push("translate(",null,a,null,c),k.push({i:h-4,x:rb(b,e)},{i:h-2,x:rb(d,g)})):(e||g)&&h.push("translate("+e+a+g+c)}function g(a,b,c,g){a!==b?(180<a-b?b+=360:180<b-a&&(a+=360),g.push({i:c.push(e(c)+"rotate(",null,d)-2,x:rb(a,b)})):b&&c.push(e(c)+"rotate("+b+d)}function k(a,b,
c,g){a!==b?g.push({i:c.push(e(c)+"skewX(",null,d)-2,x:rb(a,b)}):b&&c.push(e(c)+"skewX("+b+d)}function n(a,b,c,d,g,h){a!==c||b!==d?(g=g.push(e(g)+"scale(",null,",",null,")"),h.push({i:g-4,x:rb(a,c)},{i:g-2,x:rb(b,d)})):1===c&&1===d||g.push(e(g)+"scale("+c+","+d+")")}return function(a,c){var d=[],e=[];a=b(a);c=b(c);h(a.translateX,a.translateY,c.translateX,c.translateY,d,e);g(a.rotate,c.rotate,d,e);k(a.skewX,c.skewX,d,e);n(a.scaleX,a.scaleY,c.scaleX,c.scaleY,d,e);a=c=null;return function(a){for(var b=
-1,c=e.length,g;++b<c;)d[(g=e[b]).i]=g.x(a);return d.join("")}}}function If(b){return((b=Math.exp(b))+1/b)/2}function qk(b,a){var c=b[0],d=b[1],e=b[2];b=a[2];var h=a[0]-c,g=a[1]-d,k=h*h+g*g;if(1E-12>k){var n=Math.log(b/e)/Ub;b=function(a){return[c+a*h,d+a*g,e*Math.exp(Ub*a*n)]}}else{var f=Math.sqrt(k);a=(b*b-e*e+4*k)/(4*e*f);b=(b*b-e*e-4*k)/(4*b*f);var l=Math.log(Math.sqrt(a*a+1)-a);n=(Math.log(Math.sqrt(b*b+1)-b)-l)/Ub;b=function(a){a*=n;var b=If(l),k=Ub*a+l;var r=((k=Math.exp(2*k))-1)/(k+1);var p=
l;k=((p=Math.exp(p))-1/p)/2;r=e/(2*f)*(b*r-k);return[c+r*h,d+r*g,e*b/If(Ub*a+l)]}}b.duration=1E3*n;return b}function Vc(){return qa||(Jf(rk),qa=Bb.now()+Wc)}function rk(){qa=0}function Xc(){this._call=this._time=this._next=null}function Kf(b,a,c){var d=new Xc;d.restart(b,a,c);return d}function Lf(){qa=(Yc=Bb.now())+Wc;Cb=Db=0;try{Vc();++Cb;for(var b=Zc,a;b;)0<=(a=qa-b._time)&&b._call.call(null,a),b=b._next;--Cb}finally{Cb=0;b=Zc;for(var c=Infinity;b;)if(b._call){c>b._time&&(c=b._time);var d=b;b=b._next}else a=
b._next,b._next=null,b=d?d._next=a:Zc=a;Eb=d;Vd(c);qa=0}}function sk(){var b=Bb.now(),a=b-Yc;1E3<a&&(Wc-=a,Yc=b)}function Vd(b){Cb||(Db&&(Db=clearTimeout(Db)),24<b-qa?(Infinity>b&&(Db=setTimeout(Lf,b-Bb.now()-Wc)),Vb&&(Vb=clearInterval(Vb))):(Vb||(Yc=Bb.now(),Vb=setInterval(sk,1E3)),Cb=1,Jf(Lf)))}function Mf(b,a,c){var d=new Xc;a=null==a?0:+a;d.restart(function(c){d.stop();b(c+a)},a,c);return d}function $c(b,a,c,d,e,h){var g=b.__transition;if(!g)b.__transition={};else if(c in g)return;tk(b,c,{name:a,
index:d,group:e,on:uk,tween:vk,time:h.time,delay:h.delay,duration:h.duration,ease:h.ease,timer:null,state:0})}function Wd(b,a){b=va(b,a);if(0<b.state)throw Error("too late; already scheduled");return b}function Fb(b,a){b=va(b,a);if(2<b.state)throw Error("too late; already started");return b}function va(b,a){b=b.__transition;if(!b||!(b=b[a]))throw Error("transition not found");return b}function tk(b,a,c){function d(f){var n,l;if(1!==c.state)return h();for(u in g){var m=g[u];if(m.name===c.name){if(3===
m.state)return Mf(d);4===m.state?(m.state=6,m.timer.stop(),m.on.call("interrupt",b,b.__data__,m.index,m.group),delete g[u]):+u<a&&(m.state=6,m.timer.stop(),delete g[u])}}Mf(function(){3===c.state&&(c.state=4,c.timer.restart(e,c.delay,c.time),e(f))});c.state=2;c.on.call("start",b,b.__data__,c.index,c.group);if(2===c.state){c.state=3;k=Array(l=c.tween.length);var u=0;for(n=-1;u<l;++u)if(m=c.tween[u].value.call(b,b.__data__,c.index,c.group))k[++n]=m;k.length=n+1}}function e(a){a=a<c.duration?c.ease.call(null,
a/c.duration):(c.timer.restart(h),c.state=5,1);for(var d=-1,e=k.length;++d<e;)k[d].call(null,a);5===c.state&&(c.on.call("end",b,b.__data__,c.index,c.group),h())}function h(){c.state=6;c.timer.stop();delete g[a];for(var d in g)return;delete b.__transition}var g=b.__transition,k;g[a]=c;c.timer=Kf(function(a){c.state=1;c.timer.restart(d,c.delay,c.time);c.delay<=a&&d(a-c.delay)},0,c.time)}function ad(b,a){var c=b.__transition,d,e=!0,h;if(c){a=null==a?null:a+"";for(h in c)if((d=c[h]).name!==a)e=!1;else{var g=
2<d.state&&5>d.state;d.state=6;d.timer.stop();g&&d.on.call("interrupt",b,b.__data__,d.index,d.group);delete c[h]}e&&delete b.__transition}}function wk(b,a){var c,d;return function(){var e=Fb(this,b),h=e.tween;if(h!==c){d=c=h;h=0;for(var g=d.length;h<g;++h)if(d[h].name===a){d=d.slice();d.splice(h,1);break}}e.tween=d}}function xk(b,a,c){var d,e;if("function"!==typeof c)throw Error();return function(){var h=Fb(this,b),g=h.tween;if(g!==d){e=(d=g).slice();g={name:a,value:c};for(var k=0,f=e.length;k<f;++k)if(e[k].name===
a){e[k]=g;break}k===f&&e.push(g)}h.tween=e}}function Xd(b,a,c){var d=b._id;b.each(function(){var b=Fb(this,d);(b.value||(b.value={}))[a]=c.apply(this,arguments)});return function(b){return va(b,d).value[a]}}function Nf(b,a){var c;return("number"===typeof a?rb:a instanceof Lb?Of:(c=Lb(a))?(a=c,Of):pk)(b,a)}function yk(b){return function(){this.removeAttribute(b)}}function zk(b){return function(){this.removeAttributeNS(b.space,b.local)}}function Ak(b,a,c){var d,e;return function(){var h=this.getAttribute(b);
return h===c?null:h===d?e:e=a(d=h,c)}}function Bk(b,a,c){var d,e;return function(){var h=this.getAttributeNS(b.space,b.local);return h===c?null:h===d?e:e=a(d=h,c)}}function Ck(b,a,c){var d,e,h;return function(){var g=c(this);if(null==g)return void this.removeAttribute(b);var k=this.getAttribute(b);return k===g?null:k===d&&g===e?h:h=a(d=k,e=g)}}function Dk(b,a,c){var d,e,h;return function(){var g=c(this);if(null==g)return void this.removeAttributeNS(b.space,b.local);var k=this.getAttributeNS(b.space,
b.local);return k===g?null:k===d&&g===e?h:h=a(d=k,e=g)}}function Ek(b,a){function c(){var c=this,e=a.apply(c,arguments);return e&&function(a){c.setAttributeNS(b.space,b.local,e(a))}}c._value=a;return c}function Fk(b,a){function c(){var c=this,e=a.apply(c,arguments);return e&&function(a){c.setAttribute(b,e(a))}}c._value=a;return c}function Gk(b,a){return function(){Wd(this,b).delay=+a.apply(this,arguments)}}function Hk(b,a){return a=+a,function(){Wd(this,b).delay=a}}function Ik(b,a){return function(){Fb(this,
b).duration=+a.apply(this,arguments)}}function Jk(b,a){return a=+a,function(){Fb(this,b).duration=a}}function Kk(b,a){if("function"!==typeof a)throw Error();return function(){Fb(this,b).ease=a}}function Lk(b){return(b+"").trim().split(/^|\s+/).every(function(a){var b=a.indexOf(".");0<=b&&(a=a.slice(0,b));return!a||"start"===a})}function Mk(b,a,c){var d,e,h=Lk(a)?Wd:Fb;return function(){var g=h(this,b),k=g.on;if(k!==d)(e=(d=k).copy()).on(a,c);g.on=e}}function Nk(b){return function(){var a=this.parentNode,
c;for(c in this.__transition)if(+c!==b)return;a&&a.removeChild(this)}}function Ok(b,a){var c,d,e;return function(){var h=Jb(this,b),g=(this.style.removeProperty(b),Jb(this,b));return h===g?null:h===c&&g===d?e:e=a(c=h,d=g)}}function Pk(b){return function(){this.style.removeProperty(b)}}function Qk(b,a,c){var d,e;return function(){var h=Jb(this,b);return h===c?null:h===d?e:e=a(d=h,c)}}function Rk(b,a,c){var d,e,h;return function(){var g=Jb(this,b),k=c(this);null==k&&(k=(this.style.removeProperty(b),
Jb(this,b)));return g===k?null:g===d&&k===e?h:h=a(d=g,e=k)}}function Sk(b,a,c){function d(){var d=this,h=a.apply(d,arguments);return h&&function(a){d.style.setProperty(b,h(a),c)}}d._value=a;return d}function Tk(b){return function(){this.textContent=b}}function Uk(b){return function(){var a=b(this);this.textContent=null==a?"":a}}function Pa(b,a,c,d){this._groups=b;this._parents=a;this._name=c;this._id=d}function bd(b){return function(){return b}}function Vk(b,a,c){this.target=b;this.type=a;this.transform=
c}function cb(b,a,c){this.k=b;this.x=a;this.y=c}function Pf(b){return b.__zoom||cd}function sb(){P.preventDefault();P.stopImmediatePropagation()}function Wk(){return!P.button}function Xk(){var b=this;if(b instanceof SVGElement){b=b.ownerSVGElement||b;var a=b.width.baseVal.value;b=b.height.baseVal.value}else a=b.clientWidth,b=b.clientHeight;return[[0,0],[a,b]]}function Qf(){return this.__zoom||cd}function Yk(){return-P.deltaY*(P.deltaMode?120:1)/500}function Zk(){return"ontouchstart"in this}function $k(b,
a,c){var d=b.invertX(a[0][0])-c[0][0],e=b.invertX(a[1][0])-c[1][0],h=b.invertY(a[0][1])-c[0][1];a=b.invertY(a[1][1])-c[1][1];return b.translate(e>d?(d+e)/2:Math.min(0,d)||Math.max(0,e),a>h?(h+a)/2:Math.min(0,h)||Math.max(0,a))}function al(){function b(a){a.property("__zoom",Qf).on("wheel.zoom",k).on("mousedown.zoom",f).on("dblclick.zoom",r).filter(T).on("touchstart.zoom",l).on("touchmove.zoom",m).on("touchend.zoom touchcancel.zoom",u).style("touch-action","none").style("-webkit-tap-highlight-color",
"rgba(0,0,0,0)")}function a(a,b){b=Math.max(B[0],Math.min(B[1],b));return b===a.k?a:new cb(b,a.x,a.y)}function c(a,b,c){var d=b[0]-c[0]*a.k;b=b[1]-c[1]*a.k;return d===a.x&&b===a.y?a:new cb(a.k,d,b)}function d(a){return[(+a[0][0]+ +a[1][0])/2,(+a[0][1]+ +a[1][1])/2]}function e(a,b,c){a.on("start.zoom",function(){h(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){h(this,arguments).end()}).tween("zoom",function(){var a=arguments,e=h(this,a),g=A.apply(this,a),k=c||d(g),f=Math.max(g[1][0]-
g[0][0],g[1][1]-g[0][1]);g=this.__zoom;var n="function"===typeof b?b.apply(this,a):b,r=C(g.invert(k).concat(f/g.k),n.invert(k).concat(f/n.k));return function(a){if(1===a)a=n;else{a=r(a);var b=f/a[2];a=new cb(b,k[0]-a[0]*b,k[1]-a[1]*b)}e.zoom(null,a)}})}function h(a,b){for(var c=0,d=t.length,e;c<d;++c)if((e=t[c]).that===a)return e;return new g(a,b)}function g(a,b){this.that=a;this.args=b;this.index=-1;this.active=0;this.extent=A.apply(a,b)}function k(){if(E.apply(this,arguments)){var b=h(this,arguments),
d=this.__zoom,e=Math.max(B[0],Math.min(B[1],d.k*Math.pow(2,w.apply(this,arguments)))),g=Uc(this);if(b.wheel){if(b.mouse[0][0]!==g[0]||b.mouse[0][1]!==g[1])b.mouse[1]=d.invert(b.mouse[0]=g);clearTimeout(b.wheel)}else{if(d.k===e)return;b.mouse=[g,d.invert(g)];ad(this);b.start()}sb();b.wheel=setTimeout(function(){b.wheel=null;b.end()},150);b.zoom("mouse",J(c(a(d,e),b.mouse[0],b.mouse[1]),b.extent,I))}}function f(){if(!K&&E.apply(this,arguments)){var a=h(this,arguments),b=Aa(P.view).on("mousemove.zoom",
function(){sb();if(!a.moved){var b=P.clientX-e,d=P.clientY-g;a.moved=b*b+d*d>M}a.zoom("mouse",J(c(a.that.__zoom,a.mouse[0]=Uc(a.that),a.mouse[1]),a.extent,I))},!0).on("mouseup.zoom",function(){b.on("mousemove.zoom mouseup.zoom",null);Yj(P.view,a.moved);sb();a.end()},!0),d=Uc(this),e=P.clientX,g=P.clientY;Xj(P.view);P.stopImmediatePropagation();a.mouse=[d,this.__zoom.invert(d)];ad(this);a.start()}}function r(){if(E.apply(this,arguments)){var d=this.__zoom,g=Uc(this),h=d.invert(g);d=J(c(a(d,d.k*(P.shiftKey?
.5:2)),g,h),A.apply(this,arguments),I);sb();0<H?Aa(this).transition().duration(H).call(e,d,g):Aa(this).call(b.transform,d)}}function l(){if(E.apply(this,arguments)){var a=h(this,arguments),b=P.changedTouches,c=b.length,d;P.stopImmediatePropagation();for(d=0;d<c;++d){var e=b[d];var g=uf(this,b,e.identifier);g=[g,this.__zoom.invert(g),e.identifier];if(a.touch0)a.touch1||(a.touch1=g);else{a.touch0=g;var k=!0}}if(F&&(F=clearTimeout(F),!a.touch1)){a.end();(g=Aa(this).on("dblclick.zoom"))&&g.apply(this,
arguments);return}k&&(F=setTimeout(function(){F=null},500),ad(this),a.start())}}function m(){var b=h(this,arguments),d=P.changedTouches,e=d.length,g;sb();F&&(F=clearTimeout(F));for(g=0;g<e;++g){var k=d[g];var f=uf(this,d,k.identifier);b.touch0&&b.touch0[2]===k.identifier?b.touch0[0]=f:b.touch1&&b.touch1[2]===k.identifier&&(b.touch1[0]=f)}k=b.that.__zoom;if(b.touch1){f=b.touch0[0];d=b.touch0[1];g=b.touch1[0];e=b.touch1[1];var n=(n=g[0]-f[0])*n+(n=g[1]-f[1])*n;var r=(r=e[0]-d[0])*r+(r=e[1]-d[1])*r;
k=a(k,Math.sqrt(n/r));f=[(f[0]+g[0])/2,(f[1]+g[1])/2];n=[(d[0]+e[0])/2,(d[1]+e[1])/2]}else if(b.touch0)f=b.touch0[0],n=b.touch0[1];else return;b.zoom("touch",J(c(k,f,n),b.extent,I))}function u(){var a=h(this,arguments),b=P.changedTouches,c=b.length,d;P.stopImmediatePropagation();K&&clearTimeout(K);K=setTimeout(function(){K=null},500);for(d=0;d<c;++d){var e=b[d];a.touch0&&a.touch0[2]===e.identifier?delete a.touch0:a.touch1&&a.touch1[2]===e.identifier&&delete a.touch1}a.touch1&&!a.touch0&&(a.touch0=
a.touch1,delete a.touch1);a.touch0?a.touch0[1]=this.__zoom.invert(a.touch0[0]):a.end()}var E=Wk,A=Xk,J=$k,w=Yk,T=Zk,B=[0,Infinity],I=[[-Infinity,-Infinity],[Infinity,Infinity]],H=250,C=qk,t=[],v=Gd("start","zoom","end"),F,K,M=0;b.transform=function(a,b){var c=a.selection?a.selection():a;c.property("__zoom",Qf);a!==c?e(a,b):c.interrupt().each(function(){h(this,arguments).start().zoom(null,"function"===typeof b?b.apply(this,arguments):b).end()})};b.scaleBy=function(a,c){b.scaleTo(a,function(){var a=
this.__zoom.k,b="function"===typeof c?c.apply(this,arguments):c;return a*b})};b.scaleTo=function(e,g){b.transform(e,function(){var b=A.apply(this,arguments),e=this.__zoom,h=d(b),k=e.invert(h),f="function"===typeof g?g.apply(this,arguments):g;return J(c(a(e,f),h,k),b,I)})};b.translateBy=function(a,c,d){b.transform(a,function(){return J(this.__zoom.translate("function"===typeof c?c.apply(this,arguments):c,"function"===typeof d?d.apply(this,arguments):d),A.apply(this,arguments),I)})};b.translateTo=function(a,
c,e){b.transform(a,function(){var a=A.apply(this,arguments),b=this.__zoom,g=d(a);return J(cd.translate(g[0],g[1]).scale(b.k).translate("function"===typeof c?-c.apply(this,arguments):-c,"function"===typeof e?-e.apply(this,arguments):-e),a,I)})};g.prototype={start:function(){1===++this.active&&(this.index=t.push(this)-1,this.emit("start"));return this},zoom:function(a,b){this.mouse&&"mouse"!==a&&(this.mouse[1]=b.invert(this.mouse[0]));this.touch0&&"touch"!==a&&(this.touch0[1]=b.invert(this.touch0[0]));
this.touch1&&"touch"!==a&&(this.touch1[1]=b.invert(this.touch1[0]));this.that.__zoom=b;this.emit("zoom");return this},end:function(){0===--this.active&&(t.splice(this.index,1),this.index=-1,this.emit("end"));return this},emit:function(a){var c=new Vk(b,a,this.that.__zoom),d=v.apply;a=[a,this.that,this.args];var e=P;c.sourceEvent=P;P=c;try{d.apply(v,a)}finally{P=e}}};b.wheelDelta=function(a){return arguments.length?(w="function"===typeof a?a:bd(+a),b):w};b.filter=function(a){return arguments.length?
(E="function"===typeof a?a:bd(!!a),b):E};b.touchable=function(a){return arguments.length?(T="function"===typeof a?a:bd(!!a),b):T};b.extent=function(a){return arguments.length?(A="function"===typeof a?a:bd([[+a[0][0],+a[0][1]],[+a[1][0],+a[1][1]]]),b):A};b.scaleExtent=function(a){return arguments.length?(B[0]=+a[0],B[1]=+a[1],b):[B[0],B[1]]};b.translateExtent=function(a){return arguments.length?(I[0][0]=+a[0][0],I[1][0]=+a[1][0],I[0][1]=+a[0][1],I[1][1]=+a[1][1],b):[[I[0][0],I[0][1]],[I[1][0],I[1][1]]]};
b.constrain=function(a){return arguments.length?(J=a,b):J};b.duration=function(a){return arguments.length?(H=+a,b):H};b.interpolate=function(a){return arguments.length?(C=a,b):C};b.on=function(){var a=v.on.apply(v,arguments);return a===v?b:a};b.clickDistance=function(a){return arguments.length?(M=(a=+a)*a,b):Math.sqrt(M)};return b}function bl(b){return function(){return b}}function Yd(b,a){if(b===a||b!==b)return bl(b);var c=typeof b;if(c!==typeof a||Array.isArray(b)!==Array.isArray(a))throw Error("Cannot interpolate values of different type");
if(Array.isArray(b)){var d=a.map(function(a,c){return Yd(b[c],a)});return function(a){return d.map(function(b){return b(a)})}}if("object"===c){if(!b||!a)throw Error("Object cannot be null");if("[object Date]"===Object.prototype.toString.call(b)&&"[object Date]"===Object.prototype.toString.call(a)){b=b.getTime();a=a.getTime();var e=a-b;return function(a){return new Date(b+a*e)}}var h=Object.keys(a),g={},k={};h.forEach(function(c){g[c]=Yd(b[c],a[c])});return function(a){h.forEach(function(b){k[b]=g[b](a)});
return k}}if("number"===c){var f=a-b;return function(a){return b+a*f}}throw Error("Cannot interpolate "+c+" values");}function cl(b){return b}function dl({clientWidth:b,clientHeight:a}){return Math.min(b,a)}function el({msx:b,msy:a}){return void 0!=b&&void 0!=a}function fl({transform:b,msx:a,msy:c}){return b&&void 0!=a&&void 0!=c?[b.invertX(a),b.invertY(c)]:null}function gl({scale:b,translateX:a,translateY:c,minSize:d,clientWidth:e,clientHeight:h}){a=-a/b;c=-c/b;return[[a/d,(a+e/b)/d],[c/d,(c+h/b)/
d]]}function hl({extent:b}){return(b[0][0]+b[0][1])/2}function il({extent:b}){return(b[1][0]+b[1][1])/2}function jl(){let {z:b,scaleExtent:a,minSize:c,homeScale:d,homeX:e,homeY:h,disableBehaviors:g}=this.get(),k=this;b.wheelDelta(()=>{let a=-P.deltaY*(P.deltaMode?120:1)/500;P.ctrlKey&&(a*=10);return a});b.scaleExtent(a);let f=Aa(this.refs.root);this.set({selection:f,el:this.refs.root});g||b(f);b.filter(this.zoomEventFilter.bind(this));b.on("zoom",()=>{this.onzoom(k)});b.translateTo(f,e*c,h*c);b.scaleTo(f,
d)}function Rf({changed:b,current:a,previous:c}){void 0!=c&&(b.clientWidth||b.clientHeight)&&a.el&&this.update();let {}=this.get()}function kl(b,a){function c(a){b.mouseMove(a)}function d(a){b.set({msx:null,msy:null})}function e(a){b.set({msx:null,msy:null})}var h,g=b._slotted.default;return{c(){h=l("div");h.addEventListener("mousemove",c,void 0);h.addEventListener("mousedown",d,void 0);h.addEventListener("mouseout",e,void 0);h.className="d3zoom svelte-kaete3 svelte-ref-root"},m(a,c){a.insertBefore(h,
c);g&&h.appendChild(g);b.refs.root=h},p:X,d(a){a&&z(h);g&&Sa(h,g);h.removeEventListener("mousemove",c,void 0);h.removeEventListener("mousedown",d,void 0);h.removeEventListener("mouseout",e,void 0);b.refs.root===h&&(b.refs.root=null)}}}function dd(b){x(this,b);this.refs={};this._state=q({z:al(),el:null,selection:null,transform:null,scaleExtent:[1,48],homeScale:1,homeX:.5,homeY:.5,scale:null,translateX:null,translateY:null,k:1,x:0,y:0,msx:null,msy:null,disableBehaviors:!1,scrollWheel:!1},b.data);this._recompute({clientWidth:1,
clientHeight:1,msx:1,msy:1,transform:1,minSize:1,scale:1,translateX:1,translateY:1,extent:1},this._state);this._intro=!0;this._handlers.state=[Rf];this._slotted=b.slots||{};Rf.call(this,{changed:ia({},this._state),current:this._state});this._fragment=kl(this,this._state);this.root._oncreate.push(()=>{jl.call(this);this.fire("update",{changed:ia({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function ll({layers:b,layer:a}){if(null==b)return 0;
let c=0;b[a].forEach((a)=>{a.forEach((a)=>{a&&500<a.num_activations&&(a=a.full_class_values[0],a>c&&(c=a))})});return c}function ml({viewWidth:b,screenResolution:a}){return b*a}function nl({viewHeight:b,screenResolution:a}){return b*a}function ol({scale:b,gridSize:a,config:c,classHeatmap:d,w:e,h,autoGridSizeMultiplier:g}){b=-1<a?+a:Math.floor(Math.sqrt(Math.max(e,h)*b/80/g/20));c&&(b=Math.min(c.grid_size.length-1,b));-1<d&&(b=Math.min(2,b));return b}function pl({currentZoomIndex:b,layers:a}){return a?
a[b]:[[]]}function ql({labelsBufferContext:b,labels:a,fontSize:c,textColor:d,textShadowColor:e}){b&&a&&(b.globalAlpha=1,b.font=c+"px Helvetica",a.forEach((a,c)=>{b.lineWidth=3;b.lineJoin="round";b.strokeStyle=e;b.strokeText(a,c%10*150+10,20*Math.floor(c/10+1),80,15);b.fillStyle=d;b.fillStyle=d;b.fillText(a,c%10*150+10,20*Math.floor(c/10+1),80,15)}))}function rl({hoverIconData:b,mouseGlobalPosition:a}){return a&&b&&b.gcx}function sl({currentLayerData:b,mouseGlobalPosition:a,w:c,h:d}){if(b){let e=b.length;
if(a){let h=Math.floor(a[0]/Math.min(c,d)*e);a=Math.floor(a[1]/Math.min(c,d)*e);return b[a]&&b[a][h]?b[a][h]:{}}}return{}}function tl({hoverIconData:b,scale:a,w:c,h:d,translateX:e}){return b.gy*a*Math.min(c,d)+e}function ul({hoverIconData:b,scale:a,w:c,h:d,translateY:e}){return b.gx*a*Math.min(c,d)+e}function vl({hoverIconData:b,scale:a,w:c,h:d}){return b.gw*a*Math.min(c,d)}function wl({mouseGlobalPosition:b,hoverIconData:a,enableHover:c}){return c&&b&&a&&a.gw}function xl(){let {tooltip:b}=this.store.get();
this.refs.d3Zoom.on("zoom",()=>{b.hide()});let a=document.createElement("canvas");a.width=1500;a.height=2040;let c=a.getContext("2d");this.set({labelsBufferCanvas:a,labelsBufferContext:c});setTimeout(()=>{this.measure();this.home()},10)}function yl({changed:b,current:a}){if(!a.context||b.viewWidth||b.viewHeight){var c=this.refs.labelsCanvas.getContext("2d");c.imageSmoothingEnabled=!1;this.set({context:this.refs.canvas.getContext("2d"),labelsContext:c})}(b.loading||b.autoGridSizeMultiplier||b.labels||
b.density||b.maxAttributionValue||b.classHeatmap||b.classHeatmapMultiplier||b.classHeatmapPositive||b.showLabels||b.viewWidth||b.viewHeight||b.scale||b.translateX||b.translateY||b.iconCrop||b.gridSize||b.layers)&&this.render();if(b.hoverIconData){var {tooltip:c}=this.store.get();let {showHoverIcon:b}=this.get();b?c.show(a.hoverIconData):c.hide()}if(b.showHoverIcon&&0==a.showHoverIcon){var {tooltip:b}=this.store.get();b.hide()}}function zl(b,a){function c(a){b.measure()}var d,e,h,g,k,f,r,p,y,u,E,A;
window.addEventListener("resize",c);var J={};if(void 0!==a.ready){J.ready=a.ready;var w=!0}var T=new Rb({root:b.root,store:b.store,data:J,_bind(a,c){var d={};!w&&a.ready&&(d.ready=c.ready);b._set(d);w=void 0}});b.root._beforecreate.push(()=>{T._bind({ready:1},T.get())});var B=a.ready&&Sf(b,a),I=a.showHoverIcon&&Tf(b,a);J={clientWidth:a.viewWidth,clientHeight:a.viewHeight,homeX:a.homeX,homeY:a.homeY,homeScale:a.homeScale};if(void 0!==a.scale){J.scale=a.scale;var H=!0}if(void 0!==a.translateX){J.translateX=
a.translateX;var C=!0}if(void 0!==a.translateY){J.translateY=a.translateY;var t=!0}if(void 0!==a.mouseOver){J.mouseOver=a.mouseOver;var v=!0}if(void 0!==a.mouseGlobalPosition){J.mouseGlobalPosition=a.mouseGlobalPosition;var F=!0}if(void 0!==a.extent){J.extent=a.extent;var K=!0}if(void 0!==a.scrollWheel){J.scrollWheel=a.scrollWheel;var M=!0}if(void 0!==a.disableBehaviors){J.disableBehaviors=a.disableBehaviors;var N=!0}if(void 0!==a.gcx){J.gcx=a.gcx;var S=!0}if(void 0!==a.gcy){J.gcy=a.gcy;var q=!0}var R=
new dd({root:b.root,store:b.store,slots:{default:aa()},data:J,_bind(a,c){var d={};!H&&a.scale&&(d.scale=c.scale);!C&&a.translateX&&(d.translateX=c.translateX);!t&&a.translateY&&(d.translateY=c.translateY);!v&&a.mouseOver&&(d.mouseOver=c.mouseOver);!F&&a.mouseGlobalPosition&&(d.mouseGlobalPosition=c.mouseGlobalPosition);!K&&a.extent&&(d.extent=c.extent);!M&&a.scrollWheel&&(d.scrollWheel=c.scrollWheel);!N&&a.disableBehaviors&&(d.disableBehaviors=c.disableBehaviors);!S&&a.gcx&&(d.gcx=c.gcx);!q&&a.gcy&&
(d.gcy=c.gcy);b._set(d);q=S=N=M=K=F=v=t=C=H=void 0}});b.root._beforecreate.push(()=>{R._bind({scale:1,translateX:1,translateY:1,mouseOver:1,mouseGlobalPosition:1,extent:1,scrollWheel:1,disableBehaviors:1,gcx:1,gcy:1},R.get())});b.refs.d3Zoom=R;return{c(){T._fragment.c();d=m("\n\n\n");B&&B.c();e=m("\n\n");h=l("div");g=l("canvas");r=m("\n    ");p=l("canvas");E=m("\n    ");I&&I.c();A=ma();R._fragment.c();g.width=k=a.viewWidth*a.screenResolution;g.height=f=a.viewHeight*a.screenResolution;g.className=
"svelte-w9b5xg svelte-ref-canvas";p.width=y=a.viewWidth*a.screenResolution;p.height=u=a.viewHeight*a.screenResolution;p.className="svelte-w9b5xg svelte-ref-labelsCanvas";h.className="svelte-w9b5xg svelte-ref-root"},m(a,c){T._mount(a,c);a.insertBefore(d,c);B&&B.m(a,c);a.insertBefore(e,c);a.insertBefore(h,c);R._slotted.default.appendChild(g);b.refs.canvas=g;R._slotted.default.appendChild(r);R._slotted.default.appendChild(p);b.refs.labelsCanvas=p;R._slotted.default.appendChild(E);I&&I.m(R._slotted.default,
null);R._slotted.default.appendChild(A);R._mount(h,null);b.refs.root=h},p(c,d){a=d;d={};!w&&c.ready&&(d.ready=a.ready,w=void 0!==a.ready);T._set(d);w=void 0;a.ready?B?B.p(c,a):(B=Sf(b,a),B.c(),B.m(e.parentNode,e)):B&&(B.d(1),B=null);(c.viewWidth||c.screenResolution)&&k!==(k=a.viewWidth*a.screenResolution)&&(g.width=k);(c.viewHeight||c.screenResolution)&&f!==(f=a.viewHeight*a.screenResolution)&&(g.height=f);(c.viewWidth||c.screenResolution)&&y!==(y=a.viewWidth*a.screenResolution)&&(p.width=y);(c.viewHeight||
c.screenResolution)&&u!==(u=a.viewHeight*a.screenResolution)&&(p.height=u);a.showHoverIcon?I?I.p(c,a):(I=Tf(b,a),I.c(),I.m(A.parentNode,A)):I&&(I.d(1),I=null);d={};c.viewWidth&&(d.clientWidth=a.viewWidth);c.viewHeight&&(d.clientHeight=a.viewHeight);c.homeX&&(d.homeX=a.homeX);c.homeY&&(d.homeY=a.homeY);c.homeScale&&(d.homeScale=a.homeScale);!H&&c.scale&&(d.scale=a.scale,H=void 0!==a.scale);!C&&c.translateX&&(d.translateX=a.translateX,C=void 0!==a.translateX);!t&&c.translateY&&(d.translateY=a.translateY,
t=void 0!==a.translateY);!v&&c.mouseOver&&(d.mouseOver=a.mouseOver,v=void 0!==a.mouseOver);!F&&c.mouseGlobalPosition&&(d.mouseGlobalPosition=a.mouseGlobalPosition,F=void 0!==a.mouseGlobalPosition);!K&&c.extent&&(d.extent=a.extent,K=void 0!==a.extent);!M&&c.scrollWheel&&(d.scrollWheel=a.scrollWheel,M=void 0!==a.scrollWheel);!N&&c.disableBehaviors&&(d.disableBehaviors=a.disableBehaviors,N=void 0!==a.disableBehaviors);!S&&c.gcx&&(d.gcx=a.gcx,S=void 0!==a.gcx);!q&&c.gcy&&(d.gcy=a.gcy,q=void 0!==a.gcy);
R._set(d);q=S=N=M=K=F=v=t=C=H=void 0},d(a){window.removeEventListener("resize",c);T.destroy(a);a&&z(d);B&&B.d(a);a&&(z(e),z(h));b.refs.canvas===g&&(b.refs.canvas=null);b.refs.labelsCanvas===p&&(b.refs.labelsCanvas=null);I&&I.d();R.destroy();b.refs.d3Zoom===R&&(b.refs.d3Zoom=null);b.refs.root===h&&(b.refs.root=null)}}}function Sf(b,a){var c={id:a.id,layer:a.layer,layout:a.layout,classFilter:a.classFilter,filter:a.filter};if(void 0!==a.config){c.config=a.config;var d=!0}if(void 0!==a.layers){c.layers=
a.layers;var e=!0}if(void 0!==a.labels){c.labels=a.labels;var h=!0}if(void 0!==a.loading){c.loading=a.loading;var g=!0}var f=new Fd({root:b.root,store:b.store,data:c,_bind(a,c){var f={};!d&&a.config&&(f.config=c.config);!e&&a.layers&&(f.layers=c.layers);!h&&a.labels&&(f.labels=c.labels);!g&&a.loading&&(f.loading=c.loading);b._set(f);g=h=e=d=void 0}});b.root._beforecreate.push(()=>{f._bind({config:1,layers:1,labels:1,loading:1},f.get())});return{c(){f._fragment.c()},m(a,b){f._mount(a,b)},p(b,c){a=
c;c={};b.id&&(c.id=a.id);b.layer&&(c.layer=a.layer);b.layout&&(c.layout=a.layout);b.classFilter&&(c.classFilter=a.classFilter);b.filter&&(c.filter=a.filter);!d&&b.config&&(c.config=a.config,d=void 0!==a.config);!e&&b.layers&&(c.layers=a.layers,e=void 0!==a.layers);!h&&b.labels&&(c.labels=a.labels,h=void 0!==a.labels);!g&&b.loading&&(c.loading=a.loading,g=void 0!==a.loading);f._set(c);g=h=e=d=void 0},d(a){f.destroy(a)}}}function Tf(b,a){var c;return{c(){c=l("div");t(c,"left",""+a.hoverIconX+"px");
t(c,"top",""+a.hoverIconY+"px");t(c,"width",""+a.hoverIconW+"px");t(c,"height",""+a.hoverIconW+"px");c.className="svelte-w9b5xg svelte-ref-hover"},m(a,e){a.insertBefore(c,e);b.refs.hover=c},p(a,b){a.hoverIconX&&t(c,"left",""+b.hoverIconX+"px");a.hoverIconY&&t(c,"top",""+b.hoverIconY+"px");a.hoverIconW&&(t(c,"width",""+b.hoverIconW+"px"),t(c,"height",""+b.hoverIconW+"px"))},d(a){a&&z(c);b.refs.hover===c&&(b.refs.hover=null)}}}function ic(b){x(this,b);this.refs={};this._state=q({ready:!0,id:"inceptionv1_mixed4c",
config:null,layers:null,layer:0,layout:0,classFilter:0,filter:0,context:null,alphaAttributionFactor:.02,density:1,classHeatmap:-1,classHeatmapMultiplier:1,classHeatmapPositive:1,iconCrop:.02,autoGridSizeMultiplier:.5,gridSize:null,homeX:.5,homeY:.5,homeScale:1,enableClickToZoom:!0,enableHover:!0,enableDragToPan:!0,backgroundColor:"white",strokeColor:"rgb(220, 220, 220)",strokeThickness:1,imageSmoothing:!1,fontSize:10,textColor:"white",textShadowColor:"rgba(0, 0, 0, 0.6)",showLabels:!0,screenResolution:1},
b.data);this._recompute({layers:1,layer:1,viewWidth:1,screenResolution:1,viewHeight:1,scale:1,gridSize:1,config:1,classHeatmap:1,w:1,h:1,autoGridSizeMultiplier:1,currentZoomIndex:1,labelsBufferContext:1,labels:1,fontSize:1,textColor:1,textShadowColor:1,currentLayerData:1,mouseGlobalPosition:1,translateX:1,translateY:1,hoverIconData:1,enableHover:1},this._state);this._intro=!0;this._handlers.update=[yl];this._fragment=zl(this,this._state);this.root._oncreate.push(()=>{xl.call(this);this.fire("update",
{changed:ia({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function Al(b,a){var c,d,e=b._slotted.head,h,g,f=b._slotted.body;return{c(){c=l("div");d=l("div");h=m("\n  ");g=l("div");d.className="head svelte-l56anp";g.className="body svelte-l56anp";c.className="root svelte-l56anp"},m(a,b){a.insertBefore(c,b);c.appendChild(d);e&&d.appendChild(e);c.appendChild(h);c.appendChild(g);f&&g.appendChild(f)},p:X,d(a){a&&z(c);e&&Sa(d,e);f&&Sa(g,f)}}}
function Zd(b){x(this,b);this._state=q({},b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=Al(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Bl({clientWidth:b,minWidth:a}){return b/Math.max(b,a)}function Cl({clientWidth:b,minWidth:a}){return Math.max(b,a)+"px"}function Dl({clientHeight:b,scale:a}){return b/a+"px"}function El(b,a){var c,d,e=b._slotted.default;return{c(){c=l("div");d=l("div");t(d,"transform","scale("+a.scale+")");t(d,"width",
a.finalWidth);t(d,"height",""+a.finalHeight+a.style+"\n    ");d.className="svelte-fkjf8u svelte-ref-frame";c.className="svelte-fkjf8u svelte-ref-root"},m(a,g){a.insertBefore(c,g);c.appendChild(d);e&&d.appendChild(e);b.refs.frame=d;b.refs.root=c},p(a,b){a.scale&&t(d,"transform","scale("+b.scale+")");a.finalWidth&&t(d,"width",b.finalWidth);(a.finalHeight||a.style)&&t(d,"height",""+b.finalHeight+b.style+"\n    ")},d(a){a&&z(c);e&&Sa(d,e);b.refs.frame===d&&(b.refs.frame=null);b.refs.root===c&&(b.refs.root=
null)}}}function ed(b){x(this,b);this.refs={};this._state=q({style:"",aspectRatio:1,minWidth:800,clientWidth:1E3,clientHeight:1E3},b.data);this._recompute({clientWidth:1,minWidth:1,width:1,clientHeight:1,scale:1},this._state);this._intro=!0;this._slotted=b.slots||{};this._fragment=El(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Fl({gridSize:b}){return 20*(b+1)}function Gl({iconScaleFactor:b,realGridSize:a}){return 1E6/(a*a*b)}function Hl(){let {loadTarget:b}=
this.get(),a=new URLSearchParams(window.location.search);if(a.has("layer")){let b=decodeURIComponent(a.get("layer"));this.set({layerName:b})}b&&setTimeout(()=>{this.zoomTo(b.x,b.y,b.scale,0)},10);if(a.has("poi")){let b=a.get("poi").split(",").map(parseFloat);setTimeout(()=>{this.zoomTo(...b,4E3)},1E3)}}function Il(b,a){function c(){b.set({showLabels:ra.checked})}function d(){b.set({enableHover:X.checked})}function e(){b.store.set({scroll:wa.checked})}function h(){b.set({gridSize:fa.__value})}function g(){b.set({gridSize:Ca.__value})}
function k(){b.set({gridSize:za.__value})}function n(){b.set({gridSize:Qa.__value})}function r(){b.set({gridSize:Ga.__value})}function p(){b.set({gridSize:Ha.__value})}function y(){b.set({autoGridSizeMultiplier:ld(Ra.value)})}function u(){b.set({density:ld(Ia.value)})}function E(){b.set({classHeatmapPositive:db.__value})}function A(){b.set({classHeatmapPositive:eb.__value})}function J(){b.set({classHeatmapMultiplier:ld(lb.value)})}function w(a){b.toggle()}var T,B,I,H,C,v,q,F,K,M,N,S,z,R,gb,V,ja,ka,
Z,cc,kb,hc,x,D,G,Q,P,U,O,ra,da,Da,Ea,X,Ua,Uf,mb,wa,Ba,xa,sa,Y,ha,ca,gd,ta,Ja,fa,dc,Wb,Xb,Ca,ba,ma,ea,za,ia,ab,oa,Qa,la,va,ya,Ga,nb,$a,pa,Ha,ua,bb,fb,Ka,Sa,oc,Ta,Ra,Pa,qb,ob,cb,La,Va,Ia,Wa,Fa,Ma,Vf,pc,db,Xa,Ya,na,eb,rb,tb,Aa,Ab,qa,Fb,lb,Hb,Gb,Za,Jb,hb,Kb,Oa=jc(a.gcx),Cb,Mb,ub,Nb,wb=jc(a.gcy),Ib,Rb,yb,Tb,zb=jc(a.scale),Lb,Ub,Bb,ec,Db=a.showOptions?"fewer options":"more options",Eb,ib=a.backLink&&Wf(b,a),Vb={};if(void 0!==a.classHeatmap){Vb.classHeatmap=a.classHeatmap;var sb=!0}var kc=new Ad({root:b.root,
store:b.store,data:Vb,_bind(a,c){var d={};!sb&&a.classHeatmap&&(d.classHeatmap=c.classHeatmap);b._set(d);sb=void 0}});b.root._beforecreate.push(()=>{kc._bind({classHeatmap:1},kc.get())});var lc=new Zd({root:b.root,store:b.store,slots:{default:aa(),body:aa(),head:aa()}}),Zb={classHeatmap:a.classHeatmap};if(void 0!==a.layerName){Zb.layerName=a.layerName;var vb=!0}var mc=new We({root:b.root,store:b.store,data:Zb,_bind(a,c){var d={};!vb&&a.layerName&&(d.layerName=c.layerName);b._set(d);vb=void 0}});b.root._beforecreate.push(()=>
{mc._bind({layerName:1},mc.get())});var nc=new Zd({root:b.root,store:b.store,slots:{default:aa(),body:aa(),head:aa()}}),jb={id:"inceptionv1_"+a.layerName,strokeColor:"#666",backgroundColor:"#dfdfdf",showHoverImage:!1,classHeatmap:a.classHeatmap,homeX:a.homeX,homeY:a.homeY,homeScale:a.homeScale};if(void 0!==a.density){jb.density=a.density;var xb=!0}if(void 0!==a.iconCrop){jb.iconCrop=a.iconCrop;var qc=!0}if(void 0!==a.classHeatmapMultiplier){jb.classHeatmapMultiplier=a.classHeatmapMultiplier;var rc=
!0}if(void 0!==a.classHeatmapPositive){jb.classHeatmapPositive=a.classHeatmapPositive;var sc=!0}if(void 0!==a.autoGridSizeMultiplier){jb.autoGridSizeMultiplier=a.autoGridSizeMultiplier;var tc=!0}if(void 0!==a.gridSize){jb.gridSize=a.gridSize;var uc=!0}if(void 0!==a.showLabels){jb.showLabels=a.showLabels;var vc=!0}if(void 0!==a.enableHover){jb.enableHover=a.enableHover;var wc=!0}if(void 0!==a.scale){jb.scale=a.scale;var xc=!0}if(void 0!==a.gcx){jb.gcx=a.gcx;var yc=!0}if(void 0!==a.gcy){jb.gcy=a.gcy;
var zc=!0}if(void 0!==a.extent){jb.extent=a.extent;var Ac=!0}if(void 0!==a.$scroll){jb.scrollWheel=a.$scroll;var Bc=!0}var Yb=new ic({root:b.root,store:b.store,data:jb,_bind(a,c){var d={},e={};!xb&&a.density&&(d.density=c.density);!qc&&a.iconCrop&&(d.iconCrop=c.iconCrop);!rc&&a.classHeatmapMultiplier&&(d.classHeatmapMultiplier=c.classHeatmapMultiplier);!sc&&a.classHeatmapPositive&&(d.classHeatmapPositive=c.classHeatmapPositive);!tc&&a.autoGridSizeMultiplier&&(d.autoGridSizeMultiplier=c.autoGridSizeMultiplier);
!uc&&a.gridSize&&(d.gridSize=c.gridSize);!vc&&a.showLabels&&(d.showLabels=c.showLabels);!wc&&a.enableHover&&(d.enableHover=c.enableHover);!xc&&a.scale&&(d.scale=c.scale);!yc&&a.gcx&&(d.gcx=c.gcx);!zc&&a.gcy&&(d.gcy=c.gcy);!Ac&&a.extent&&(d.extent=c.extent);!Bc&&a.scrollWheel&&(e.scroll=c.scrollWheel);b.store.set(e);b._set(d);Bc=Ac=zc=yc=xc=wc=vc=uc=tc=sc=rc=qc=xb=void 0}});b.root._beforecreate.push(()=>{Yb._bind({density:1,iconCrop:1,classHeatmapMultiplier:1,classHeatmapPositive:1,autoGridSizeMultiplier:1,
gridSize:1,showLabels:1,enableHover:1,scale:1,gcx:1,gcy:1,extent:1,scrollWheel:1},Yb.get())});b.refs.atlas=Yb;var $b={id:"inceptionv1_"+a.layerName,layerName:a.layerName,enableDragging:!0,classHeatmap:a.classHeatmap,scaleCountFactor:a.scaleCountFactor};if(void 0!==a.extent){$b.extent=a.extent;var Cc=!0}var fc=new Ke({root:b.root,store:b.store,data:$b,_bind(a,c){var d={};!Cc&&a.extent&&(d.extent=c.extent);b._set(d);Cc=void 0}});b.root._beforecreate.push(()=>{fc._bind({extent:1},fc.get())});fc.on("drag",
function(a){b.refs.atlas.translateTo(a.gcx,a.gcy)});var Ob=new Sb({root:b.root,store:b.store,data:{name:"home",color:"white"}}),Dc=new bc({root:b.root,store:b.store,slots:{default:aa()}});Dc.on("click",function(a){b.refs.atlas.home(3E3)});var Pb=new Sb({root:b.root,store:b.store,data:{name:"add",color:"white"}}),Ec=new bc({root:b.root,store:b.store,slots:{default:aa()}});Ec.on("click",function(a){b.refs.atlas.scaleBy(2)});var Qb=new Sb({root:b.root,store:b.store,data:{name:"remove",color:"white"}}),
Fc=new bc({root:b.root,store:b.store,slots:{default:aa()}});Fc.on("click",function(a){b.refs.atlas.scaleBy(.5)});var pb=a.shareLink&&Xf(b,a),gc={clientWidth:a.clientWidth,clientHeight:a.clientHeight,minWidth:768},Gc=new ed({root:b.root,store:b.store,slots:{default:aa()},data:gc});return{c(){T=l("div");B=l("aside");ib&&ib.c();I=m("\n    ");H=l("div");C=l("div");v=l("h2");v.textContent="Class Filter";q=m("\n          ");F=l("div");kc._fragment.c();lc._fragment.c();K=m("\n      ");M=l("div");N=l("h2");
N.textContent="Layer";S=m("\n          ");z=l("div");mc._fragment.c();nc._fragment.c();R=m("\n  ");gb=l("div");V=l("div");Yb._fragment.c();ja=m("\n        ");ka=l("div");Z=l("div");cc=l("div");kb=l("div");fc._fragment.c();hc=m("\n            ");x=l("div");Ob._fragment.c();Dc._fragment.c();D=m("\n              ");Pb._fragment.c();Ec._fragment.c();G=m("\n              ");Qb._fragment.c();Fc._fragment.c();Q=m("\n          ");P=l("div");U=l("div");O=l("label");ra=l("input");da=m(" attribution labels");
Da=m("\n              ");Ea=l("label");X=l("input");Ua=m(" show tooltip");Uf=m("\n              ");mb=l("label");wa=l("input");Ba=m(" scroll to zoom");xa=m("\n              ");pb&&pb.c();sa=m("\n            ");Y=l("div");ha=l("div");ca=l("div");gd=l("h3");gd.textContent="Grid size";ta=m("\n                  ");Ja=l("label");fa=l("input");dc=m(" 20x20");Wb=m("\n                  ");Xb=l("label");Ca=l("input");ba=m(" 40x40");ma=m("\n                  ");ea=l("label");za=l("input");ia=m(" 80x80");ab=
m("\n                  ");oa=l("label");Qa=l("input");la=m(" 160x160");va=m("\n                  ");ya=l("label");Ga=l("input");nb=m(" 320x320");$a=m("\n                  ");pa=l("label");Ha=l("input");ua=m(" auto");bb=m("\n                  ");fb=l("div");Ka=l("div");Sa=m("auto threshold: ");oc=l("noscript");Ta=m("\n                    ");Ra=l("input");Pa=m("\n                ");qb=l("div");ob=l("h3");cb=m("Icon density: ");La=l("noscript");Va=m("\n                  ");Ia=l("input");Wa=m("\n                ");
Fa=l("div");Ma=l("h3");Ma.textContent="Class filter";Vf=m("\n                  ");pc=l("label");db=l("input");Xa=m(" positive influence");Ya=m("\n                  ");na=l("label");eb=l("input");rb=m(" negative influence");tb=m("\n                  ");Aa=l("div");Ab=m("Intensity: ");qa=l("noscript");Fb=m("\n                  ");lb=l("input");Hb=m("\n                ");Gb=l("div");Za=l("h3");Za.textContent="Location";Jb=m("\n                  ");hb=l("div");Kb=m("x: ");Cb=m(Oa);Mb=m("\n                  ");
ub=l("div");Nb=m("y: ");Ib=m(wb);Rb=m("\n                  ");yb=l("div");Tb=m("scale: ");Lb=m(zb);Ub=m("\n          ");Bb=l("div");ec=l("button");Gc._fragment.c();f(v,"slot","head");f(F,"slot","body");C.className="filter svelte-l7caws";t(C,"display",a.showClassFilter?"block":"none");f(N,"slot","head");f(z,"slot","body");M.className="stack svelte-l7caws";t(M,"display",a.showLayerChooser?"block":"none");H.className="panels svelte-l7caws";B.className="sidebar svelte-l7caws";kb.className="map-container svelte-l7caws";
t(kb,"width","100px");t(kb,"height","100px");t(kb,"position","absolute");cc.className="map svelte-l7caws";x.className="buttons svelte-l7caws";Z.className="nav svelte-l7caws";ra.addEventListener("change",c,void 0);f(ra,"type","checkbox");t(O,"white-space","nowrap");t(O,"text-overflow","ellipsis");t(O,"overflow","hidden");O.className="svelte-l7caws";X.addEventListener("change",d,void 0);f(X,"type","checkbox");Ea.className="svelte-l7caws";wa.addEventListener("change",e,void 0);f(wa,"type","checkbox");
mb.className="svelte-l7caws";U.className="essential";gd.className="svelte-l7caws";b._bindingGroups[0].push(fa);fa.addEventListener("change",h,void 0);f(fa,"type","radio");fa.__value=0;fa.value=fa.__value;Ja.className="svelte-l7caws";b._bindingGroups[0].push(Ca);Ca.addEventListener("change",g,void 0);f(Ca,"type","radio");Ca.__value=1;Ca.value=Ca.__value;Xb.className="svelte-l7caws";b._bindingGroups[0].push(za);za.addEventListener("change",k,void 0);f(za,"type","radio");za.__value=2;za.value=za.__value;
ea.className="svelte-l7caws";b._bindingGroups[0].push(Qa);Qa.addEventListener("change",n,void 0);f(Qa,"type","radio");Qa.__value=3;Qa.value=Qa.__value;oa.className="svelte-l7caws";b._bindingGroups[0].push(Ga);Ga.addEventListener("change",r,void 0);f(Ga,"type","radio");Ga.__value=4;Ga.value=Ga.__value;ya.className="svelte-l7caws";b._bindingGroups[0].push(Ha);Ha.addEventListener("change",p,void 0);f(Ha,"type","radio");Ha.__value=-1;Ha.value=Ha.__value;pa.className="svelte-l7caws";Ra.addEventListener("change",
y,void 0);Ra.addEventListener("input",y,void 0);f(Ra,"type","range");Ra.min=.5;Ra.max=1.4;Ra.step=.01;t(fb,"display","none");ca.className="section svelte-l7caws";ob.className="svelte-l7caws";Ia.addEventListener("change",u,void 0);Ia.addEventListener("input",u,void 0);f(Ia,"type","range");Ia.min=.2;Ia.max=8;Ia.step=.01;qb.className="section svelte-l7caws";Ma.className="svelte-l7caws";b._bindingGroups[1].push(db);db.addEventListener("change",E,void 0);f(db,"type","radio");db.__value=1;db.value=db.__value;
pc.className="svelte-l7caws";b._bindingGroups[1].push(eb);eb.addEventListener("change",A,void 0);f(eb,"type","radio");eb.__value=-1;eb.value=eb.__value;na.className="svelte-l7caws";lb.addEventListener("change",J,void 0);lb.addEventListener("input",J,void 0);f(lb,"type","range");lb.min="0.5";lb.max="2";lb.step="0.1";Fa.className="section svelte-l7caws";t(Fa,"display",-1<a.classHeatmap?"block":"none");Za.className="svelte-l7caws";Gb.className="section svelte-l7caws";ha.className="grid-size";Y.className=
"expand svelte-l7caws";P.className="options svelte-l7caws";ec.addEventListener("click",w,void 0);ec.className="svelte-l7caws";Bb.className="expand-toggle svelte-l7caws";ka.className=Eb="controls "+(a.showOptions?"open":"closed")+" svelte-l7caws svelte-ref-controls";V.className="atlas svelte-l7caws";gb.className="main svelte-l7caws";T.className="container svelte-l7caws"},m(c,d){Gc._slotted.default.appendChild(T);T.appendChild(B);ib&&ib.m(B,null);B.appendChild(I);B.appendChild(H);H.appendChild(C);lc._slotted.head.appendChild(v);
lc._slotted.default.appendChild(q);lc._slotted.body.appendChild(F);kc._mount(F,null);lc._mount(C,null);H.appendChild(K);H.appendChild(M);nc._slotted.head.appendChild(N);nc._slotted.default.appendChild(S);nc._slotted.body.appendChild(z);mc._mount(z,null);nc._mount(M,null);T.appendChild(R);T.appendChild(gb);gb.appendChild(V);Yb._mount(V,null);V.appendChild(ja);V.appendChild(ka);ka.appendChild(Z);Z.appendChild(cc);cc.appendChild(kb);fc._mount(kb,null);Z.appendChild(hc);Z.appendChild(x);Ob._mount(Dc._slotted.default,
null);Dc._mount(x,null);x.appendChild(D);Pb._mount(Ec._slotted.default,null);Ec._mount(x,null);x.appendChild(G);Qb._mount(Fc._slotted.default,null);Fc._mount(x,null);ka.appendChild(Q);ka.appendChild(P);P.appendChild(U);U.appendChild(O);O.appendChild(ra);ra.checked=a.showLabels;O.appendChild(da);U.appendChild(Da);U.appendChild(Ea);Ea.appendChild(X);X.checked=a.enableHover;Ea.appendChild(Ua);U.appendChild(Uf);U.appendChild(mb);mb.appendChild(wa);wa.checked=a.$scroll;mb.appendChild(Ba);U.appendChild(xa);
pb&&pb.m(U,null);P.appendChild(sa);P.appendChild(Y);Y.appendChild(ha);ha.appendChild(ca);ca.appendChild(gd);ca.appendChild(ta);ca.appendChild(Ja);Ja.appendChild(fa);fa.checked=fa.__value===a.gridSize;Ja.appendChild(dc);ca.appendChild(Wb);ca.appendChild(Xb);Xb.appendChild(Ca);Ca.checked=Ca.__value===a.gridSize;Xb.appendChild(ba);ca.appendChild(ma);ca.appendChild(ea);ea.appendChild(za);za.checked=za.__value===a.gridSize;ea.appendChild(ia);ca.appendChild(ab);ca.appendChild(oa);oa.appendChild(Qa);Qa.checked=
Qa.__value===a.gridSize;oa.appendChild(la);ca.appendChild(va);ca.appendChild(ya);ya.appendChild(Ga);Ga.checked=Ga.__value===a.gridSize;ya.appendChild(nb);ca.appendChild($a);ca.appendChild(pa);pa.appendChild(Ha);Ha.checked=Ha.__value===a.gridSize;pa.appendChild(ua);ca.appendChild(bb);ca.appendChild(fb);fb.appendChild(Ka);Ka.appendChild(Sa);Ka.appendChild(oc);oc.insertAdjacentHTML("afterend",a.autoGridSizeMultiplier);fb.appendChild(Ta);fb.appendChild(Ra);Ra.value=a.autoGridSizeMultiplier;ha.appendChild(Pa);
ha.appendChild(qb);qb.appendChild(ob);ob.appendChild(cb);ob.appendChild(La);La.insertAdjacentHTML("afterend",a.density);qb.appendChild(Va);qb.appendChild(Ia);Ia.value=a.density;ha.appendChild(Wa);ha.appendChild(Fa);Fa.appendChild(Ma);Fa.appendChild(Vf);Fa.appendChild(pc);pc.appendChild(db);db.checked=db.__value===a.classHeatmapPositive;pc.appendChild(Xa);Fa.appendChild(Ya);Fa.appendChild(na);na.appendChild(eb);eb.checked=eb.__value===a.classHeatmapPositive;na.appendChild(rb);Fa.appendChild(tb);Fa.appendChild(Aa);
Aa.appendChild(Ab);Aa.appendChild(qa);qa.insertAdjacentHTML("afterend",a.classHeatmapMultiplier);Fa.appendChild(Fb);Fa.appendChild(lb);lb.value=a.classHeatmapMultiplier;ha.appendChild(Hb);ha.appendChild(Gb);Gb.appendChild(Za);Gb.appendChild(Jb);Gb.appendChild(hb);hb.appendChild(Kb);hb.appendChild(Cb);Gb.appendChild(Mb);Gb.appendChild(ub);ub.appendChild(Nb);ub.appendChild(Ib);Gb.appendChild(Rb);Gb.appendChild(yb);yb.appendChild(Tb);yb.appendChild(Lb);b.refs.expand=Y;ka.appendChild(Ub);ka.appendChild(Bb);
Bb.appendChild(ec);ec.innerHTML=Db;b.refs.controls=ka;Gc._mount(c,d)},p(c,d){a=d;a.backLink?ib?ib.p(c,a):(ib=Wf(b,a),ib.c(),ib.m(B,I)):ib&&(ib.d(1),ib=null);d={};!sb&&c.classHeatmap&&(d.classHeatmap=a.classHeatmap,sb=void 0!==a.classHeatmap);kc._set(d);sb=void 0;c.showClassFilter&&t(C,"display",a.showClassFilter?"block":"none");d={};c.classHeatmap&&(d.classHeatmap=a.classHeatmap);!vb&&c.layerName&&(d.layerName=a.layerName,vb=void 0!==a.layerName);mc._set(d);vb=void 0;c.showLayerChooser&&t(M,"display",
a.showLayerChooser?"block":"none");d={};c.layerName&&(d.id="inceptionv1_"+a.layerName);c.classHeatmap&&(d.classHeatmap=a.classHeatmap);c.homeX&&(d.homeX=a.homeX);c.homeY&&(d.homeY=a.homeY);c.homeScale&&(d.homeScale=a.homeScale);!xb&&c.density&&(d.density=a.density,xb=void 0!==a.density);!qc&&c.iconCrop&&(d.iconCrop=a.iconCrop,qc=void 0!==a.iconCrop);!rc&&c.classHeatmapMultiplier&&(d.classHeatmapMultiplier=a.classHeatmapMultiplier,rc=void 0!==a.classHeatmapMultiplier);!sc&&c.classHeatmapPositive&&
(d.classHeatmapPositive=a.classHeatmapPositive,sc=void 0!==a.classHeatmapPositive);!tc&&c.autoGridSizeMultiplier&&(d.autoGridSizeMultiplier=a.autoGridSizeMultiplier,tc=void 0!==a.autoGridSizeMultiplier);!uc&&c.gridSize&&(d.gridSize=a.gridSize,uc=void 0!==a.gridSize);!vc&&c.showLabels&&(d.showLabels=a.showLabels,vc=void 0!==a.showLabels);!wc&&c.enableHover&&(d.enableHover=a.enableHover,wc=void 0!==a.enableHover);!xc&&c.scale&&(d.scale=a.scale,xc=void 0!==a.scale);!yc&&c.gcx&&(d.gcx=a.gcx,yc=void 0!==
a.gcx);!zc&&c.gcy&&(d.gcy=a.gcy,zc=void 0!==a.gcy);!Ac&&c.extent&&(d.extent=a.extent,Ac=void 0!==a.extent);!Bc&&c.$scroll&&(d.scrollWheel=a.$scroll,Bc=void 0!==a.$scroll);Yb._set(d);Bc=Ac=zc=yc=xc=wc=vc=uc=tc=sc=rc=qc=xb=void 0;d={};c.layerName&&(d.id="inceptionv1_"+a.layerName);c.layerName&&(d.layerName=a.layerName);c.classHeatmap&&(d.classHeatmap=a.classHeatmap);c.scaleCountFactor&&(d.scaleCountFactor=a.scaleCountFactor);!Cc&&c.extent&&(d.extent=a.extent,Cc=void 0!==a.extent);fc._set(d);Cc=void 0;
c.showLabels&&(ra.checked=a.showLabels);c.enableHover&&(X.checked=a.enableHover);c.$scroll&&(wa.checked=a.$scroll);a.shareLink?pb||(pb=Xf(b,a),pb.c(),pb.m(U,null)):pb&&(pb.d(1),pb=null);c.gridSize&&(fa.checked=fa.__value===a.gridSize);c.gridSize&&(Ca.checked=Ca.__value===a.gridSize);c.gridSize&&(za.checked=za.__value===a.gridSize);c.gridSize&&(Qa.checked=Qa.__value===a.gridSize);c.gridSize&&(Ga.checked=Ga.__value===a.gridSize);c.gridSize&&(Ha.checked=Ha.__value===a.gridSize);c.autoGridSizeMultiplier&&
(ac(oc),oc.insertAdjacentHTML("afterend",a.autoGridSizeMultiplier));c.autoGridSizeMultiplier&&(Ra.value=a.autoGridSizeMultiplier);c.gridSize&&t(fb,"display","none");c.density&&(ac(La),La.insertAdjacentHTML("afterend",a.density));c.density&&(Ia.value=a.density);c.classHeatmapPositive&&(db.checked=db.__value===a.classHeatmapPositive);c.classHeatmapPositive&&(eb.checked=eb.__value===a.classHeatmapPositive);c.classHeatmapMultiplier&&(ac(qa),qa.insertAdjacentHTML("afterend",a.classHeatmapMultiplier));
c.classHeatmapMultiplier&&(lb.value=a.classHeatmapMultiplier);c.classHeatmap&&t(Fa,"display",-1<a.classHeatmap?"block":"none");c.gcx&&Oa!==(Oa=jc(a.gcx))&&W(Cb,Oa);c.gcy&&wb!==(wb=jc(a.gcy))&&W(Ib,wb);c.scale&&zb!==(zb=jc(a.scale))&&W(Lb,zb);c.showOptions&&Db!==(Db=a.showOptions?"fewer options":"more options")&&(ec.innerHTML=Db);c.showOptions&&Eb!==(Eb="controls "+(a.showOptions?"open":"closed")+" svelte-l7caws svelte-ref-controls")&&(ka.className=Eb);d={};c.clientWidth&&(d.clientWidth=a.clientWidth);
c.clientHeight&&(d.clientHeight=a.clientHeight);Gc._set(d)},d(a){ib&&ib.d();kc.destroy();lc.destroy();mc.destroy();nc.destroy();Yb.destroy();b.refs.atlas===Yb&&(b.refs.atlas=null);fc.destroy();Ob.destroy();Dc.destroy();Pb.destroy();Ec.destroy();Qb.destroy();Fc.destroy();ra.removeEventListener("change",c,void 0);X.removeEventListener("change",d,void 0);wa.removeEventListener("change",e,void 0);pb&&pb.d();b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(fa),1);fa.removeEventListener("change",
h,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(Ca),1);Ca.removeEventListener("change",g,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(za),1);za.removeEventListener("change",k,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(Qa),1);Qa.removeEventListener("change",n,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(Ga),1);Ga.removeEventListener("change",r,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(Ha),1);Ha.removeEventListener("change",
p,void 0);Ra.removeEventListener("change",y,void 0);Ra.removeEventListener("input",y,void 0);Ia.removeEventListener("change",u,void 0);Ia.removeEventListener("input",u,void 0);b._bindingGroups[1].splice(b._bindingGroups[1].indexOf(db),1);db.removeEventListener("change",E,void 0);b._bindingGroups[1].splice(b._bindingGroups[1].indexOf(eb),1);eb.removeEventListener("change",A,void 0);lb.removeEventListener("change",J,void 0);lb.removeEventListener("input",J,void 0);b.refs.expand===Y&&(b.refs.expand=
null);ec.removeEventListener("click",w,void 0);b.refs.controls===ka&&(b.refs.controls=null);Gc.destroy(a)}}}function Wf(b,a){var c,d;return{c(){c=l("a");d=m("\u2190 back to main article");c.className="backlink svelte-l7caws";c.href=a.backLink},m(a,b){a.insertBefore(c,b);c.appendChild(d)},p(a,b){a.backLink&&(c.href=b.backLink)},d(a){a&&z(c)}}}function Xf(b,a){function c(a){b.copyShareLink()}var d;return{c(){d=l("button");d.textContent="Copy link to this view";d.addEventListener("click",c,void 0);t(d,
"font-size","10px");t(d,"margin-top","4px");f(d,"href","#")},m(a,b){a.insertBefore(d,b)},d(a){a&&z(d);d.removeEventListener("click",c,void 0)}}}function Mb(b){x(this,b);this.refs={};this._state=q(q(this.store._init(["scroll"]),{layerName:"mixed4c",gridSize:1,classHeatmap:-1,iconScaleFactor:.8,iconCrop:.35,showClassFilter:!0,showLayerChooser:!0,showOptions:!0,homeX:.5,homeY:.5,homeScale:1,shareLink:!1,backLink:!1}),b.data);this.store._add(this,["scroll"]);this._recompute({gridSize:1,iconScaleFactor:1,
realGridSize:1},this._state);this._bindingGroups=[[],[]];this._intro=!0;this._handlers.destroy=[oa];this._fragment=Il(this,this._state);this.root._oncreate.push(()=>{Hl.call(this);this.fire("update",{changed:ia({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function Jl(b,a){var c,d,e,h,g,f,n,r,p,y,u,E,A,J,w,T,B,t,H,C,v,q,F,K,M,N,S,Na,R,gb,V,ja,ka,Z,cc,x,hc=new O({root:b.root,store:b.store,data:{src:"assets/images/overview-neuron.jpg",
border:!1}}),D=new O({root:b.root,store:b.store,data:{src:"assets/images/manifold-1.jpg",alt:"diagram",border:!1}}),U=new O({root:b.root,store:b.store,data:{src:"assets/images/overview-pairwise.jpg",border:!1}}),P=new O({root:b.root,store:b.store,data:{src:"assets/images/manifold-2.jpg",alt:"diagram",border:!1}}),G=new O({root:b.root,store:b.store,data:{src:"assets/images/activation-grid.png",border:!1}}),Q=new O({root:b.root,store:b.store,data:{src:"assets/images/manifold-3.jpg",alt:"diagram",border:!1}}),
W=new O({root:b.root,store:b.store,data:{src:"assets/images/overview-atlas.jpg",border:!1}}),da=new O({root:b.root,store:b.store,data:{src:"assets/images/manifold-4.jpg",alt:"diagram",border:!1}});return{c(){c=l("div");d=l("div");e=l("h4");e.textContent="Individual Neurons";h=m("\n    ");g=l("div");hc._fragment.c();f=m("\n    ");n=l("div");D._fragment.c();r=m("\n    ");p=l("div");p.innerHTML='<a href="https://distill.pub/2017/feature-visualization/#optimization">Visualizing individual neurons</a> make hidden layers somewhat meaningful, but misses interactions between neurons \u2014 it only shows us one-dimensional, orthogonal probes of the high-dimensional activation space.';
y=m("\n  ");u=l("div");E=l("h4");E.textContent="Pairwise Interactions";A=m("\n    ");J=l("div");U._fragment.c();w=m("\n    ");T=l("div");P._fragment.c();B=m("\n    ");t=l("div");t.innerHTML='<a href="https://distill.pub/2017/feature-visualization/#interaction">Pairwise interactions</a> reveal interaction effects, but they only show two-dimensional slices of a space that has hundreds of dimensions, and many of the combinations are not realistic.';H=m("\n  ");C=l("div");v=l("h4");v.textContent="Spatial Activations";
q=m("\n    ");F=l("div");G._fragment.c();K=m("\n    ");M=l("div");Q._fragment.c();N=m("\n    ");S=l("div");S.innerHTML='<a href="https://distill.pub/2018/building-blocks/#what-does-the-network-see">Spatial activations</a> show us important combinations of many neurons by sampling the sub-manifold of likely activations, but they are limited to those that occur in the given example image.';Na=m("\n  ");R=l("div");gb=l("h4");gb.textContent="Activation Atlas";V=m("\n    ");ja=l("div");W._fragment.c();
ka=m("\n    ");Z=l("div");da._fragment.c();cc=m("\n    ");x=l("div");x.textContent="Activation atlases give us a bigger picture overview by sampling more of the manifold of likely activations.";e.className="svelte-vcfnc8";g.className="image";n.className="diagram svelte-vcfnc8";p.className="figcaption svelte-vcfnc8";d.className="section svelte-vcfnc8";E.className="svelte-vcfnc8";J.className="image";T.className="diagram svelte-vcfnc8";t.className="figcaption svelte-vcfnc8";u.className="section svelte-vcfnc8";
v.className="svelte-vcfnc8";F.className="image";M.className="diagram svelte-vcfnc8";S.className="figcaption svelte-vcfnc8";C.className="section svelte-vcfnc8";gb.className="svelte-vcfnc8";ja.className="image";Z.className="diagram svelte-vcfnc8";x.className="figcaption svelte-vcfnc8";R.className="section svelte-vcfnc8";c.className="svelte-vcfnc8 svelte-ref-root"},m(a,k){a.insertBefore(c,k);c.appendChild(d);d.appendChild(e);d.appendChild(h);d.appendChild(g);hc._mount(g,null);d.appendChild(f);d.appendChild(n);
D._mount(n,null);d.appendChild(r);d.appendChild(p);c.appendChild(y);c.appendChild(u);u.appendChild(E);u.appendChild(A);u.appendChild(J);U._mount(J,null);u.appendChild(w);u.appendChild(T);P._mount(T,null);u.appendChild(B);u.appendChild(t);c.appendChild(H);c.appendChild(C);C.appendChild(v);C.appendChild(q);C.appendChild(F);G._mount(F,null);C.appendChild(K);C.appendChild(M);Q._mount(M,null);C.appendChild(N);C.appendChild(S);c.appendChild(Na);c.appendChild(R);R.appendChild(gb);R.appendChild(V);R.appendChild(ja);
W._mount(ja,null);R.appendChild(ka);R.appendChild(Z);da._mount(Z,null);R.appendChild(cc);R.appendChild(x);b.refs.root=c},p:X,d(a){a&&z(c);hc.destroy();D.destroy();U.destroy();P.destroy();G.destroy();Q.destroy();W.destroy();da.destroy();b.refs.root===c&&(b.refs.root=null)}}}function Yf(b){x(this,b);this.refs={};this._state=q({},b.data);this._intro=!0;this._fragment=Jl(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function Kl(b,a){var c,d=new O({root:b.root,
store:b.store,data:{src:"assets/images/model.svg",alt:"model",aspectRatio:1072/178.3,border:!1,background:!1}});return{c(){c=l("div");d._fragment.c();c.className="svelte-rd22a7 svelte-ref-root"},m(a,h){a.insertBefore(c,h);d._mount(c,null);b.refs.root=c},p:X,d(a){a&&z(c);d.destroy();b.refs.root===c&&(b.refs.root=null)}}}function Zf(b){x(this,b);this.refs={};this._state=q({},b.data);this._intro=!0;this._fragment=Kl(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}
function Ll(b,a){var c,d,e,h,g,f,n,r,p=new O({root:b.root,store:b.store,data:{src:"assets/images/dogcat.jpg",alt:"input image"}}),y=new O({root:b.root,store:b.store,data:{src:"assets/images/dogcat-grid.jpg",alt:"activation grid"}});return{c(){c=l("div");d=l("div");p._fragment.c();e=m("\n    ");h=l("div");h.textContent="Input image from ImageNet.";g=m("\n  ");f=l("div");y._fragment.c();n=m("\n    ");r=l("div");r.textContent="Activation grid from InceptionV1, layer mixed4d.";h.className="figcaption svelte-scrtb8";
r.className="figcaption svelte-scrtb8";c.className="root svelte-scrtb8"},m(a,b){a.insertBefore(c,b);c.appendChild(d);p._mount(d,null);d.appendChild(e);d.appendChild(h);c.appendChild(g);c.appendChild(f);y._mount(f,null);f.appendChild(n);f.appendChild(r)},p:X,d(a){a&&z(c);p.destroy();y.destroy()}}}function $f(b){x(this,b);this._state=q({},b.data);this._intro=!0;this._fragment=Ll(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function Ml({w:b,gridSize:a}){return b/
a}function Nl({filterType:b}){return`gcs-back/class_filter_inceptionv1_${b}/`}function Ol({gridSize:b}){return da(1,b)}function Pl({root:b,classFilter:a,gridSize:c,filterType:d}){return`${b}web/web--grid_size=${c}--layout=20_0.02_cosine--class_filter=${a}_${d}--filter=None--layer=mixed5b--model=InceptionV1--sample_images=1000000--sample_type=random.json`}function Ql({root:b,classFilter:a,gridSize:c,filterType:d}){return`${b}render/render--x=0--y=0--tries=3--alpha=False--tile_size=8--whiten=true--steps=1056--icon_size=80--grid_size=${c}--layout=20_0.02_cosine--class_filter=${a}_${d}--filter=None--layer=mixed5b--model=InceptionV1--sample_images=1000000--sample_type=random.jpg`}
function Rl({changed:b,current:a}){a.showAttribution&&b.config&&(this.set({configData:[]}),Cd(a.config).then((a)=>{this.set({configData:a})}))}function ag(b,a,c){b=Object.create(b);b.cell=a[c];return b}function bg(b,a,c){b=Object.create(b);b.i=a[c];return b}function cg(b,a,c){b=Object.create(b);b.i=a[c];return b}function Sl(b,a){for(var c,d,e,h,g,k=new O({root:b.root,store:b.store,data:{src:a.src,alt:"class activation atlas"}}),n=a.ticks,r=[],p=0;p<n.length;p+=1)r[p]=dg(b,cg(a,n,p));var y=a.ticks,
u=[];for(p=0;p<y.length;p+=1)u[p]=eg(b,bg(a,y,p));var E=a.configData,A=[];for(p=0;p<E.length;p+=1)A[p]=fg(b,ag(a,E,p));return{c(){c=l("div");k._fragment.c();d=m("\n\n  ");e=v("svg");for(var a=0;a<r.length;a+=1)r[a].c();h=ma();for(a=0;a<u.length;a+=1)u[a].c();g=m("\n\n  ");for(a=0;a<A.length;a+=1)A[a].c();f(e,"viewBox","0 0 500 500");f(e,"class","svelte-6z3qi2");c.className="svelte-6z3qi2 svelte-ref-root"},m(a,f){a.insertBefore(c,f);k._mount(c,null);c.appendChild(d);c.appendChild(e);for(a=0;a<r.length;a+=
1)r[a].m(e,null);e.appendChild(h);for(a=0;a<u.length;a+=1)u[a].m(e,null);c.appendChild(g);for(a=0;a<A.length;a+=1)A[a].m(c,null);b.refs.root=c},p(a,d){var g={};a.src&&(g.src=d.src);k._set(g);if(a.ticks||a.gridSize){n=d.ticks;for(g=0;g<n.length;g+=1){var f=cg(d,n,g);r[g]?r[g].p(a,f):(r[g]=dg(b,f),r[g].c(),r[g].m(e,h))}for(;g<r.length;g+=1)r[g].d(1);r.length=n.length}if(a.ticks||a.gridSize){y=d.ticks;for(g=0;g<y.length;g+=1)f=bg(d,y,g),u[g]?u[g].p(a,f):(u[g]=eg(b,f),u[g].c(),u[g].m(e,null));for(;g<
u.length;g+=1)u[g].d(1);u.length=y.length}if(a.gridSize||a.configData||a.$inceptionLabels){E=d.configData;for(g=0;g<E.length;g+=1)f=ag(d,E,g),A[g]?A[g].p(a,f):(A[g]=fg(b,f),A[g].c(),A[g].m(c,null));for(;g<A.length;g+=1)A[g].d(1);A.length=E.length}},d(a){a&&z(c);k.destroy();U(r,a);U(u,a);U(A,a);b.refs.root===c&&(b.refs.root=null)}}}function dg(b,a){var c,d,e;return{c(){c=v("line");f(c,"x2",500);f(c,"y1",d=500*a.i/a.gridSize);f(c,"y2",e=500*a.i/a.gridSize);f(c,"stroke","black");f(c,"stroke-opacity",
"0.15");f(c,"stroke-dasharray","2,2")},m(a,b){a.insertBefore(c,b)},p(a,b){(a.ticks||a.gridSize)&&d!==(d=500*b.i/b.gridSize)&&f(c,"y1",d);(a.ticks||a.gridSize)&&e!==(e=500*b.i/b.gridSize)&&f(c,"y2",e)},d(a){a&&z(c)}}}function eg(b,a){var c,d,e;return{c(){c=v("line");f(c,"y2",500);f(c,"x1",d=500*a.i/a.gridSize);f(c,"x2",e=500*a.i/a.gridSize);f(c,"stroke","black");f(c,"stroke-opacity","0.15");f(c,"stroke-dasharray","2,2")},m(a,b){a.insertBefore(c,b)},p(a,b){(a.ticks||a.gridSize)&&d!==(d=500*b.i/b.gridSize)&&
f(c,"x1",d);(a.ticks||a.gridSize)&&e!==(e=500*b.i/b.gridSize)&&f(c,"x2",e)},d(a){a&&z(c)}}}function fg(b,a){var c,d,e=a.$inceptionLabels[a.cell.i[0]],h,g,f;return{c(){c=l("div");d=l("div");h=m(e);f=m("\n    ");d.title=g=a.$inceptionLabels[a.cell.i[0]];d.className="svelte-6z3qi2";c.className="label svelte-6z3qi2";t(c,"position","absolute");t(c,"height",""+100/a.gridSize+"%");t(c,"width",""+100/a.gridSize+"%");t(c,"left",""+a.cell.y/a.gridSize*100+"%");t(c,"top",""+a.cell.x/a.gridSize*100+"%")},m(a,
b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(h);c.appendChild(f)},p(a,b){(a.$inceptionLabels||a.configData)&&e!==(e=b.$inceptionLabels[b.cell.i[0]])&&W(h,e);(a.$inceptionLabels||a.configData)&&g!==(g=b.$inceptionLabels[b.cell.i[0]])&&(d.title=g);a.gridSize&&(t(c,"height",""+100/b.gridSize+"%"),t(c,"width",""+100/b.gridSize+"%"));if(a.configData||a.gridSize)t(c,"left",""+b.cell.y/b.gridSize*100+"%"),t(c,"top",""+b.cell.x/b.gridSize*100+"%")},d(a){a&&z(c)}}}function Hb(b){x(this,b);this.refs=
{};this._state=q(q(this.store._init(["inceptionLabels"]),{w:500,filterType:"winner",classFilter:62,gridSize:8,configData:[],showAttribution:!1}),b.data);this.store._add(this,["inceptionLabels"]);this._recompute({w:1,gridSize:1,filterType:1,root:1,classFilter:1},this._state);this._intro=!0;this._handlers.update=[Rl];this._handlers.destroy=[oa];this._fragment=Sl(this,this._state);this.root._oncreate.push(()=>{this.fire("update",{changed:ia({},this._state),current:this._state})});b.target&&(this._fragment.c(),
this._mount(b.target,b.anchor),G(this))}function gg(b,a,c){b=Object.create(b);b.c=a[c];return b}function Tl(b,a){for(var c,d,e=a.$inceptionLabels[a.$currentClassAtlasIndex],h,g,f,n,r,p,y,u,E,A,J=new Hb({root:b.root,store:b.store,data:{classFilter:a.$currentClassAtlasIndex}}),w=a.$classAtlasIndices,T=[],B=0;B<w.length;B+=1)T[B]=hg(b,gg(a,w,B));var I=new td({root:b.root,store:b.store,data:{url:"https://colab.research.google.com/github/tensorflow/lucid/blob/master/notebooks/activation-atlas/class-activation-atlas.ipynb"}});
return{c(){c=l("h4");d=m("Class Activation Atlas for \u201c");h=m(e);g=m("\u201d from mixed5b");f=m("\n");n=l("div");r=l("div");J._fragment.c();p=m("\n  ");y=l("div");u=l("div");for(var a=0;a<T.length;a+=1)T[a].c();E=m("\n");A=l("div");I._fragment.c();c.className="svelte-1u8cgll";t(r,"position","relative");u.className="chooser svelte-1u8cgll";y.className="chooser-container svelte-1u8cgll";n.className="svelte-1u8cgll svelte-ref-root";t(A,"margin-top","16px")},m(a,e){a.insertBefore(c,e);c.appendChild(d);
c.appendChild(h);c.appendChild(g);a.insertBefore(f,e);a.insertBefore(n,e);n.appendChild(r);J._mount(r,null);n.appendChild(p);n.appendChild(y);y.appendChild(u);for(var k=0;k<T.length;k+=1)T[k].m(u,null);b.refs.root=n;a.insertBefore(E,e);a.insertBefore(A,e);I._mount(A,null)},p(a,c){(a.$inceptionLabels||a.$currentClassAtlasIndex)&&e!==(e=c.$inceptionLabels[c.$currentClassAtlasIndex])&&W(h,e);var d={};a.$currentClassAtlasIndex&&(d.classFilter=c.$currentClassAtlasIndex);J._set(d);if(a.$currentClassAtlasIndex||
a.$classAtlasIndices||a.$inceptionLabels){w=c.$classAtlasIndices;for(d=0;d<w.length;d+=1){let e=gg(c,w,d);T[d]?T[d].p(a,e):(T[d]=hg(b,e),T[d].c(),T[d].m(u,null))}for(;d<T.length;d+=1)T[d].d(1);T.length=w.length}},d(a){a&&(z(c),z(f),z(n));J.destroy();U(T,a);b.refs.root===n&&(b.refs.root=null);a&&(z(E),z(A));I.destroy()}}}function hg(b,a){function c(){b.store.set({currentClassAtlasIndex:e.__value})}var d,e,h,g,k=a.$inceptionLabels[a.c],n,r,p;return{c(){d=l("label");e=l("input");g=m("\n          ");
n=m(k);b._bindingGroups[0].push(e);e.addEventListener("change",c,void 0);f(e,"type","radio");e.__value=h=a.c;e.value=e.__value;e.className="svelte-1u8cgll";d.className=r=(a.$currentClassAtlasIndex===a.c?"selected":"")+" svelte-1u8cgll";d.title=p=a.c},m(b,c){b.insertBefore(d,c);d.appendChild(e);e.checked=e.__value===a.$currentClassAtlasIndex;d.appendChild(g);d.appendChild(n)},p(a,b){a.$currentClassAtlasIndex&&(e.checked=e.__value===b.$currentClassAtlasIndex);a.$classAtlasIndices&&h!==(h=b.c)&&(e.__value=
h);e.value=e.__value;(a.$inceptionLabels||a.$classAtlasIndices)&&k!==(k=b.$inceptionLabels[b.c])&&W(n,k);(a.$currentClassAtlasIndex||a.$classAtlasIndices)&&r!==(r=(b.$currentClassAtlasIndex===b.c?"selected":"")+" svelte-1u8cgll")&&(d.className=r);a.$classAtlasIndices&&p!==(p=b.c)&&(d.title=p)},d(a){a&&z(d);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(e),1);e.removeEventListener("change",c,void 0)}}}function ig(b){x(this,b);this.refs={};this._state=q(q(this.store._init(["inceptionLabels",
"currentClassAtlasIndex","classAtlasIndices"]),{layout:0}),b.data);this.store._add(this,["inceptionLabels","currentClassAtlasIndex","classAtlasIndices"]);this._bindingGroups=[[]];this._intro=!0;this._handlers.destroy=[oa];this._fragment=Tl(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function jg(b,a,c){b=Object.create(b);b.c=a[c];return b}function Ul(b,a){for(var c,d,e,h,g=a.$inceptionLabels[a.$currentClassAtlasCompareIndex],f,n,r,p,y,u,E,A,J,w,T,B,t,H=a.$inceptionLabels[a.$currentClassAtlasCompareIndex],
C,v,q,F,K,M,N,S,Na,R,gb,V,ja=new Hb({root:b.root,store:b.store,data:{showAttribution:!0,classFilter:a.$currentClassAtlasCompareIndex,filterType:"winner"}}),ka=new Hb({root:b.root,store:b.store,data:{showAttribution:!0,classFilter:a.$currentClassAtlasCompareIndex,filterType:"top"}}),Z=a.$classAtlasIndices,x=[],D=0;D<Z.length;D+=1)x[D]=kg(b,jg(a,Z,D));return{c(){c=l("div");d=l("div");e=l("h4");h=m("\u201c");f=l("noscript");n=l("noscript");r=m("\u201d ");p=l("br");y=m("filtered by top rank");u=m("\n    ");
E=l("div");ja._fragment.c();A=m("\n    ");J=l("div");J.textContent="We pluck only those activations whose top attribution is toward the class in question. The results are often much more focused and isolated, exclusive to the class. Some are low magnitude, like backgrounds, and we miss correlations or concepts that are shared among many classes.";w=m("\n  ");T=l("div");B=l("h4");t=m("\u201c");C=l("noscript");v=l("noscript");q=m("\u201d ");F=l("br");K=m("filtered by overall magnitude");M=m("\n    ");
N=l("div");ka._fragment.c();S=m("\n    ");Na=l("div");Na.textContent="Here we sort all the activations by the magnitude toward the class in question (independent of other classes) and take the top 2,000 activations. We see more correlated activations that could, on their own, contribute to another classification (We label each activation with the class that it contributes toward most). Notice that certain fish that are commonly seen while snorkeling now show up with that class, and a \u201ccoffee mug\u201d now shows up with \u201ccrossword puzzle\u201d. Some of them appear spurious, however.";
R=m("\n  ");gb=l("div");V=l("div");for(var a=0;a<x.length;a+=1)x[a].c();e.className="svelte-d043v6";E.className="atlas";J.className="figcaption svelte-d043v6";B.className="svelte-d043v6";N.className="atlas";Na.className="figcaption svelte-d043v6";V.className="chooser svelte-d043v6";gb.className="chooser-container svelte-d043v6";c.className="root svelte-d043v6"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);e.appendChild(h);e.appendChild(f);f.insertAdjacentHTML("afterend",g);e.appendChild(n);
e.appendChild(r);e.appendChild(p);e.appendChild(y);d.appendChild(u);d.appendChild(E);ja._mount(E,null);d.appendChild(A);d.appendChild(J);c.appendChild(w);c.appendChild(T);T.appendChild(B);B.appendChild(t);B.appendChild(C);C.insertAdjacentHTML("afterend",H);B.appendChild(v);B.appendChild(q);B.appendChild(F);B.appendChild(K);T.appendChild(M);T.appendChild(N);ka._mount(N,null);T.appendChild(S);T.appendChild(Na);c.appendChild(R);c.appendChild(gb);gb.appendChild(V);for(a=0;a<x.length;a+=1)x[a].m(V,null)},
p(a,c){(a.$inceptionLabels||a.$currentClassAtlasCompareIndex)&&g!==(g=c.$inceptionLabels[c.$currentClassAtlasCompareIndex])&&($b(f,n),f.insertAdjacentHTML("afterend",g));var d={};a.$currentClassAtlasCompareIndex&&(d.classFilter=c.$currentClassAtlasCompareIndex);ja._set(d);(a.$inceptionLabels||a.$currentClassAtlasCompareIndex)&&H!==(H=c.$inceptionLabels[c.$currentClassAtlasCompareIndex])&&($b(C,v),C.insertAdjacentHTML("afterend",H));d={};a.$currentClassAtlasCompareIndex&&(d.classFilter=c.$currentClassAtlasCompareIndex);
ka._set(d);if(a.$currentClassAtlasCompareIndex||a.$classAtlasIndices||a.$inceptionLabels){Z=c.$classAtlasIndices;for(d=0;d<Z.length;d+=1){let e=jg(c,Z,d);x[d]?x[d].p(a,e):(x[d]=kg(b,e),x[d].c(),x[d].m(V,null))}for(;d<x.length;d+=1)x[d].d(1);x.length=Z.length}},d(a){a&&z(c);ja.destroy();ka.destroy();U(x,a)}}}function kg(b,a){function c(){b.store.set({currentClassAtlasCompareIndex:e.__value})}var d,e,h,g,k=a.$inceptionLabels[a.c],n,r,p,y;return{c(){d=l("label");e=l("input");g=m("\n          ");n=m(k);
r=m("\n        ");b._bindingGroups[0].push(e);e.addEventListener("change",c,void 0);f(e,"type","radio");e.__value=h=a.c;e.value=e.__value;e.className="svelte-d043v6";d.className=p=(a.$currentClassAtlasCompareIndex===a.c?"selected":"")+" svelte-d043v6";d.title=y=a.c},m(b,c){b.insertBefore(d,c);d.appendChild(e);e.checked=e.__value===a.$currentClassAtlasCompareIndex;d.appendChild(g);d.appendChild(n);d.appendChild(r)},p(a,b){a.$currentClassAtlasCompareIndex&&(e.checked=e.__value===b.$currentClassAtlasCompareIndex);
a.$classAtlasIndices&&h!==(h=b.c)&&(e.__value=h);e.value=e.__value;(a.$inceptionLabels||a.$classAtlasIndices)&&k!==(k=b.$inceptionLabels[b.c])&&W(n,k);(a.$currentClassAtlasCompareIndex||a.$classAtlasIndices)&&p!==(p=(b.$currentClassAtlasCompareIndex===b.c?"selected":"")+" svelte-d043v6")&&(d.className=p);a.$classAtlasIndices&&y!==(y=b.c)&&(d.title=y)},d(a){a&&z(d);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(e),1);e.removeEventListener("change",c,void 0)}}}function lg(b){x(this,b);this._state=
q(q(this.store._init(["inceptionLabels","currentClassAtlasCompareIndex","classAtlasIndices"]),{}),b.data);this.store._add(this,["inceptionLabels","currentClassAtlasCompareIndex","classAtlasIndices"]);this._bindingGroups=[[]];this._intro=!0;this._handlers.destroy=[oa];this._fragment=Ul(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function Vl({$classComparisons:b,classComparisonIndex:a}){return b[a].left}function Wl({$classComparisons:b,classComparisonIndex:a}){return b[a].right}
function mg(b){let {component:a,ctx:c}=this._svelte;a.set({classComparisonIndex:c.i})}function ng(b,a,c){b=Object.create(b);b.comparison=a[c];b.i=c;return b}function Xl(b,a){var c,d,e,h,g,f=a.$inceptionLabels[a.leftIndex],n,r,p,y,u,E,A,J,w=a.$inceptionLabels[a.rightIndex],T,B,I,v,C=a.showControls&&og(b,a),q=new Hb({root:b.root,store:b.store,data:{classFilter:a.leftIndex,filterType:a.filterType}}),L=new Hb({root:b.root,store:b.store,data:{classFilter:a.rightIndex,filterType:a.filterType}});return{c(){C&&
C.c();c=m("\n\n");d=l("div");e=l("div");h=l("h4");g=m("\u201c");n=m(f);r=m("\u201d");p=m("\n    ");y=l("div");q._fragment.c();u=m("\n  ");E=l("div");A=l("h4");J=m("\u201c");T=m(w);B=m("\u201d");I=m("\n    ");v=l("div");L._fragment.c();h.className="svelte-a1781g";y.className="atlas";A.className="svelte-a1781g";v.className="atlas";t(d,"display","grid");t(d,"grid-auto-flow","column");t(d,"grid-column-gap","20px");t(d,"grid-auto-columns","1fr")},m(a,b){C&&C.m(a,b);a.insertBefore(c,b);a.insertBefore(d,
b);d.appendChild(e);e.appendChild(h);h.appendChild(g);h.appendChild(n);h.appendChild(r);e.appendChild(p);e.appendChild(y);q._mount(y,null);d.appendChild(u);d.appendChild(E);E.appendChild(A);A.appendChild(J);A.appendChild(T);A.appendChild(B);E.appendChild(I);E.appendChild(v);L._mount(v,null)},p(a,d){d.showControls?C?C.p(a,d):(C=og(b,d),C.c(),C.m(c.parentNode,c)):C&&(C.d(1),C=null);(a.$inceptionLabels||a.leftIndex)&&f!==(f=d.$inceptionLabels[d.leftIndex])&&W(n,f);var e={};a.leftIndex&&(e.classFilter=
d.leftIndex);a.filterType&&(e.filterType=d.filterType);q._set(e);(a.$inceptionLabels||a.rightIndex)&&w!==(w=d.$inceptionLabels[d.rightIndex])&&W(T,w);e={};a.rightIndex&&(e.classFilter=d.rightIndex);a.filterType&&(e.filterType=d.filterType);L._set(e)},d(a){C&&C.d(a);a&&(z(c),z(d));q.destroy();L.destroy()}}}function og(b,a){for(var c,d=a.$classComparisons,e=[],h=0;h<d.length;h+=1)e[h]=pg(b,ng(a,d,h));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=ma()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,
b);a.insertBefore(c,b)},p(a,h){if(a.$classComparisons){d=h.$classComparisons;for(var g=0;g<d.length;g+=1){let f=ng(h,d,g);e[g]?e[g].p(a,f):(e[g]=pg(b,f),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){U(e,a);a&&z(c)}}}function pg(b,a){var c,d=a.comparison.leftLabel,e,h,g=a.comparison.rightLabel,f;return{c(){c=l("button");e=m(d);h=m(" vs. ");f=m(g);c._svelte={component:b,ctx:a};c.addEventListener("click",mg,void 0)},m(a,b){a.insertBefore(c,b);c.appendChild(e);
c.appendChild(h);c.appendChild(f)},p(b,h){a=h;b.$classComparisons&&d!==(d=a.comparison.leftLabel)&&W(e,d);b.$classComparisons&&g!==(g=a.comparison.rightLabel)&&W(f,g);c._svelte.ctx=a},d(a){a&&z(c);c.removeEventListener("click",mg,void 0)}}}function $d(b){x(this,b);this._state=q(q(this.store._init(["classComparisons","inceptionLabels"]),{classComparisonIndex:0,showControls:!0,filterType:"top"}),b.data);this.store._add(this,["classComparisons","inceptionLabels"]);this._recompute({$classComparisons:1,
classComparisonIndex:1},this._state);this._intro=!0;this._handlers.destroy=[oa];this._fragment=Xl(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function Yl({width:b}){return b}function Zl({width:b,margin:a}){return b+a.left+a.right}function $l({height:b,margin:a}){return b+a.top+a.bottom}function am({width:b}){return b/10}function bm({currentClassComparisonIndex:b,$classComparisons:a}){return a[b]}function qg(b,a,c){b=Object.create(b);b.annotation=a[c];b.iter=
c;return b}function rg(b,a,c){b=Object.create(b);b.tick=a[c];return b}function sg(b,a,c){b=Object.create(b);b.tick=a[c];return b}function cm(b,a){for(var c,d,e,h,g,k,n,r,p,y,u,E,A,J,w=a.comparison.leftLabel,T,B,t,H,C,q=a.comparison.rightLabel,L,F,K,M,N,S,Na,R,x,V,ja,ka,Z,D,kb,P,G,Q,O,X,aa,ea,fd,ra,ba,Da,Ea,oa,Ua,ia,mb,wa=da(11),Ba=[],xa=0;xa<wa.length;xa+=1)Ba[xa]=tg(b,sg(a,wa,xa));var sa=da(11),Y=[];for(xa=0;xa<sa.length;xa+=1)Y[xa]=ug(b,rg(a,sa,xa));var ha=a.comparison.annotation&&vg(b,a);return{c(){c=
l("div");d=v("svg");e=v("defs");h=v("marker");g=v("path");k=v("g");n=v("image");y=v("g");u=v("text");E=v("tspan");A=m("more attributed to ");J=v("tspan");T=m(w);B=v("text");t=v("tspan");H=m("more attributed to ");C=v("tspan");L=m(q);F=v("g");K=v("line");M=v("line");S=v("g");Na=v("g");R=v("line");x=v("line");V=v("text");ja=v("tspan");ka=m("positioned");Z=v("tspan");D=m("by similarity");kb=v("tspan");P=m("(one-dimensional");G=v("tspan");Q=m("t-SNE)");X=v("g");aa=v("line");ra=v("line");for(var b=0;b<
Ba.length;b+=1)Ba[b].c();oa=ma();for(b=0;b<Y.length;b+=1)Y[b].c();Ua=ma();ha&&ha.c();f(g,"d","M0,0 L0,10 L10,5 z");f(g,"fill",a.color);f(h,"id","arrow");f(h,"markerWidth","7");f(h,"markerHeight","7");f(h,"refX","10");f(h,"refY","5");f(h,"orient","auto");f(h,"markerUnits","strokeWidth");f(h,"viewBox","0 0 10 10");f(n,"id","comparisonImg");f(n,"width",a.width);f(n,"height",a.height);ab(n,"xlink:href",r="gcs-back/gradients/gradients/gradients--comparison="+
a.comparison.id+"--tries=4--alpha=False--tile_size=10--whiten=true--steps=1024--icon_size=90--grid_size=10--layer=mixed5b--model=InceptionV1--sample_images=1000000--sample_type=random.jpg");f(n,"alt",p=a.comparison.label);f(E,"x","-10");f(E,"dy","1.3em");f(J,"x","-10");f(J,"dy","1.3em");f(J,"font-weight","bold");f(u,"y","-50");f(u,"text-anchor","end");f(u,"class","svelte-1jr0ob8");f(t,"x","10");f(t,"dy","1.3em");f(C,"x","10");f(C,"dy","1.3em");f(C,"font-weight","bold");f(B,"y","-50");f(B,"class",
"svelte-1jr0ob8");f(K,"x2","-50");f(K,"transform","translate(-120,0)");f(K,"stroke",a.color);f(K,"marker-end","url(#arrow)");f(M,"x2","50");f(M,"transform","translate(120,0)");f(M,"stroke",a.color);f(M,"marker-end","url(#arrow)");f(F,"transform","translate(0, -28)");f(y,"transform",N="translate("+a.width/2+", 0)");f(R,"y2","-50");f(R,"transform","translate(0,-38)");f(R,"stroke",a.color);f(R,"marker-end","url(#arrow)");f(x,"y2","50");f(x,"transform","translate(0,30)");f(x,"stroke",a.color);f(x,"marker-end",
"url(#arrow)");f(Na,"transform","translate(10, 0)");f(ja,"x","0");f(ja,"y","-1.8em");f(Z,"x","0");f(Z,"y","-0.6em");f(kb,"x","0");f(kb,"y","0.6em");f(G,"x","0");f(G,"y","1.8em");f(V,"alignment-baseline","middle");f(V,"class","svelte-1jr0ob8");f(S,"transform",O="translate("+(-a.margin.left+8)+","+a.height/2+")");f(aa,"y1",ea=-a.margin.top+4);f(aa,"y2",fd=a.height+8);f(aa,"stroke","white");f(aa,"stroke-width","5");f(aa,"stroke-opacity","0.6");f(ra,"y1",ba=-a.margin.top+4);f(ra,"y2",Da=a.height+8);f(ra,
"stroke","black");f(X,"transform",Ea="translate("+a.width/2+", 0)");f(k,"transform",ia="translate("+a.margin.left+","+a.margin.top+")");f(d,"class","overlay svelte-1jr0ob8");f(d,"viewBox",mb="0 0 "+a.outerWidth+" "+a.outerHeight);c.className="overlay-wrap svelte-1jr0ob8"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);e.appendChild(h);h.appendChild(g);d.appendChild(k);k.appendChild(n);k.appendChild(y);y.appendChild(u);u.appendChild(E);E.appendChild(A);u.appendChild(J);J.appendChild(T);
y.appendChild(B);B.appendChild(t);t.appendChild(H);B.appendChild(C);C.appendChild(L);y.appendChild(F);F.appendChild(K);F.appendChild(M);k.appendChild(S);S.appendChild(Na);Na.appendChild(R);Na.appendChild(x);S.appendChild(V);V.appendChild(ja);ja.appendChild(ka);V.appendChild(Z);Z.appendChild(D);V.appendChild(kb);kb.appendChild(P);V.appendChild(G);G.appendChild(Q);k.appendChild(X);X.appendChild(aa);X.appendChild(ra);for(a=0;a<Ba.length;a+=1)Ba[a].m(k,null);k.appendChild(oa);for(a=0;a<Y.length;a+=1)Y[a].m(k,
null);k.appendChild(Ua);ha&&ha.m(k,null)},p(a,c){a.color&&f(g,"fill",c.color);a.width&&f(n,"width",c.width);a.height&&f(n,"height",c.height);a.comparison&&r!==(r="gcs-back/gradients/gradients/gradients--comparison="+c.comparison.id+"--tries=4--alpha=False--tile_size=10--whiten=true--steps=1024--icon_size=90--grid_size=10--layer=mixed5b--model=InceptionV1--sample_images=1000000--sample_type=random.jpg")&&ab(n,"xlink:href",r);a.comparison&&p!==(p=c.comparison.label)&&
f(n,"alt",p);a.comparison&&w!==(w=c.comparison.leftLabel)&&W(T,w);a.comparison&&q!==(q=c.comparison.rightLabel)&&W(L,q);a.color&&(f(K,"stroke",c.color),f(M,"stroke",c.color));a.width&&N!==(N="translate("+c.width/2+", 0)")&&f(y,"transform",N);a.color&&(f(R,"stroke",c.color),f(x,"stroke",c.color));(a.margin||a.height)&&O!==(O="translate("+(-c.margin.left+8)+","+c.height/2+")")&&f(S,"transform",O);a.margin&&ea!==(ea=-c.margin.top+4)&&f(aa,"y1",ea);a.height&&fd!==(fd=c.height+8)&&f(aa,"y2",fd);a.margin&&
ba!==(ba=-c.margin.top+4)&&f(ra,"y1",ba);a.height&&Da!==(Da=c.height+8)&&f(ra,"y2",Da);a.width&&Ea!==(Ea="translate("+c.width/2+", 0)")&&f(X,"transform",Ea);if(a.width||a.height){wa=da(11);for(var e=0;e<wa.length;e+=1){var h=sg(c,wa,e);Ba[e]?Ba[e].p(a,h):(Ba[e]=tg(b,h),Ba[e].c(),Ba[e].m(k,oa))}for(;e<Ba.length;e+=1)Ba[e].d(1);Ba.length=wa.length}if(a.width||a.height){sa=da(11);for(e=0;e<sa.length;e+=1)h=rg(c,sa,e),Y[e]?Y[e].p(a,h):(Y[e]=ug(b,h),Y[e].c(),Y[e].m(k,Ua));for(;e<Y.length;e+=1)Y[e].d(1);
Y.length=sa.length}c.comparison.annotation?ha?ha.p(a,c):(ha=vg(b,c),ha.c(),ha.m(k,null)):ha&&(ha.d(1),ha=null);a.margin&&ia!==(ia="translate("+c.margin.left+","+c.margin.top+")")&&f(k,"transform",ia);(a.outerWidth||a.outerHeight)&&mb!==(mb="0 0 "+c.outerWidth+" "+c.outerHeight)&&f(d,"viewBox",mb)},d(a){a&&z(c);U(Ba,a);U(Y,a);ha&&ha.d()}}}function tg(b,a){var c,d;return{c(){c=v("line");f(c,"x2",a.width);f(c,"transform",d="translate(0, "+a.height/10*a.tick+")");f(c,"stroke","black");f(c,"stroke-opacity",
"0.15");f(c,"stroke-dasharray","2,2")},m(a,b){a.insertBefore(c,b)},p(a,b){a.width&&f(c,"x2",b.width);a.height&&d!==(d="translate(0, "+b.height/10*b.tick+")")&&f(c,"transform",d)},d(a){a&&z(c)}}}function ug(b,a){var c,d;return{c(){c=v("line");f(c,"y2",a.width);f(c,"transform",d="translate("+a.height/10*a.tick+", 0)");f(c,"stroke","black");f(c,"stroke-opacity","0.15");f(c,"stroke-dasharray","2,2")},m(a,b){a.insertBefore(c,b)},p(a,b){a.width&&f(c,"y2",b.width);a.height&&d!==(d="translate("+b.height/
10*b.tick+", 0)")&&f(c,"transform",d)},d(a){a&&z(c)}}}function vg(b,a){for(var c,d=a.comparison.annotation,e=[],h=0;h<d.length;h+=1)e[h]=wg(b,qg(a,d,h));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=ma()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,b);a.insertBefore(c,b)},p(a,h){if(a.comparison||a.cellWidth||a.Math||a.width){d=h.comparison.annotation;for(var g=0;g<d.length;g+=1){let f=qg(h,d,g);e[g]?e[g].p(a,f):(e[g]=wg(b,f),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=
d.length}},d(a){U(e,a);a&&z(c)}}}function wg(b,a){var c,d,e,h,g,k=a.annotation.desc,n,l,p,y,u,E,A,J,w;return{c(){c=v("g");d=v("line");g=v("text");n=m(k);y=v("g");u=v("circle");A=v("circle");f(d,"x1",e=(a.annotation.pos.y+.5)*a.cellWidth+a.cellWidth/2*a.Math.sqrt(2));f(d,"x2",h=a.width+5);f(d,"stroke","black");f(d,"stroke-opacity","0.4");f(g,"x",l=a.width+10);f(g,"alignment-baseline","middle");f(g,"class","svelte-1jr0ob8");f(c,"transform",p="translate(0, "+(a.annotation.pos.x+.5)*a.cellWidth+")");
f(u,"r",E=a.cellWidth/2*a.Math.sqrt(2));f(u,"fill","none");f(u,"stroke","white");f(u,"stroke-opacity","0.5");f(u,"stroke-width","5");f(A,"r",J=a.cellWidth/2*a.Math.sqrt(2));f(A,"fill","none");f(A,"stroke","black");f(A,"stroke-opacity","1");f(y,"transform",w="translate("+(a.annotation.pos.y+.5)*a.cellWidth+", "+(a.annotation.pos.x+.5)*a.cellWidth+")")},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(g);g.appendChild(n);a.insertBefore(y,b);y.appendChild(u);y.appendChild(A)},p(a,b){(a.comparison||
a.cellWidth||a.Math)&&e!==(e=(b.annotation.pos.y+.5)*b.cellWidth+b.cellWidth/2*b.Math.sqrt(2))&&f(d,"x1",e);a.width&&h!==(h=b.width+5)&&f(d,"x2",h);a.comparison&&k!==(k=b.annotation.desc)&&W(n,k);a.width&&l!==(l=b.width+10)&&f(g,"x",l);(a.comparison||a.cellWidth)&&p!==(p="translate(0, "+(b.annotation.pos.x+.5)*b.cellWidth+")")&&f(c,"transform",p);(a.cellWidth||a.Math)&&E!==(E=b.cellWidth/2*b.Math.sqrt(2))&&f(u,"r",E);(a.cellWidth||a.Math)&&J!==(J=b.cellWidth/2*b.Math.sqrt(2))&&f(A,"r",J);(a.comparison||
a.cellWidth)&&w!==(w="translate("+(b.annotation.pos.y+.5)*b.cellWidth+", "+(b.annotation.pos.x+.5)*b.cellWidth+")")&&f(y,"transform",w)},d(a){a&&(z(c),z(y))}}}function tb(b){x(this,b);this._state=q(q(q({Math},this.store._init(["classComparisons"])),{width:504,selected:0,margin:{top:60,right:80,bottom:5,left:80},color:"#9a9cad",currentClassComparisonIndex:0}),b.data);this.store._add(this,["classComparisons"]);this._recompute({width:1,margin:1,height:1,currentClassComparisonIndex:1,$classComparisons:1},
this._state);this._intro=!0;this._handlers.destroy=[oa];this._fragment=cm(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function xg(b,a,c){b=Object.create(b);b.row=a[c];b.i=c;return b}function yg(b,a,c){b=Object.create(b);b.c=a[c];return b}function dm(b,a){for(var c,d=a.classifications,e=[],h=0;h<d.length;h+=1)e[h]=zg(b,yg(a,d,h));return{c(){c=l("div");for(var b=0;b<e.length;b+=1)e[b].c();c.className="adversarial svelte-1vijrjb";t(c,"grid-template-columns","repeat("+
a.classifications.length+", 1fr)")},m(a,b){a.insertBefore(c,b);for(a=0;a<e.length;a+=1)e[a].m(c,null)},p(a,h){if(a.classifications||a.left||a.right||a.aspectRatio){d=h.classifications;for(var g=0;g<d.length;g+=1){let f=yg(h,d,g);e[g]?e[g].p(a,f):(e[g]=zg(b,f),e[g].c(),e[g].m(c,null))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}a.classifications&&t(c,"grid-template-columns","repeat("+h.classifications.length+", 1fr)")},d(a){a&&z(c);U(e,a)}}}function Ag(b,a){var c,d,e=a.i+1,h,g,f,n,r=a.row[0],
p,y,u,E=Bg(a.row[1]),A,J,w;return{c(){c=l("tr");d=l("td");h=m(e);g=m(".");f=m("\n            ");n=l("td");p=m(r);y=m("\n            ");u=l("td");A=m(E);J=m("%");d.className="svelte-1vijrjb";n.className="svelte-1vijrjb";u.className="svelte-1vijrjb";c.className=w=(a.row[0]===a.left?"left":"")+" "+(a.row[0]===a.right?"right":"")+" svelte-1vijrjb"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(h);d.appendChild(g);c.appendChild(f);c.appendChild(n);n.appendChild(p);c.appendChild(y);c.appendChild(u);
u.appendChild(A);u.appendChild(J)},p(a,b){a.classifications&&r!==(r=b.row[0])&&W(p,r);a.classifications&&E!==(E=Bg(b.row[1]))&&W(A,E);(a.classifications||a.left||a.right)&&w!==(w=(b.row[0]===b.left?"left":"")+" "+(b.row[0]===b.right?"right":"")+" svelte-1vijrjb")&&(c.className=w)},d(a){a&&z(c)}}}function zg(b,a){for(var c,d,e,h,g,f,n,r=a.c.caption,p,y,u=new O({root:b.root,store:b.store,data:{style:"image-rendering: crisp-edges;image-rendering: pixelated;",src:a.c.image,alt:""+a.left+" / "+a.right,
aspectRatio:a.aspectRatio}}),E=a.c.rows,A=[],J=0;J<E.length;J+=1)A[J]=Ag(b,xg(a,E,J));return{c(){c=l("div");d=l("div");u._fragment.c();e=m("\n      ");h=l("div");g=l("table");for(var a=0;a<A.length;a+=1)A[a].c();f=m("\n      ");n=l("div");p=m(r);y=m("\n    ");d.className="image";g.className="svelte-1vijrjb";h.className="table";n.className="figcaption svelte-1vijrjb";c.className="class svelte-1vijrjb"},m(a,b){a.insertBefore(c,b);c.appendChild(d);u._mount(d,null);c.appendChild(e);c.appendChild(h);h.appendChild(g);
for(a=0;a<A.length;a+=1)A[a].m(g,null);c.appendChild(f);c.appendChild(n);n.appendChild(p);c.appendChild(y)},p(a,c){var d={};a.classifications&&(d.src=c.c.image);if(a.left||a.right)d.alt=""+c.left+" / "+c.right;a.aspectRatio&&(d.aspectRatio=c.aspectRatio);u._set(d);if(a.classifications||a.left||a.right){E=c.c.rows;for(d=0;d<E.length;d+=1){let e=xg(c,E,d);A[d]?A[d].p(a,e):(A[d]=Ag(b,e),A[d].c(),A[d].m(g,null))}for(;d<A.length;d+=1)A[d].d(1);A.length=E.length}a.classifications&&r!==(r=c.c.caption)&&
W(p,r)},d(a){a&&z(c);u.destroy();U(A,a)}}}function Zb(b){x(this,b);this._state=q({image:"",left:"",right:"",classifications:[],aspectRatio:1},b.data);this._intro=!0;this._fragment=dm(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function em(b,a){var c,d,e,h,g,f,n,r,p,y,u,E,A=new O({root:b.root,store:b.store,data:{src:"assets/images/render--x%3D0--y%3D0--tries%3D4--alpha%3DFalse--tile_size%3D20--whiten%3Dtrue--steps%3D1024--icon_size%3D80--grid_size%3D20--layout%3D50_0.05_cosine--class_filter%3DNone--filter%3D10000--layer%3Dmixed4c--model%3DInceptionV1--sample_images%3D1000000--sample_type%3Drandom.jpg",
alt:"10,000 activations"}}),J=new O({root:b.root,store:b.store,data:{src:"assets/images/render--x%3D0--y%3D0--tries%3D4--alpha%3DFalse--tile_size%3D20--whiten%3Dtrue--steps%3D1024--icon_size%3D80--grid_size%3D20--layout%3D50_0.05_cosine--class_filter%3DNone--filter%3D100000--layer%3Dmixed4c--model%3DInceptionV1--sample_images%3D1000000--sample_type%3Drandom.jpg",alt:"100,000 activations"}}),w=new O({root:b.root,store:b.store,data:{src:"assets/images/render--x%3D0--y%3D0--tries%3D4--alpha%3DFalse--tile_size%3D20--whiten%3Dtrue--steps%3D1024--icon_size%3D80--grid_size%3D20--layout%3D50_0.05_cosine--class_filter%3DNone--filter%3D1000000--layer%3Dmixed4c--model%3DInceptionV1--sample_images%3D1000000--sample_type%3Drandom.jpg",
alt:"1,000,000 activations"}});return{c(){c=l("div");d=l("div");A._fragment.c();e=m("\n    ");h=l("div");h.textContent="10,000 activations";g=m("\n  ");f=l("div");J._fragment.c();n=m("\n    ");r=l("div");r.textContent="100,000 activations";p=m("\n  ");y=l("div");w._fragment.c();u=m("\n    ");E=l("div");E.textContent="1,000,000 activations";t(h,"margin-top","4px");t(r,"margin-top","4px");t(E,"margin-top","4px");c.className="svelte-1ppku9e svelte-ref-root"},m(a,k){a.insertBefore(c,k);c.appendChild(d);
A._mount(d,null);d.appendChild(e);d.appendChild(h);c.appendChild(g);c.appendChild(f);J._mount(f,null);f.appendChild(n);f.appendChild(r);c.appendChild(p);c.appendChild(y);w._mount(y,null);y.appendChild(u);y.appendChild(E);b.refs.root=c},p:X,d(a){a&&z(c);A.destroy();J.destroy();w.destroy();b.refs.root===c&&(b.refs.root=null)}}}function Cg(b){x(this,b);this.refs={};this._state=q({},b.data);this._intro=!0;this._fragment=em(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),
G(this))}function fm(b,a){var c,d,e,h,g,f,n,r,p,y,u,E,A,J,w,v=new O({root:b.root,store:b.store,data:{src:"assets/images/grid-size-32x32.png",alt:"32 x 32"}}),q=new O({root:b.root,store:b.store,data:{src:"assets/images/grid-size-8x8.png",alt:"8 x 8"}}),I=new O({root:b.root,store:b.store,data:{src:"assets/images/grid-size-2x2.png",alt:"2 x 2"}});return{c(){c=l("div");d=l("div");e=l("div");v._fragment.c();h=m("\n      ");g=l("div");g.innerHTML="<b>32 x 32</b> When the grid is too small, the feature visualizations are too small to see.";
f=m("\n  ");n=l("div");r=l("div");q._fragment.c();p=m("\n      ");y=l("div");y.innerHTML="<b>8 x 8</b> When just right, the activation atlas shows all the concepts with feature visualizations that are big enough to see.";u=m("\n  ");E=l("div");A=l("div");I._fragment.c();J=m("\n      ");w=l("div");w.innerHTML="<b>2 x 2</b> When the grid is too big, concepts are lost in the averages. One sees less diversity within related concepts.";e.className="atlas";g.className="figcaption svelte-dmx176";r.className=
"atlas";y.className="figcaption svelte-dmx176";A.className="atlas";w.className="figcaption svelte-dmx176";t(c,"display","grid");t(c,"grid-auto-flow","column");t(c,"grid-column-gap","20px");t(c,"grid-auto-columns","1fr")},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);v._mount(e,null);d.appendChild(h);d.appendChild(g);c.appendChild(f);c.appendChild(n);n.appendChild(r);q._mount(r,null);n.appendChild(p);n.appendChild(y);c.appendChild(u);c.appendChild(E);E.appendChild(A);I._mount(A,null);
E.appendChild(J);E.appendChild(w)},p:X,d(a){a&&z(c);v.destroy();q.destroy();I.destroy()}}}function Dg(b){x(this,b);this._state=q({},b.data);this._intro=!0;this._fragment=fm(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function gm(){this.refs.figure.addEventListener("ready",(b)=>{this.set({ready:!0})});this.refs.figure.addEventListener("onscreen",(b)=>{this.set({onscreen:!0});this.fire("onscreen")});this.refs.figure.addEventListener("offscreen",(b)=>{this.set({onscreen:!1});
this.fire("offscreen")})}function hm(b,a){var c,d=b._slotted.default;return{c(){c=l("d-figure")},m(a,h){a.insertBefore(c,h);d&&c.appendChild(d);b.refs.figure=c},p:X,d(a){a&&z(c);d&&Sa(c,d);b.refs.figure===c&&(b.refs.figure=null)}}}function Eg(b){x(this,b);this.refs={};this._state=q({ready:!1,onscreen:!1},b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=hm(this,this._state);this.root._oncreate.push(()=>{gm.call(this);this.fire("update",{changed:ia({},this._state),current:this._state})});
b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function im({inputWidth:b,columnWidth:a,columnMargin:c}){return 2*b+3*a+4*c}function jm({inputWidth:b}){return b+40}function km({timerCount:b,numCells:a}){return Math.round(b)%(a*a)}function lm({clippedCount:b,numCells:a}){return b%a}function mm({clippedCount:b,numCells:a}){return Math.floor(b/a)}function nm({inputWidth:b,numCells:a,cellPadding:c}){return(b+c)/a-c}function om({numCells:b,windowSize:a}){return b+a-1}function pm({inputWidth:b,
numInputCells:a,cellPadding:c}){return(b+c)/a-c}function qm({numCells:b}){return da(b).map((a)=>da(b).map((a)=>da(6).map((a)=>Math.random()-.5)))}function Fg(b){let {component:a,ctx:c}=this._svelte;a.set({timerCount:c.y*c.numCells+c.x})}function Gg(b,a,c){b=Object.create(b);b.x=a[c];return b}function Hg(b,a,c){b=Object.create(b);b.y=a[c];return b}function Ig(b,a,c){b=Object.create(b);b.activation=a[c];b.i=c;return b}function Jg(b){let {component:a,ctx:c}=this._svelte;a.set({timerCount:c.Math.min(c.numCells-
1,c.Math.max(0,c.y-c.windowSize+2))*c.numCells+c.Math.min(c.numCells-1,c.Math.max(0,c.x-c.windowSize+2))})}function Kg(b,a,c){b=Object.create(b);b.x=a[c];return b}function Lg(b,a,c){b=Object.create(b);b.y=a[c];return b}function rm(b,a){function c(a){b.set({timerCount:47})}var d,e,h,g,k,n,r,p,y,u,E,A,J,w,q,B,I,H,C,Hc,L,F,K,M,N,S,Na,R,x,V,ja,ka,Z,D,G,P,O,Q,X,aa,W,ea,ba,ra,ia,Da,Ea,oa,Ua,ma,mb,wa,Ba,xa,sa,Y,ha,ca,ya,ta,Ja,fa,dc,Wb,Xb,Ca,la,pa,na,za,va,$a,ua,Qa,qa,bb,Sa,Ga,nb,Aa,Ta,Ha,Pa,cb,fb,Ka,Xa,
Ya,Za,Ra,hb={};if(void 0!==a.onscreen){hb.onscreen=a.onscreen;var qb=!0}var ob=new Eg({root:b.root,store:b.store,data:hb,_bind(a,c){var d={};!qb&&a.onscreen&&(d.onscreen=c.onscreen);b._set(d);qb=void 0}});b.root._beforecreate.push(()=>{ob._bind({onscreen:1},ob.get())});ob.on("onscreen",function(a){b.set({timerCount:47})});for(var Oa=da(a.numInputCells),La=[],Va=0;Va<Oa.length;Va+=1)La[Va]=Mg(b,Lg(a,Oa,Va));var Ia=a.activations[a.windowX][a.windowY],Wa=[];for(Va=0;Va<Ia.length;Va+=1)Wa[Va]=Ng(b,Ig(a,
Ia,Va));var Fa=da(a.numCells),Ma=[];for(Va=0;Va<Fa.length;Va+=1)Ma[Va]=Og(b,Hg(a,Fa,Va));return{c(){d=l("div");ob._fragment.c();e=m("\n\n  ");h=v("svg");g=v("clipPath");k=v("rect");p=v("clipPath");y=v("rect");w=v("g");q=v("g");B=v("text");I=m("Input image");H=v("image");for(var b=0;b<La.length;b+=1)La[b].c();C=v("rect");M=v("g");N=v("path");R=v("text");x=m("Image patch");V=v("g");ja=v("image");Z=v("rect");D=v("text");G=v("tspan");P=m("Overlapping patches");O=v("tspan");Q=m("of the input image are");
X=v("tspan");aa=m("evaluated one by one.");ba=v("g");ra=v("path");Ea=v("text");oa=m("Activations");for(b=0;b<Wa.length;b+=1)Wa[b].c();Ua=v("text");ma=v("tspan");mb=m("We record a single ");wa=v("tspan");Ba=m("activation value for each ");xa=v("tspan");sa=m("of the 512 neurons.");Y=v("tspan");ha=m("(values shown are mocked)");ta=v("g");Ja=v("path");Wb=v("text");Xb=m("Feature visualization");Ca=v("g");la=v("image");na=v("rect");za=v("text");va=v("tspan");$a=m("We then produce a  ");ua=v("tspan");Qa=
m("feature visualization");qa=v("tspan");bb=m("and place them on a grid.");nb=v("g");Aa=v("path");Pa=v("text");cb=m("Activation grid");fb=v("image");for(b=0;b<Ma.length;b+=1)Ma[b].c();Ka=v("rect");f(k,"x",n=a.windowX*a.cellWidth);f(k,"y",r=a.windowY*a.cellWidth);f(k,"width",a.cellWidth);f(k,"height",a.cellWidth);f(g,"id","activationGridClipRect");f(y,"x",u=a.windowX*a.inputCellWidth);f(y,"y",E=a.windowY*a.inputCellWidth);f(y,"width",A=a.inputCellWidth*a.windowSize);f(y,"height",J=a.inputCellWidth*
a.windowSize);f(p,"id","activationGridClipRectInput");f(B,"class","head svelte-qwhwb1");f(B,"dy","-13");ab(H,"xlink:href","assets/images/dogcat.jpg");f(H,"width",a.inputWidth);f(H,"height",a.inputWidth);f(C,"stroke","rgb(255, 170, 0)");f(C,"pointer-events","none");f(C,"stroke-width","2");f(C,"fill-opacity","0");f(C,"x",Hc=a.windowX*a.inputCellWidth);f(C,"y",L=a.windowY*a.inputCellWidth);f(C,"width",F=a.inputCellWidth*a.windowSize);f(C,"height",K=a.inputCellWidth*a.windowSize);f(q,"transform","translate(0, 0)");
f(N,"class","arrow svelte-qwhwb1");f(N,"transform",S="translate(0,"+a.columnWidth/2+")");f(N,"d",Na="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5");f(R,"class","head svelte-qwhwb1");f(R,"dy","-13");f(ja,"image-rendering","pixelated");ab(ja,"xlink:href","assets/images/dogcat.jpg");f(ja,"width",a.inputWidth);f(ja,"height",a.inputWidth);f(ja,"clip-path","url(#activationGridClipRectInput)");f(V,"transform",ka="scale("+a.columnWidth/(a.inputCellWidth*a.windowSize)+")translate(-"+
a.windowX*a.inputCellWidth+", -"+a.windowY*a.inputCellWidth+")");f(Z,"stroke","rgb(255, 170, 0)");f(Z,"stroke-width","4");f(Z,"fill-opacity","0");f(Z,"width",a.columnWidth);f(Z,"height",a.columnWidth);f(G,"x","0");f(G,"dy","1.4em");f(O,"x","0");f(O,"dy","1.4em");f(X,"x","0");f(X,"dy","1.4em");f(D,"class","figcaption svelte-qwhwb1");f(D,"transform",W="translate(0, "+(a.columnWidth+10)+")");f(M,"transform",ea="translate("+(a.inputWidth+a.columnMargin)+", 0)");f(ra,"class","arrow svelte-qwhwb1");f(ra,
"transform",ia="translate(0,"+a.columnWidth/2+")");f(ra,"d",Da="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5");f(Ea,"class","head svelte-qwhwb1");f(Ea,"dy","-13");f(ma,"x","0");f(ma,"dy","1.4em");f(wa,"x","0");f(wa,"dy","1.4em");f(xa,"x","0");f(xa,"dy","1.4em");f(Y,"x","0");f(Y,"dy","1.4em");f(Ua,"class","figcaption svelte-qwhwb1");f(Ua,"transform",ca="translate(0, "+(a.columnWidth+10)+")");f(ba,"transform",ya="translate("+(a.inputWidth+a.columnMargin+a.columnWidth+a.columnMargin)+
", 0)");f(Ja,"class","arrow svelte-qwhwb1");f(Ja,"transform",fa="translate(0,"+a.columnWidth/2+")");f(Ja,"d",dc="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5");f(Wb,"class","head svelte-qwhwb1");f(Wb,"dy","-13");f(la,"image-rendering","pixelated");ab(la,"xlink:href","assets/images/dogcat-grid.jpg");f(la,"width",a.inputWidth);f(la,"height",a.inputWidth);f(la,"clip-path","url(#activationGridClipRect)");f(Ca,"transform",pa="scale("+a.columnWidth/a.cellWidth+")translate(-"+a.windowX*
a.cellWidth+", -"+a.windowY*a.cellWidth+")");f(na,"stroke","#ff6600");f(na,"stroke-width","4");f(na,"fill-opacity","0");f(na,"width",a.columnWidth);f(na,"height",a.columnWidth);f(va,"x","0");f(va,"dy","1.4em");f(ua,"x","0");f(ua,"dy","1.4em");f(qa,"x","0");f(qa,"dy","1.4em");f(za,"class","figcaption svelte-qwhwb1");f(za,"transform",Sa="translate(0, "+(a.columnWidth+10)+")");f(ta,"transform",Ga="translate("+(a.inputWidth+a.columnMargin+2*(a.columnWidth+a.columnMargin))+", 0)");f(Aa,"class","arrow svelte-qwhwb1");
f(Aa,"transform",Ta="translate(0,"+a.columnWidth/2+")");f(Aa,"d",Ha="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5");f(Pa,"class","head svelte-qwhwb1");f(Pa,"dy","-13");ab(fb,"xlink:href","assets/images/dogcat-grid.jpg");f(fb,"width",a.inputWidth);f(fb,"height",a.inputWidth);f(Ka,"stroke","#ff6600");f(Ka,"pointer-events","none");f(Ka,"stroke-width","2");f(Ka,"fill-opacity","0");f(Ka,"x",Xa=a.windowX*a.cellWidth);f(Ka,"y",Ya=a.windowY*a.cellWidth);f(Ka,"width",a.cellWidth);
f(Ka,"height",a.cellWidth);f(nb,"transform",Za="translate("+(a.inputWidth+a.columnMargin+3*(a.columnWidth+a.columnMargin))+", 0)");f(w,"transform","translate(0, 30)");t(h,"width","100%");f(h,"viewBox",Ra="0 0 "+a.width+" "+a.height);d.addEventListener("mouseout",c,void 0);t(d,"position","relative");t(d,"background","white");t(d,"text-align","right")},m(a,b){a.insertBefore(d,b);ob._mount(d,null);d.appendChild(e);d.appendChild(h);h.appendChild(g);g.appendChild(k);h.appendChild(p);p.appendChild(y);h.appendChild(w);
w.appendChild(q);q.appendChild(B);B.appendChild(I);q.appendChild(H);for(a=0;a<La.length;a+=1)La[a].m(q,null);q.appendChild(C);w.appendChild(M);M.appendChild(N);M.appendChild(R);R.appendChild(x);M.appendChild(V);V.appendChild(ja);M.appendChild(Z);M.appendChild(D);D.appendChild(G);G.appendChild(P);D.appendChild(O);O.appendChild(Q);D.appendChild(X);X.appendChild(aa);w.appendChild(ba);ba.appendChild(ra);ba.appendChild(Ea);Ea.appendChild(oa);for(a=0;a<Wa.length;a+=1)Wa[a].m(ba,null);ba.appendChild(Ua);
Ua.appendChild(ma);ma.appendChild(mb);Ua.appendChild(wa);wa.appendChild(Ba);Ua.appendChild(xa);xa.appendChild(sa);Ua.appendChild(Y);Y.appendChild(ha);w.appendChild(ta);ta.appendChild(Ja);ta.appendChild(Wb);Wb.appendChild(Xb);ta.appendChild(Ca);Ca.appendChild(la);ta.appendChild(na);ta.appendChild(za);za.appendChild(va);va.appendChild($a);za.appendChild(ua);ua.appendChild(Qa);za.appendChild(qa);qa.appendChild(bb);w.appendChild(nb);nb.appendChild(Aa);nb.appendChild(Pa);Pa.appendChild(cb);nb.appendChild(fb);
for(a=0;a<Ma.length;a+=1)Ma[a].m(nb,null);nb.appendChild(Ka)},p(c,d){a=d;d={};!qb&&c.onscreen&&(d.onscreen=a.onscreen,qb=void 0!==a.onscreen);ob._set(d);qb=void 0;(c.windowX||c.cellWidth)&&n!==(n=a.windowX*a.cellWidth)&&f(k,"x",n);(c.windowY||c.cellWidth)&&r!==(r=a.windowY*a.cellWidth)&&f(k,"y",r);c.cellWidth&&(f(k,"width",a.cellWidth),f(k,"height",a.cellWidth));(c.windowX||c.inputCellWidth)&&u!==(u=a.windowX*a.inputCellWidth)&&f(y,"x",u);(c.windowY||c.inputCellWidth)&&E!==(E=a.windowY*a.inputCellWidth)&&
f(y,"y",E);(c.inputCellWidth||c.windowSize)&&A!==(A=a.inputCellWidth*a.windowSize)&&f(y,"width",A);(c.inputCellWidth||c.windowSize)&&J!==(J=a.inputCellWidth*a.windowSize)&&f(y,"height",J);c.inputWidth&&(f(H,"width",a.inputWidth),f(H,"height",a.inputWidth));if(c.numInputCells||c.windowX||c.windowSize||c.windowY||c.inputCellWidth||c.cellPadding||c.Math||c.numCells){Oa=da(a.numInputCells);for(d=0;d<Oa.length;d+=1){var e=Lg(a,Oa,d);La[d]?La[d].p(c,e):(La[d]=Mg(b,e),La[d].c(),La[d].m(q,C))}for(;d<La.length;d+=
1)La[d].d(1);La.length=Oa.length}(c.windowX||c.inputCellWidth)&&Hc!==(Hc=a.windowX*a.inputCellWidth)&&f(C,"x",Hc);(c.windowY||c.inputCellWidth)&&L!==(L=a.windowY*a.inputCellWidth)&&f(C,"y",L);(c.inputCellWidth||c.windowSize)&&F!==(F=a.inputCellWidth*a.windowSize)&&f(C,"width",F);(c.inputCellWidth||c.windowSize)&&K!==(K=a.inputCellWidth*a.windowSize)&&f(C,"height",K);c.columnWidth&&S!==(S="translate(0,"+a.columnWidth/2+")")&&f(N,"transform",S);c.columnMargin&&Na!==(Na="M"+-2*a.columnMargin/3+",0 L"+
-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5")&&f(N,"d",Na);c.inputWidth&&(f(ja,"width",a.inputWidth),f(ja,"height",a.inputWidth));(c.columnWidth||c.inputCellWidth||c.windowSize||c.windowX||c.windowY)&&ka!==(ka="scale("+a.columnWidth/(a.inputCellWidth*a.windowSize)+")translate(-"+a.windowX*a.inputCellWidth+", -"+a.windowY*a.inputCellWidth+")")&&f(V,"transform",ka);c.columnWidth&&(f(Z,"width",a.columnWidth),f(Z,"height",a.columnWidth));c.columnWidth&&W!==(W="translate(0, "+(a.columnWidth+10)+")")&&f(D,
"transform",W);(c.inputWidth||c.columnMargin)&&ea!==(ea="translate("+(a.inputWidth+a.columnMargin)+", 0)")&&f(M,"transform",ea);c.columnWidth&&ia!==(ia="translate(0,"+a.columnWidth/2+")")&&f(ra,"transform",ia);c.columnMargin&&Da!==(Da="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5")&&f(ra,"d",Da);if(c.activations||c.columnWidth||c.inputWidth||c.windowX||c.windowY){Ia=a.activations[a.windowX][a.windowY];for(d=0;d<Ia.length;d+=1)e=Ig(a,Ia,d),Wa[d]?Wa[d].p(c,e):(Wa[d]=Ng(b,e),
Wa[d].c(),Wa[d].m(ba,Ua));for(;d<Wa.length;d+=1)Wa[d].d(1);Wa.length=Ia.length}c.columnWidth&&ca!==(ca="translate(0, "+(a.columnWidth+10)+")")&&f(Ua,"transform",ca);(c.inputWidth||c.columnMargin||c.columnWidth)&&ya!==(ya="translate("+(a.inputWidth+a.columnMargin+a.columnWidth+a.columnMargin)+", 0)")&&f(ba,"transform",ya);c.columnWidth&&fa!==(fa="translate(0,"+a.columnWidth/2+")")&&f(Ja,"transform",fa);c.columnMargin&&dc!==(dc="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5")&&
f(Ja,"d",dc);c.inputWidth&&(f(la,"width",a.inputWidth),f(la,"height",a.inputWidth));(c.columnWidth||c.cellWidth||c.windowX||c.windowY)&&pa!==(pa="scale("+a.columnWidth/a.cellWidth+")translate(-"+a.windowX*a.cellWidth+", -"+a.windowY*a.cellWidth+")")&&f(Ca,"transform",pa);c.columnWidth&&(f(na,"width",a.columnWidth),f(na,"height",a.columnWidth));c.columnWidth&&Sa!==(Sa="translate(0, "+(a.columnWidth+10)+")")&&f(za,"transform",Sa);(c.inputWidth||c.columnMargin||c.columnWidth)&&Ga!==(Ga="translate("+
(a.inputWidth+a.columnMargin+2*(a.columnWidth+a.columnMargin))+", 0)")&&f(ta,"transform",Ga);c.columnWidth&&Ta!==(Ta="translate(0,"+a.columnWidth/2+")")&&f(Aa,"transform",Ta);c.columnMargin&&Ha!==(Ha="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5")&&f(Aa,"d",Ha);c.inputWidth&&(f(fb,"width",a.inputWidth),f(fb,"height",a.inputWidth));if(c.numCells||c.windowY||c.windowX||c.cellWidth||c.cellPadding){Fa=da(a.numCells);for(d=0;d<Fa.length;d+=1)e=Hg(a,Fa,d),Ma[d]?Ma[d].p(c,e):(Ma[d]=
Og(b,e),Ma[d].c(),Ma[d].m(nb,Ka));for(;d<Ma.length;d+=1)Ma[d].d(1);Ma.length=Fa.length}(c.windowX||c.cellWidth)&&Xa!==(Xa=a.windowX*a.cellWidth)&&f(Ka,"x",Xa);(c.windowY||c.cellWidth)&&Ya!==(Ya=a.windowY*a.cellWidth)&&f(Ka,"y",Ya);c.cellWidth&&(f(Ka,"width",a.cellWidth),f(Ka,"height",a.cellWidth));(c.inputWidth||c.columnMargin||c.columnWidth)&&Za!==(Za="translate("+(a.inputWidth+a.columnMargin+3*(a.columnWidth+a.columnMargin))+", 0)")&&f(nb,"transform",Za);(c.width||c.height)&&Ra!==(Ra="0 0 "+a.width+
" "+a.height)&&f(h,"viewBox",Ra)},d(a){a&&z(d);ob.destroy();U(La,a);U(Wa,a);U(Ma,a);d.removeEventListener("mouseout",c,void 0)}}}function Pg(b,a){var c,d,e,h;return{c(){c=v("rect");c._svelte={component:b,ctx:a};c.addEventListener("mouseover",Jg,void 0);f(c,"stroke","white");f(c,"fill","#aaa");f(c,"fill-opacity",d=a.x>=a.windowX&&a.x<a.windowX+a.windowSize&&a.y>=a.windowY&&a.y<a.windowY+a.windowSize?.01:.5);f(c,"stroke-opacity","0.2");f(c,"stroke-width","1");f(c,"x",e=a.x*(a.inputCellWidth+a.cellPadding));
f(c,"y",h=a.y*(a.inputCellWidth+a.cellPadding));f(c,"width",a.inputCellWidth);f(c,"height",a.inputCellWidth)},m(a,b){a.insertBefore(c,b)},p(b,k){a=k;c._svelte.ctx=a;(b.numInputCells||b.windowX||b.windowSize||b.windowY)&&d!==(d=a.x>=a.windowX&&a.x<a.windowX+a.windowSize&&a.y>=a.windowY&&a.y<a.windowY+a.windowSize?.01:.5)&&f(c,"fill-opacity",d);(b.numInputCells||b.inputCellWidth||b.cellPadding)&&e!==(e=a.x*(a.inputCellWidth+a.cellPadding))&&f(c,"x",e);(b.numInputCells||b.inputCellWidth||b.cellPadding)&&
h!==(h=a.y*(a.inputCellWidth+a.cellPadding))&&f(c,"y",h);b.inputCellWidth&&(f(c,"width",a.inputCellWidth),f(c,"height",a.inputCellWidth))},d(a){a&&z(c);c.removeEventListener("mouseover",Jg,void 0)}}}function Mg(b,a){for(var c,d=da(a.numInputCells),e=[],h=0;h<d.length;h+=1)e[h]=Pg(b,Kg(a,d,h));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=ma()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,b);a.insertBefore(c,b)},p(a,h){if(a.numInputCells||a.windowX||a.windowSize||a.windowY||a.inputCellWidth||a.cellPadding||
a.Math||a.numCells){d=da(h.numInputCells);for(var g=0;g<d.length;g+=1){let f=Kg(h,d,g);e[g]?e[g].p(a,f):(e[g]=Pg(b,f),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){U(e,a);a&&z(c)}}}function Qg(b,a){var c,d,e,h,g,k;return{c(){c=v("g");d=v("text");e=m("\u2026");h=v("line");f(d,"transform","rotate(90)translate(-7, -25)");f(d,"font-size","11");f(h,"y1","7");f(h,"y2","7");f(h,"stroke","#eee");f(h,"x2",g=2*a.inputWidth/3-20);f(c,"transform",k="translate(0,"+(20+
20*(a.activations[0][0].length-1))+")")},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);c.appendChild(h)},p(a,b){a.inputWidth&&g!==(g=2*b.inputWidth/3-20)&&f(h,"x2",g);a.activations&&k!==(k="translate(0,"+(20+20*(b.activations[0][0].length-1))+")")&&f(c,"transform",k)},d(a){a&&z(c)}}}function Ng(b,a){var c,d,e,h=a.i===a.activations[0][0].length-1?512:a.i,g,k,n,l=Rg(a.activation),p,y,u,E,A=a.i!==a.activations[a.windowX][a.windowY].length-1&&Qg(b,a);return{c(){A&&A.c();c=v("g");d=v("text");
e=m("neuron ");g=m(h);k=m(":");n=v("text");p=m(l);u=v("line");f(d,"font-size","11");f(d,"fill","#999");f(d,"dy","");f(n,"text-anchor","end");f(n,"font-size","11");f(n,"font-family","monospace");f(n,"dx",y=2*a.inputWidth/3-20);f(u,"y1","7");f(u,"y2","7");f(u,"stroke","#eee");f(u,"x2",a.columnWidth);f(c,"transform",E="translate(0,"+(a.i===a.activations[0][0].length-1?20+20*(a.i+1):20+20*a.i)+")")},m(a,b){A&&A.m(a,b);a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);d.appendChild(g);d.appendChild(k);
c.appendChild(n);n.appendChild(p);c.appendChild(u)},p(a,d){d.i!==d.activations[d.windowX][d.windowY].length-1?A?A.p(a,d):(A=Qg(b,d),A.c(),A.m(c.parentNode,c)):A&&(A.d(1),A=null);a.activations&&h!==(h=d.i===d.activations[0][0].length-1?512:d.i)&&W(g,h);(a.activations||a.windowX||a.windowY)&&l!==(l=Rg(d.activation))&&W(p,l);a.inputWidth&&y!==(y=2*d.inputWidth/3-20)&&f(n,"dx",y);a.columnWidth&&f(u,"x2",d.columnWidth);a.activations&&E!==(E="translate(0,"+(d.i===d.activations[0][0].length-1?20+20*(d.i+
1):20+20*d.i)+")")&&f(c,"transform",E)},d(a){A&&A.d(a);a&&z(c)}}}function Sg(b,a){var c,d,e,h;return{c(){c=v("rect");c._svelte={component:b,ctx:a};c.addEventListener("mouseover",Fg,void 0);f(c,"stroke","#ddd");f(c,"fill","#aaa");f(c,"fill-opacity",d=a.y===a.windowY&&a.x===a.windowX?.01:.5);f(c,"stroke-width","1");f(c,"x",e=a.x*(a.cellWidth+a.cellPadding));f(c,"y",h=a.y*(a.cellWidth+a.cellPadding));f(c,"width",a.cellWidth);f(c,"height",a.cellWidth)},m(a,b){a.insertBefore(c,b)},p(b,k){a=k;c._svelte.ctx=
a;(b.numCells||b.windowY||b.windowX)&&d!==(d=a.y===a.windowY&&a.x===a.windowX?.01:.5)&&f(c,"fill-opacity",d);(b.numCells||b.cellWidth||b.cellPadding)&&e!==(e=a.x*(a.cellWidth+a.cellPadding))&&f(c,"x",e);(b.numCells||b.cellWidth||b.cellPadding)&&h!==(h=a.y*(a.cellWidth+a.cellPadding))&&f(c,"y",h);b.cellWidth&&(f(c,"width",a.cellWidth),f(c,"height",a.cellWidth))},d(a){a&&z(c);c.removeEventListener("mouseover",Fg,void 0)}}}function Og(b,a){for(var c,d=da(a.numCells),e=[],h=0;h<d.length;h+=1)e[h]=Sg(b,
Gg(a,d,h));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=ma()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,b);a.insertBefore(c,b)},p(a,h){if(a.numCells||a.windowY||a.windowX||a.cellWidth||a.cellPadding){d=da(h.numCells);for(var g=0;g<d.length;g+=1){let f=Gg(h,d,g);e[g]?e[g].p(a,f):(e[g]=Sg(b,f),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){U(e,a);a&&z(c)}}}function ae(b){x(this,b);this._state=q(q({Math},{paused:!0,inputWidth:250,columnWidth:150,columnMargin:50,
numCells:14,cellPadding:0,windowSize:3,windowX:0,windowY:0,activations:da,timerCount:47}),b.data);this._recompute({inputWidth:1,columnWidth:1,columnMargin:1,timerCount:1,numCells:1,clippedCount:1,cellPadding:1,windowSize:1,numInputCells:1},this._state);this._intro=!0;this._fragment=rm(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function sm({width:b,columnPadding:a}){return(b+a)/3-a}function tm({columnWidth:b,inputPadding:a}){return(b+a)/3-a}function um({inputWidth:b,
numCells:a,cellPadding:c}){return(b+c)/a-c}function vm({columnWidth:b,numIcons:a}){return b/a}function Tg(b,a,c,d){return`M${b},${a} L${b+10},${a} L${b+40},${d} L${c},${d} m-5,-5 l5,5 l-5,5`}function wm(){console.log("loading");let {webURL:b}=this.get();xd(b).then((a)=>{this.set({webData:a})})}function Ug(b,a,c){b=Object.create(b);b.x=a[c];return b}function Vg(b,a,c){b=Object.create(b);b.y=a[c];return b}function Wg(b,a,c){b=Object.create(b);b.icon=a[c];return b}function Xg(b,a,c){b=Object.create(b);
b.x=a[c];return b}function Yg(b,a,c){b=Object.create(b);b.y=a[c];return b}function Zg(b,a,c){b=Object.create(b);b.input=a[c];b.i=c;return b}function xm(b,a){for(var c,d,e,h,g,k,n,l,m,y,u,E,A,J,w,q,B,I,H,C=a.inputs,x=[],L=0;L<C.length;L+=1)x[L]=$g(b,Zg(a,C,L));var F=a.webData,K=[];for(L=0;L<F.length;L+=1)K[L]=ah(b,Wg(a,F,L));var M=da(a.numIcons),N=[];for(L=0;L<M.length;L+=1)N[L]=bh(b,Vg(a,M,L));return{c(){c=v("svg");d=v("g");e=v("g");h=v("image");for(var b=0;b<x.length;b+=1)x[b].c();k=v("g");n=v("image");
for(b=0;b<K.length;b+=1)K[b].c();m=ma();for(b=0;b<N.length;b+=1)N[b].c();u=v("rect");J=v("path");q=v("rect");ab(h,"xlink:href","assets/images/mixed4c-layout.jpg");f(h,"width",a.columnWidth);f(h,"height",a.columnWidth);f(e,"transform",g="translate("+1*(a.columnWidth+a.columnPadding)+", 0)");f(n,"opacity",l=0<a.webData.length?1:0);ab(n,"xlink:href",a.renderURL);f(n,"width",a.columnWidth);f(n,"height",a.columnWidth);f(k,"transform",y="translate("+2*(a.columnWidth+a.columnPadding)+", 0)");f(u,"fill",
"none");f(u,"stroke","black");f(u,"stroke-width","2");f(u,"x",E=1*(a.columnWidth+a.columnPadding)+a.iconHighlight.x*a.iconWidth);f(u,"y",A=a.iconHighlight.y*a.iconWidth);f(u,"width",a.iconWidth);f(u,"height",a.iconWidth);f(J,"fill","none");f(J,"stroke","black");f(J,"d",w="M"+(1*(a.columnWidth+a.columnPadding)+a.iconHighlight.x*a.iconWidth+a.iconWidth/2)+","+a.iconHighlight.y*a.iconWidth+"l0,-30 l"+(a.columnWidth+a.columnPadding)+",0 l0,25 m-5,-5 l5,5 l5,-5");f(q,"fill","none");f(q,"stroke","black");
f(q,"stroke-width","2");f(q,"x",B=2*(a.columnWidth+a.columnPadding)+a.iconHighlight.x*a.iconWidth);f(q,"y",I=a.iconHighlight.y*a.iconWidth);f(q,"width",a.iconWidth);f(q,"height",a.iconWidth);f(d,"transform","translate(0, 40)");t(c,"width","100%");f(c,"viewBox",H="0 0 "+a.width+" "+a.height)},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);e.appendChild(h);for(a=0;a<x.length;a+=1)x[a].m(d,null);d.appendChild(k);k.appendChild(n);for(a=0;a<K.length;a+=1)K[a].m(k,null);k.appendChild(m);for(a=
0;a<N.length;a+=1)N[a].m(k,null);d.appendChild(u);d.appendChild(J);d.appendChild(q)},p(a,r){a.columnWidth&&(f(h,"width",r.columnWidth),f(h,"height",r.columnWidth));(a.columnWidth||a.columnPadding)&&g!==(g="translate("+1*(r.columnWidth+r.columnPadding)+", 0)")&&f(e,"transform",g);if(a.columnWidth||a.inputs||a.cellWidth||a.cellPadding||a.inputWidth||a.columnPadding||a.inputPadding||a.Math||a.numCells){C=r.inputs;for(var p=0;p<C.length;p+=1){var t=Zg(r,C,p);x[p]?x[p].p(a,t):(x[p]=$g(b,t),x[p].c(),x[p].m(d,
k))}for(;p<x.length;p+=1)x[p].d(1);x.length=C.length}a.webData&&l!==(l=0<r.webData.length?1:0)&&f(n,"opacity",l);a.renderURL&&ab(n,"xlink:href",r.renderURL);a.columnWidth&&(f(n,"width",r.columnWidth),f(n,"height",r.columnWidth));if(a.webData||a.iconWidth){F=r.webData;for(p=0;p<F.length;p+=1)t=Wg(r,F,p),K[p]?K[p].p(a,t):(K[p]=ah(b,t),K[p].c(),K[p].m(k,m));for(;p<K.length;p+=1)K[p].d(1);K.length=F.length}if(a.numIcons||a.iconWidth){M=da(r.numIcons);for(p=0;p<M.length;p+=1)t=Vg(r,M,p),N[p]?N[p].p(a,
t):(N[p]=bh(b,t),N[p].c(),N[p].m(k,null));for(;p<N.length;p+=1)N[p].d(1);N.length=M.length}(a.columnWidth||a.columnPadding)&&y!==(y="translate("+2*(r.columnWidth+r.columnPadding)+", 0)")&&f(k,"transform",y);(a.columnWidth||a.columnPadding||a.iconHighlight||a.iconWidth)&&E!==(E=1*(r.columnWidth+r.columnPadding)+r.iconHighlight.x*r.iconWidth)&&f(u,"x",E);(a.iconHighlight||a.iconWidth)&&A!==(A=r.iconHighlight.y*r.iconWidth)&&f(u,"y",A);a.iconWidth&&(f(u,"width",r.iconWidth),f(u,"height",r.iconWidth));
(a.columnWidth||a.columnPadding||a.iconHighlight||a.iconWidth)&&w!==(w="M"+(1*(r.columnWidth+r.columnPadding)+r.iconHighlight.x*r.iconWidth+r.iconWidth/2)+","+r.iconHighlight.y*r.iconWidth+"l0,-30 l"+(r.columnWidth+r.columnPadding)+",0 l0,25 m-5,-5 l5,5 l5,-5")&&f(J,"d",w);(a.columnWidth||a.columnPadding||a.iconHighlight||a.iconWidth)&&B!==(B=2*(r.columnWidth+r.columnPadding)+r.iconHighlight.x*r.iconWidth)&&f(q,"x",B);(a.iconHighlight||a.iconWidth)&&I!==(I=r.iconHighlight.y*r.iconWidth)&&f(q,"y",
I);a.iconWidth&&(f(q,"width",r.iconWidth),f(q,"height",r.iconWidth));(a.width||a.height)&&H!==(H="0 0 "+r.width+" "+r.height)&&f(c,"viewBox",H)},d(a){a&&z(c);U(x,a);U(K,a);U(N,a)}}}function ch(b,a){var c,d,e;return{c(){c=v("rect");f(c,"stroke","white");f(c,"fill","#aaa");f(c,"fill-opacity","0.6");f(c,"stroke-width","2");f(c,"x",d=a.x*(a.cellWidth+a.cellPadding));f(c,"y",e=a.y*(a.cellWidth+a.cellPadding));f(c,"width",a.cellWidth);f(c,"height",a.cellWidth)},m(a,b){a.insertBefore(c,b)},p(a,b){(a.numCells||
a.cellWidth||a.cellPadding)&&d!==(d=b.x*(b.cellWidth+b.cellPadding))&&f(c,"x",d);(a.numCells||a.cellWidth||a.cellPadding)&&e!==(e=b.y*(b.cellWidth+b.cellPadding))&&f(c,"y",e);a.cellWidth&&(f(c,"width",b.cellWidth),f(c,"height",b.cellWidth))},d(a){a&&z(c)}}}function dh(b,a){for(var c,d=da(a.numCells),e=[],h=0;h<d.length;h+=1)e[h]=ch(b,Xg(a,d,h));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=ma()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,b);a.insertBefore(c,b)},p(a,h){if(a.numCells||a.cellWidth||
a.cellPadding){d=da(h.numCells);for(var g=0;g<d.length;g+=1){let f=Xg(h,d,g);e[g]?e[g].p(a,f):(e[g]=ch(b,f),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){U(e,a);a&&z(c)}}}function eh(b,a){var c,d,e,h;return{c(){c=v("line");f(c,"stroke-dasharray","2 2");f(c,"y1",d=a.inputWidth+10);f(c,"y2",e=a.inputWidth+10);f(c,"x2",h=3*(a.inputWidth+a.inputPadding)-a.inputPadding);f(c,"stroke","#ddd")},m(a,b){a.insertBefore(c,b)},p(a,b){a.inputWidth&&d!==(d=b.inputWidth+
10)&&f(c,"y1",d);a.inputWidth&&e!==(e=b.inputWidth+10)&&f(c,"y2",e);(a.inputWidth||a.inputPadding)&&h!==(h=3*(b.inputWidth+b.inputPadding)-b.inputPadding)&&f(c,"x2",h)},d(a){a&&z(c)}}}function $g(b,a){for(var c,d,e,h,g,k,n,l,p,y,u,E,A,t,w,q=(a.Math.random()+"").slice(0,5),B,I,H=(a.Math.random()+"").slice(0,5),C,x,L,F,K,M,N,S=da(a.numCells),D=[],R=0;R<S.length;R+=1)D[R]=dh(b,Yg(a,S,R));var G=a.i!==a.inputs.length-1&&eh(b,a);return{c(){c=v("g");d=v("image");h=v("g");g=v("image");for(var b=0;b<D.length;b+=
1)D[b].c();l=v("rect");u=v("path");A=v("g");t=v("text");w=m("[");B=m(q);I=m(", ");C=m(H);x=m(", \u2026]\n          ");G&&G.c();M=v("path");ab(d,"xlink:href",e="assets/images/"+a.input.id+".jpg");f(d,"width",a.inputWidth);f(d,"height",a.inputWidth);ab(g,"xlink:href",k="assets/images/"+a.input.id+".jpg");f(g,"width",a.inputWidth);f(g,"height",a.inputWidth);f(h,"transform",n="translate("+(a.inputWidth+a.inputPadding)+", 0)");f(l,"fill","none");f(l,"stroke","black");f(l,"stroke-width","2");f(l,"x",p=
1*(a.inputWidth+a.inputPadding)+a.input.x*(a.cellWidth+a.cellPadding));f(l,"y",y=a.input.y*(a.cellWidth+a.cellPadding));f(l,"width",a.cellWidth);f(l,"height",a.cellWidth);f(u,"fill","none");f(u,"stroke","black");f(u,"d",E="M"+(1*(a.inputWidth+a.inputPadding)+a.input.x*(a.cellWidth+a.cellPadding)+a.cellWidth)+","+(a.input.y*(a.cellWidth+a.cellPadding)+a.cellWidth/2)+" L"+(2*(a.inputWidth+a.inputPadding)-10)+","+(a.input.y*(a.cellWidth+a.cellPadding)+a.cellWidth/2)+" m-5,-5 l5,5 l-5,5");f(t,"font-size",
"9");f(t,"dy",L=a.cellWidth/1.5);f(A,"transform",F="translate("+2*(a.inputWidth+a.inputPadding)+", "+a.input.y*(a.cellWidth+a.cellPadding)+")");f(c,"transform",K="translate(0, "+(a.inputWidth+20)*a.i+")");f(M,"fill","none");f(M,"stroke","black");f(M,"d",N=Tg(a.columnWidth,a.input.y*(a.cellWidth+a.cellPadding)+a.cellWidth/2+(a.inputWidth+20)*a.i,a.columnWidth+a.columnPadding+a.columnWidth*a.input.px,a.columnWidth*a.input.py))},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(h);h.appendChild(g);
for(var e=0;e<D.length;e+=1)D[e].m(h,null);c.appendChild(l);c.appendChild(u);c.appendChild(A);A.appendChild(t);t.appendChild(w);t.appendChild(B);t.appendChild(I);t.appendChild(C);t.appendChild(x);G&&G.m(c,null);a.insertBefore(M,b)},p(a,r){a.inputs&&e!==(e="assets/images/"+r.input.id+".jpg")&&ab(d,"xlink:href",e);a.inputWidth&&(f(d,"width",r.inputWidth),f(d,"height",r.inputWidth));a.inputs&&k!==(k="assets/images/"+r.input.id+".jpg")&&ab(g,"xlink:href",k);a.inputWidth&&(f(g,"width",r.inputWidth),f(g,
"height",r.inputWidth));if(a.numCells||a.cellWidth||a.cellPadding){S=da(r.numCells);for(var m=0;m<S.length;m+=1){let c=Yg(r,S,m);D[m]?D[m].p(a,c):(D[m]=dh(b,c),D[m].c(),D[m].m(h,null))}for(;m<D.length;m+=1)D[m].d(1);D.length=S.length}(a.inputWidth||a.inputPadding)&&n!==(n="translate("+(r.inputWidth+r.inputPadding)+", 0)")&&f(h,"transform",n);(a.inputWidth||a.inputPadding||a.inputs||a.cellWidth||a.cellPadding)&&p!==(p=1*(r.inputWidth+r.inputPadding)+r.input.x*(r.cellWidth+r.cellPadding))&&f(l,"x",
p);(a.inputs||a.cellWidth||a.cellPadding)&&y!==(y=r.input.y*(r.cellWidth+r.cellPadding))&&f(l,"y",y);a.cellWidth&&(f(l,"width",r.cellWidth),f(l,"height",r.cellWidth));(a.inputWidth||a.inputPadding||a.inputs||a.cellWidth||a.cellPadding)&&E!==(E="M"+(1*(r.inputWidth+r.inputPadding)+r.input.x*(r.cellWidth+r.cellPadding)+r.cellWidth)+","+(r.input.y*(r.cellWidth+r.cellPadding)+r.cellWidth/2)+" L"+(2*(r.inputWidth+r.inputPadding)-10)+","+(r.input.y*(r.cellWidth+r.cellPadding)+r.cellWidth/2)+" m-5,-5 l5,5 l-5,5")&&
f(u,"d",E);a.Math&&q!==(q=(r.Math.random()+"").slice(0,5))&&W(B,q);a.Math&&H!==(H=(r.Math.random()+"").slice(0,5))&&W(C,H);a.cellWidth&&L!==(L=r.cellWidth/1.5)&&f(t,"dy",L);(a.inputWidth||a.inputPadding||a.inputs||a.cellWidth||a.cellPadding)&&F!==(F="translate("+2*(r.inputWidth+r.inputPadding)+", "+r.input.y*(r.cellWidth+r.cellPadding)+")")&&f(A,"transform",F);r.i!==r.inputs.length-1?G?G.p(a,r):(G=eh(b,r),G.c(),G.m(c,null)):G&&(G.d(1),G=null);a.inputWidth&&K!==(K="translate(0, "+(r.inputWidth+20)*
r.i+")")&&f(c,"transform",K);(a.columnWidth||a.inputs||a.cellWidth||a.cellPadding||a.inputWidth||a.columnPadding)&&N!==(N=Tg(r.columnWidth,r.input.y*(r.cellWidth+r.cellPadding)+r.cellWidth/2+(r.inputWidth+20)*r.i,r.columnWidth+r.columnPadding+r.columnWidth*r.input.px,r.columnWidth*r.input.py))&&f(M,"d",N)},d(a){a&&z(c);U(D,a);G&&G.d();a&&z(M)}}}function ah(b,a){var c,d,e,h;return{c(){c=v("rect");f(c,"stroke","none");f(c,"fill","white");f(c,"fill-opacity",d=50<+a.icon.n?0:1);f(c,"x",e=a.icon.y*a.iconWidth);
f(c,"y",h=a.icon.x*a.iconWidth);f(c,"width",a.iconWidth);f(c,"height",a.iconWidth)},m(a,b){a.insertBefore(c,b)},p(a,b){a.webData&&d!==(d=50<+b.icon.n?0:1)&&f(c,"fill-opacity",d);(a.webData||a.iconWidth)&&e!==(e=b.icon.y*b.iconWidth)&&f(c,"x",e);(a.webData||a.iconWidth)&&h!==(h=b.icon.x*b.iconWidth)&&f(c,"y",h);a.iconWidth&&(f(c,"width",b.iconWidth),f(c,"height",b.iconWidth))},d(a){a&&z(c)}}}function fh(b,a){var c,d,e;return{c(){c=v("rect");f(c,"stroke","#ddd");f(c,"stroke-opacity","0.5");f(c,"fill",
"none");f(c,"stroke-width","1");f(c,"x",d=a.x*a.iconWidth);f(c,"y",e=a.y*a.iconWidth);f(c,"width",a.iconWidth);f(c,"height",a.iconWidth)},m(a,b){a.insertBefore(c,b)},p(a,b){(a.numIcons||a.iconWidth)&&d!==(d=b.x*b.iconWidth)&&f(c,"x",d);(a.numIcons||a.iconWidth)&&e!==(e=b.y*b.iconWidth)&&f(c,"y",e);a.iconWidth&&(f(c,"width",b.iconWidth),f(c,"height",b.iconWidth))},d(a){a&&z(c)}}}function bh(b,a){for(var c,d=da(a.numIcons),e=[],h=0;h<d.length;h+=1)e[h]=fh(b,Ug(a,d,h));return{c(){for(var a=0;a<e.length;a+=
1)e[a].c();c=ma()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,b);a.insertBefore(c,b)},p(a,h){if(a.numIcons||a.iconWidth){d=da(h.numIcons);for(var g=0;g<d.length;g+=1){let f=Ug(h,d,g);e[g]?e[g].p(a,f):(e[g]=fh(b,f),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){U(e,a);a&&z(c)}}}function hd(b){x(this,b);this._state=q(q({Math},{width:1E3,height:380,columnPadding:50,inputPadding:20,numCells:6,cellPadding:0,numIcons:10,iconHighlight:{x:2,y:0},layoutData:[],webData:[],
webURL:"gcs-back/process/web/web--grid_size=10--layout=50_0.05_cosine--class_filter=None--filter=30000--layer=mixed4c--model=InceptionV1--sample_images=1000000--sample_type=random.json",dataURL:"gcs-back/process/layout_data/layout_data--layout=50_0.05_cosine--class_filter=None--filter=30000--layer=mixed4c--model=InceptionV1--sample_images=1000000--sample_type=random.json",renderURL:"gcs-back/process/render/render--x=0--y=0--tries=4--alpha=False--tile_size=10--whiten=true--steps=2048--icon_size=80--grid_size=10--layout=50_0.05_cosine--class_filter=None--filter=30000--layer=mixed4c--model=InceptionV1--sample_images=1000000--sample_type=random.jpg",
inputs:[{id:"dogcat",x:2,y:1,px:.25,py:.033},{id:"dog",x:3,y:3,px:.28,py:.066},{id:"ocean",x:2,y:3,px:.25,py:.85}]}),b.data);this._recompute({width:1,columnPadding:1,columnWidth:1,inputPadding:1,inputWidth:1,numCells:1,cellPadding:1,numIcons:1},this._state);this._intro=!0;this._fragment=xm(this,this._state);this.root._oncreate.push(()=>{wm.call(this);this.fire("update",{changed:ia({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function ym(){setTimeout(()=>
{this.refs.atlas.home()},100)}function zm({}){}function Am(b,a){function c(){b.set({gridSize:u.__value})}function d(){b.set({gridSize:w.__value})}function e(){b.set({gridSize:H.__value})}function h(){b.set({gridSize:F.__value})}function g(){b.set({showLabels:S.checked})}var k,n,r,p,y,u,E,A,q,w,v,B,I,H,C,x,L,F,K,M,N,S,D,R,G,V={id:"inceptionv1_"+a.layerName,scaleCountFactor:"200",iconCrop:a.iconCrop,disableBehaviors:!0};if(void 0!==a.gridSize){V.gridSize=a.gridSize;var ja=!0}if(void 0!==a.showLabels){V.showLabels=
a.showLabels;var ka=!0}var Z=new ic({root:b.root,store:b.store,data:V,_bind(a,c){var d={};!ja&&a.gridSize&&(d.gridSize=c.gridSize);!ka&&a.showLabels&&(d.showLabels=c.showLabels);b._set(d);ka=ja=void 0}});b.root._beforecreate.push(()=>{Z._bind({gridSize:1,showLabels:1},Z.get())});b.refs.atlas=Z;V={clientWidth:a.clientWidth,clientHeight:a.clientHeight,minWidth:1E3};var O=new ed({root:b.root,store:b.store,slots:{default:aa()},data:V});return{c(){k=l("div");n=l("div");r=l("label");r.textContent="Grid size:";
p=m("\n    ");y=l("label");u=l("input");E=m(" 20x20");A=m("\n    ");q=l("label");w=l("input");v=m(" 40x40");B=m("\n    ");I=l("label");H=l("input");C=m(" 80x80");x=m("\n    ");L=l("label");F=l("input");K=m(" 160x160");M=m("\n\n    ");N=l("label");S=l("input");D=m(" attribution labels");R=m("\n\n\n");G=l("div");Z._fragment.c();O._fragment.c();b._bindingGroups[0].push(u);u.addEventListener("change",c,void 0);f(u,"type","radio");u.__value=0;u.value=u.__value;u.className="svelte-1q4832y";b._bindingGroups[0].push(w);
w.addEventListener("change",d,void 0);f(w,"type","radio");w.__value=1;w.value=w.__value;w.className="svelte-1q4832y";b._bindingGroups[0].push(H);H.addEventListener("change",e,void 0);f(H,"type","radio");H.__value=2;H.value=H.__value;H.className="svelte-1q4832y";b._bindingGroups[0].push(F);F.addEventListener("change",h,void 0);f(F,"type","radio");F.__value=3;F.value=F.__value;F.className="svelte-1q4832y";S.addEventListener("change",g,void 0);f(S,"type","checkbox");S.className="svelte-1q4832y";t(N,
"float","right");t(n,"grid-column","text");n.className="svelte-1q4832y svelte-ref-controls";k.className="base-grid";G.className="atlas svelte-1q4832y";t(G,"grid-column","screen")},m(c,d){c.insertBefore(k,d);k.appendChild(n);n.appendChild(r);n.appendChild(p);n.appendChild(y);y.appendChild(u);u.checked=u.__value===a.gridSize;y.appendChild(E);n.appendChild(A);n.appendChild(q);q.appendChild(w);w.checked=w.__value===a.gridSize;q.appendChild(v);n.appendChild(B);n.appendChild(I);I.appendChild(H);H.checked=
H.__value===a.gridSize;I.appendChild(C);n.appendChild(x);n.appendChild(L);L.appendChild(F);F.checked=F.__value===a.gridSize;L.appendChild(K);n.appendChild(M);n.appendChild(N);N.appendChild(S);S.checked=a.showLabels;N.appendChild(D);b.refs.controls=n;c.insertBefore(R,d);c.insertBefore(G,d);Z._mount(O._slotted.default,null);O._mount(G,null)},p(b,c){a=c;b.gridSize&&(u.checked=u.__value===a.gridSize);b.gridSize&&(w.checked=w.__value===a.gridSize);b.gridSize&&(H.checked=H.__value===a.gridSize);b.gridSize&&
(F.checked=F.__value===a.gridSize);b.showLabels&&(S.checked=a.showLabels);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);b.iconCrop&&(c.iconCrop=a.iconCrop);!ja&&b.gridSize&&(c.gridSize=a.gridSize,ja=void 0!==a.gridSize);!ka&&b.showLabels&&(c.showLabels=a.showLabels,ka=void 0!==a.showLabels);Z._set(c);ka=ja=void 0;c={};b.clientWidth&&(c.clientWidth=a.clientWidth);b.clientHeight&&(c.clientHeight=a.clientHeight);O._set(c)},d(a){a&&z(k);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(u),
1);u.removeEventListener("change",c,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(w),1);w.removeEventListener("change",d,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(H),1);H.removeEventListener("change",e,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(F),1);F.removeEventListener("change",h,void 0);S.removeEventListener("change",g,void 0);b.refs.controls===n&&(b.refs.controls=null);a&&(z(R),z(G));Z.destroy();b.refs.atlas===Z&&(b.refs.atlas=null);O.destroy()}}}
function gh(b){x(this,b);this.refs={};this._state=q({layerName:"mixed4c",gridSize:1,iconCrop:.4},b.data);this._bindingGroups=[[]];this._intro=!0;this._handlers.update=[zm];this._fragment=Am(this,this._state);this.root._oncreate.push(()=>{ym.call(this);this.fire("update",{changed:ia({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function Bm(b,a){var c,d,e,h,g,f,n,r,p,y,u,E,A,q={id:"inceptionv1_"+a.layerName,textShadow:!0,backgroundColor:"#dfdfdf"};
if(void 0!==a.gridSize){q.gridSize=a.gridSize;var w=!0}if(void 0!==a.homeX){q.homeX=a.homeX;var v=!0}if(void 0!==a.homeY){q.homeY=a.homeY;var B=!0}if(void 0!==a.homeScale){q.homeScale=a.homeScale;var I=!0}if(void 0!==a.aspectRatio){q.aspectRatio=a.aspectRatio;var H=!0}if(void 0!==a.scale){q.scale=a.scale;var C=!0}if(void 0!==a.extent){q.extent=a.extent;var x=!0}if(void 0!==a.showLabels){q.showLabels=a.showLabels;var L=!0}var F=new ic({root:b.root,store:b.store,data:q,_bind(a,c){var d={};!w&&a.gridSize&&
(d.gridSize=c.gridSize);!v&&a.homeX&&(d.homeX=c.homeX);!B&&a.homeY&&(d.homeY=c.homeY);!I&&a.homeScale&&(d.homeScale=c.homeScale);!H&&a.aspectRatio&&(d.aspectRatio=c.aspectRatio);!C&&a.scale&&(d.scale=c.scale);!x&&a.extent&&(d.extent=c.extent);!L&&a.showLabels&&(d.showLabels=c.showLabels);b._set(d);L=x=C=H=I=B=v=w=void 0}});b.root._beforecreate.push(()=>{F._bind({gridSize:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,extent:1,showLabels:1},F.get())});b.refs.atlas=F;q={};if(void 0!==a.extent){q.extent=
a.extent;var K=!0}var M=new yb({root:b.root,store:b.store,data:q,_bind(a,c){var d={};!K&&a.extent&&(d.extent=c.extent);b._set(d);K=void 0}});b.root._beforecreate.push(()=>{M._bind({extent:1},M.get())});M.on("drag",function(a){b.refs.atlas.translateTo(a.gcx,a.gcy)});var N=new Sb({root:b.root,store:b.store,data:{name:"home",color:"rgb(100, 100, 100)"}}),S=new bc({root:b.root,store:b.store,slots:{default:aa()},data:{backgroundColor:"rgb(245, 245 ,245)"}});S.on("click",function(a){b.refs.atlas.home(2E3)});
var D=new Sb({root:b.root,store:b.store,data:{name:"add",color:"rgb(100, 100, 100)"}}),G=new bc({root:b.root,store:b.store,slots:{default:aa()},data:{backgroundColor:"rgb(245, 245 ,245)"}});G.on("click",function(a){b.refs.atlas.scaleBy(2)});var O=new Sb({root:b.root,store:b.store,data:{name:"remove",color:"rgb(100, 100, 100)"}}),V=new bc({root:b.root,store:b.store,slots:{default:aa()},data:{backgroundColor:"rgb(245, 245 ,245)"}});V.on("click",function(a){b.refs.atlas.scaleBy(.5)});return{c(){c=l("div");
d=l("div");F._fragment.c();e=m("\n  ");h=l("div");g=l("div");f=l("img");p=m("\n      ");M._fragment.c();y=m("\n    ");u=l("div");N._fragment.c();S._fragment.c();E=m("\n      ");D._fragment.c();G._fragment.c();A=m("\n      ");O._fragment.c();V._fragment.c();d.className="detail svelte-12h17x1";f.src=n="assets/images/renders/thumbnail-"+a.layerName+".jpg";f.alt=r="thumbnail for "+a.layerName;f.className="svelte-12h17x1";g.className="atlas svelte-12h17x1";u.className="controls svelte-12h17x1";t(c,"display",
"grid");t(c,"grid-gap","20px");t(c,"grid-template-columns","1fr 120px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);F._mount(d,null);c.appendChild(e);c.appendChild(h);h.appendChild(g);g.appendChild(f);g.appendChild(p);M._mount(g,null);h.appendChild(y);h.appendChild(u);N._mount(S._slotted.default,null);S._mount(u,null);u.appendChild(E);D._mount(G._slotted.default,null);G._mount(u,null);u.appendChild(A);O._mount(V._slotted.default,null);V._mount(u,null)},p(b,c){a=c;c={};b.layerName&&(c.id="inceptionv1_"+
a.layerName);!w&&b.gridSize&&(c.gridSize=a.gridSize,w=void 0!==a.gridSize);!v&&b.homeX&&(c.homeX=a.homeX,v=void 0!==a.homeX);!B&&b.homeY&&(c.homeY=a.homeY,B=void 0!==a.homeY);!I&&b.homeScale&&(c.homeScale=a.homeScale,I=void 0!==a.homeScale);!H&&b.aspectRatio&&(c.aspectRatio=a.aspectRatio,H=void 0!==a.aspectRatio);!C&&b.scale&&(c.scale=a.scale,C=void 0!==a.scale);!x&&b.extent&&(c.extent=a.extent,x=void 0!==a.extent);!L&&b.showLabels&&(c.showLabels=a.showLabels,L=void 0!==a.showLabels);F._set(c);L=
x=C=H=I=B=v=w=void 0;b.layerName&&n!==(n="assets/images/renders/thumbnail-"+a.layerName+".jpg")&&(f.src=n);b.layerName&&r!==(r="thumbnail for "+a.layerName)&&(f.alt=r);c={};!K&&b.extent&&(c.extent=a.extent,K=void 0!==a.extent);M._set(c);K=void 0},d(a){a&&z(c);F.destroy();b.refs.atlas===F&&(b.refs.atlas=null);M.destroy();N.destroy();S.destroy();D.destroy();G.destroy();O.destroy();V.destroy()}}}function Xa(b){x(this,b);this.refs={};this._state=q({layerName:"mixed4c",gridSize:2,homeScale:14,showLabels:!0},
b.data);this._intro=!0;this._fragment=Bm(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function Cm({width:b}){return b}function Dm(b,a){var c,d;return{c(){c=l("div");d=l("canvas");t(d,"position","absolute");t(d,"top","0");t(d,"left","calc(50% - "+a.width/2+"px)");d.className="singleIcon";d.width=a.width;d.height=a.height;t(c,"position","relative");t(c,"overflow","hidden");t(c,"height",""+a.width+"px")},m(a,h){a.insertBefore(c,h);c.appendChild(d);b.refs.canvas=
d},p(a,b){a.width&&(t(d,"left","calc(50% - "+b.width/2+"px)"),d.width=b.width);a.height&&(d.height=b.height);a.width&&t(c,"height",""+b.width+"px")},d(a){a&&z(c);b.refs.canvas===d&&(b.refs.canvas=null)}}}function id(b){x(this,b);this.refs={};this._state=q({iconCrop:0,width:null,icon:null,config:null},b.data);this._recompute({width:1},this._state);this._intro=!0;this._fragment=Dm(this,this._state);this.root._oncreate.push(()=>{this.render();this.fire("update",{changed:ia({},this._state),current:this._state})});
b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function Em({layerName:b}){return"inceptionv1_"+b}function Fm({pointList:b,layers:a,pathZoomIndex:c}){let d=[];b.forEach((b)=>{if(a&&a[c]){var e=Math.floor(b[0]*a[c].length);b=Math.floor(b[1]*a[c].length);a[c][b]&&a[c][b][e]&&0<a[c][b][e].num_activations&&d.push(a[c][b][e])}});return d}function Gm({layers:b}){return b?b.length-1:1}function hh(b,a,c){b=Object.create(b);b.icon=a[c];b.i=c;return b}function Hm(b,a){for(var c,d,e,h,
g,k,n,r,p,y,u,E,A,q=a.imgList,w=[],x=0;x<q.length;x+=1)w[x]=ih(b,hh(a,q,x));x={id:a.fullId};void 0!==a.config&&(x.config=a.config,E=!0);void 0!==a.layers&&(x.layers=a.layers,A=!0);var B=new Fd({root:b.root,store:b.store,data:x,_bind(a,c){var d={};!E&&a.config&&(d.config=c.config);!A&&a.layers&&(d.layers=c.layers);b._set(d);A=E=void 0}});b.root._beforecreate.push(()=>{B._bind({config:1,layers:1},B.get())});return{c(){c=l("div");d=l("div");e=l("div");h=m("\n    ");g=l("div");k=m("\n    ");n=v("svg");
r=v("path");p=m("\n  ");y=l("div");for(var b=0;b<w.length;b+=1)w[b].c();u=m("\n\n  ");B._fragment.c();t(e,"position","absolute");t(e,"left","0px");t(e,"top","1px");t(e,"background-color",a.color);t(e,"border-radius","50%");t(e,"width","8px");t(e,"height","8px");t(g,"position","relative");t(g,"top","4px");t(g,"margin","0 4px");t(g,"border-top","solid 2px "+a.color);f(r,"d","M 0 0 L 10 5 L 0 10 z");f(r,"fill",a.color);t(n,"position","absolute");t(n,"right","0");t(n,"top","0");f(n,"width","10");f(n,
"height","10");f(n,"viewBox","0 0 10 10");t(d,"position","relative");t(d,"height","10px");y.className="icons svelte-w4igyz";t(y,"height",""+a.iconHeight+"px");c.className="set-of-icons svelte-w4igyz"},m(a,f){a.insertBefore(c,f);c.appendChild(d);d.appendChild(e);d.appendChild(h);d.appendChild(g);d.appendChild(k);d.appendChild(n);n.appendChild(r);c.appendChild(p);c.appendChild(y);for(var l=0;l<w.length;l+=1)w[l].m(y,null);b.refs.icons=y;b.refs.annotation=c;a.insertBefore(u,f);B._mount(a,f)},p(c,d){a=
d;c.color&&(t(e,"background-color",a.color),t(g,"border-top","solid 2px "+a.color),f(r,"fill",a.color));if(c.imgList||c.iconHeight||c.config){q=a.imgList;for(d=0;d<q.length;d+=1){let e=hh(a,q,d);w[d]?w[d].p(c,e):(w[d]=ih(b,e),w[d].c(),w[d].m(y,null))}for(;d<w.length;d+=1)w[d].d(1);w.length=q.length}c.iconHeight&&t(y,"height",""+a.iconHeight+"px");d={};c.fullId&&(d.id=a.fullId);!E&&c.config&&(d.config=a.config,E=void 0!==a.config);!A&&c.layers&&(d.layers=a.layers,A=void 0!==a.layers);B._set(d);A=E=
void 0},d(a){a&&z(c);U(w,a);b.refs.icons===y&&(b.refs.icons=null);b.refs.annotation===c&&(b.refs.annotation=null);a&&z(u);B.destroy(a)}}}function ih(b,a){var c=new id({root:b.root,store:b.store,data:{icon:a.icon,width:a.iconHeight,config:a.config}});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p(a,b){var d={};a.imgList&&(d.icon=b.icon);a.iconHeight&&(d.width=b.iconHeight);a.config&&(d.config=b.config);c._set(d)},d(a){c.destroy(a)}}}function be(b){x(this,b);this.refs={};this._state=q({container:null,
arrow:null,arrowHeight:30,imgList:[],color:"#ff6600",iconHeight:100,width:100,height:100},b.data);this._recompute({layerName:1,layers:1,pointList:1,pathZoomIndex:1},this._state);this._intro=!0;this._fragment=Hm(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function Im({pointList:b}){return b.length}function Jm({viewWidth:b,viewHeight:a}){return b&&a?Math.min(b,a):0}function Km({viewWidth:b,viewHeight:a,edgeLength:c}){return b&&a?[(b-c)/2,(a-c)/2]:[0,0]}function Lm({pointList:b,
edgeLength:a}){let c=[],d="M";b.forEach(function(b){d=d+b[0]*a+" "+b[1]*a+" L"});c.push(d.substring(0,d.length-2));return c}function Mm(b,a){var c,d,e,h,g,k,n,r,p,y,u,E,A,t,w,q,B,I,z=a.ready&&jh(b,a),C=new O({root:b.root,store:b.store,data:{background:!1,border:!1,aspectRatio:1,src:"assets/images/renders/thumbnail-"+a.layerName+".jpg",alt:"thumbnail for "+a.layerName,style:"width: 100%;display: block;"}}),x={};if(void 0!==a.ready){x.ready=a.ready;var D=!0}var F=new Rb({root:b.root,store:b.store,slots:{default:aa()},
data:x,_bind(a,c){var d={};!D&&a.ready&&(d.ready=c.ready);b._set(d);D=void 0}});b.root._beforecreate.push(()=>{F._bind({ready:1},F.get())});return{c(){c=l("div");d=l("div");z&&z.c();e=m("\n  ");h=l("div");g=l("div");C._fragment.c();k=m("\n    ");n=v("svg");r=v("defs");p=v("marker");y=v("circle");E=v("marker");A=v("path");w=v("path");F._fragment.c();d.className="arrow";g.className="thumbnail svelte-14ap8kx";f(y,"cx","5");f(y,"cy","5");f(y,"r","3");f(p,"id",u="head"+a.uniqueId);f(p,"fill",a.color);
f(p,"viewBox","0 0 10 10");f(p,"refX","5");f(p,"refY","5");f(p,"markerWidth","5");f(p,"markerHeight","5");f(p,"orient","auto-start-reverse");f(A,"d","M 0 0 L 10 5 L 0 10 z");f(E,"id",t="arrow"+a.uniqueId);f(E,"fill",a.color);f(E,"viewBox","0 0 10 10");f(E,"refX","5");f(E,"refY","5");f(E,"markerWidth","3");f(E,"markerHeight","3");f(E,"orient","auto-start-reverse");f(w,"d",a.path_d);f(w,"stroke",a.color);f(w,"stroke-width","3");f(w,"fill","transparent");f(w,"marker-end",q="url(#arrow"+a.uniqueId+")");
f(w,"marker-start",B="url(#head"+a.uniqueId+")");f(n,"viewBox",I="0 0 "+a.viewWidth+" "+a.viewHeight);f(n,"class","pathArrow svelte-14ap8kx");h.className="atlas svelte-14ap8kx";c.className="showapath svelte-14ap8kx"},m(a,f){F._slotted.default.appendChild(c);c.appendChild(d);z&&z.m(d,null);c.appendChild(e);c.appendChild(h);h.appendChild(g);C._mount(g,null);h.appendChild(k);h.appendChild(n);n.appendChild(r);r.appendChild(p);p.appendChild(y);r.appendChild(E);E.appendChild(A);n.appendChild(w);b.refs.clickPath=
w;F._mount(a,f)},p(c,e){a=e;a.ready?z?z.p(c,a):(z=jh(b,a),z.c(),z.m(d,null)):z&&(z.d(1),z=null);e={};c.layerName&&(e.src="assets/images/renders/thumbnail-"+a.layerName+".jpg");c.layerName&&(e.alt="thumbnail for "+a.layerName);C._set(e);c.uniqueId&&u!==(u="head"+a.uniqueId)&&f(p,"id",u);c.color&&f(p,"fill",a.color);c.uniqueId&&t!==(t="arrow"+a.uniqueId)&&f(E,"id",t);c.color&&f(E,"fill",a.color);c.path_d&&f(w,"d",a.path_d);c.color&&f(w,"stroke",a.color);c.uniqueId&&q!==(q="url(#arrow"+a.uniqueId+")")&&
f(w,"marker-end",q);c.uniqueId&&B!==(B="url(#head"+a.uniqueId+")")&&f(w,"marker-start",B);(c.viewWidth||c.viewHeight)&&I!==(I="0 0 "+a.viewWidth+" "+a.viewHeight)&&f(n,"viewBox",I);e={};!D&&c.ready&&(e.ready=a.ready,D=void 0!==a.ready);F._set(e);D=void 0},d(a){z&&z.d();C.destroy();b.refs.clickPath===w&&(b.refs.clickPath=null);F.destroy(a)}}}function jh(b,a){var c=new be({root:b.root,store:b.store,data:{pointList:a.pointList,color:a.color,layerName:a.layerName}});return{c(){c._fragment.c()},m(a,b){c._mount(a,
b)},p(a,b){var d={};a.pointList&&(d.pointList=b.pointList);a.color&&(d.color=b.color);a.layerName&&(d.layerName=b.layerName);c._set(d)},d(a){c.destroy(a)}}}function ub(b){x(this,b);this.refs={};this._state=q({gridSize:1,viewWidth:160,viewHeight:160,height:160,color:"#ff6600",uniqueId:Math.random(),pointList:[]},b.data);this._recompute({pointList:1,viewWidth:1,viewHeight:1,edgeLength:1,topLeft:1},this._state);this._intro=!0;this._fragment=Mm(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,
b.anchor),G(this))}function Nm({scale:b}){return 1/b}function Om({scale:b,aspectRatio:a}){return 1/b*a}function Pm({gcx:b,w:a}){return b-a/2}function Qm({gcy:b,h:a}){return b-a/2}function Rm({l:b,w:a}){return b+a}function Sm({t:b,h:a}){return b+a}function Tm({l:b}){return 100*b}function Um({r:b}){return 100*b}function Vm({t:b}){return 100*b}function Wm({b}){return 100*b}function Xm(b,a){var c,d=a.scale&&kh(b,a);return{c(){c=l("div");d&&d.c();c.className="root svelte-dv91mv"},m(a,b){a.insertBefore(c,
b);d&&d.m(c,null)},p(a,f){f.scale?d?d.p(a,f):(d=kh(b,f),d.c(),d.m(c,null)):d&&(d.d(1),d=null)},d(a){a&&z(c);d&&d.d()}}}function kh(b,a){var c,d,e=a.annotationValue&&lh(b,a);return{c(){c=l("div");e&&e.c();c.className=d="reticle "+(a.round?"round":"")+" svelte-dv91mv";t(c,"box-sizing","content-box");t(c,"border-color",a.color);t(c,"top",""+a.top+"%");t(c,"left",""+a.left+"%");t(c,"width",""+(a.right-a.left)+"%");t(c,"height",""+(a.bottom-a.top)+"%")},m(a,b){a.insertBefore(c,b);e&&e.m(c,null)},p(a,g){g.annotationValue?
e?e.p(a,g):(e=lh(b,g),e.c(),e.m(c,null)):e&&(e.d(1),e=null);a.round&&d!==(d="reticle "+(g.round?"round":"")+" svelte-dv91mv")&&(c.className=d);a.color&&t(c,"border-color",g.color);a.top&&t(c,"top",""+g.top+"%");a.left&&t(c,"left",""+g.left+"%");(a.right||a.left)&&t(c,"width",""+(g.right-g.left)+"%");(a.bottom||a.top)&&t(c,"height",""+(g.bottom-g.top)+"%")},d(a){a&&z(c);e&&e.d()}}}function lh(b,a){var c,d,e,f;return{c(){c=l("div");d=l("div");e=l("div");f=m(a.annotationValue);e.className="annotation svelte-dv91mv";
d.className="annotationTab svelte-dv91mv";t(d,"background",a.color);c.className="annotationTabParent svelte-dv91mv";t(c,"top","50%")},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);e.appendChild(f)},p(a,b){a.annotationValue&&W(f,b.annotationValue);a.color&&t(d,"background",b.color)},d(a){a&&z(c)}}}function Ya(b){x(this,b);this._state=q({width:0,height:0,dragging:!1,startPos:{x:-100,y:-100},background:!0,round:!1,color:"#ff6600",enableDragging:!0},b.data);this._recompute({scale:1,aspectRatio:1,
gcx:1,w:1,gcy:1,h:1,l:1,t:1,r:1,b:1},this._state);this._intro=!0;this._fragment=Xm(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Ym(b,a){var c,d,e,f,g,k,n,r,p,y=new O({root:b.root,store:b.store,data:{src:"assets/images/renders/layers-"+a.subject+"-"+a.index+".jpg",aspectRatio:4/3,border:!1}}),u=new O({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/thumbnail-"+a.layerName+".jpg",alt:"thumbnail for "+a.layerName}}),q=new Ya({root:b.root,
store:b.store,data:{aspectRatio:4/3,scale:a.homeScale,gcx:a.homeX,gcy:a.homeY,enableDragging:!1}});return{c(){c=l("div");d=l("div");y._fragment.c();e=m("\n\n  ");f=l("div");g=l("div");k=l("div");u._fragment.c();n=m("\n      ");q._fragment.c();r=m("\n\n  ");p=l("div");d.className="atlas svelte-1crd5r";t(k,"opacity","0.4");t(g,"position","relative");f.className="thumbnail svelte-1crd5r";p.className="figcaption svelte-1crd5r";c.className="root svelte-1crd5r"},m(b,h){b.insertBefore(c,h);c.appendChild(d);
y._mount(d,null);c.appendChild(e);c.appendChild(f);f.appendChild(g);g.appendChild(k);u._mount(k,null);g.appendChild(n);q._mount(g,null);c.appendChild(r);c.appendChild(p);p.innerHTML=a.caption},p(a,b){var c={};if(a.subject||a.index)c.src="assets/images/renders/layers-"+b.subject+"-"+b.index+".jpg";y._set(c);c={};a.layerName&&(c.src="assets/images/renders/thumbnail-"+b.layerName+".jpg");a.layerName&&(c.alt="thumbnail for "+b.layerName);u._set(c);c={};a.homeScale&&(c.scale=b.homeScale);a.homeX&&(c.gcx=
b.homeX);a.homeY&&(c.gcy=b.homeY);q._set(c);a.caption&&(p.innerHTML=b.caption)},d(a){a&&z(c);y.destroy();u.destroy();q.destroy()}}}function mh(b){x(this,b);this._state=q({caption:"",layerName:"mixed4c",gridSize:3,homeScale:48,showLabels:!0},b.data);this._intro=!0;this._fragment=Ym(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function Zm(b,a){var c,d,e=b._slotted.default,f,g=a.label&&nh(b,a);return{c(){c=l("div");d=l("div");f=m("\n  ");g&&g.c();d.className=
"loupe svelte-k0t0vh";t(d,"border-color",a.color);c.className="root svelte-k0t0vh";t(c,"width",""+a.width+"px");t(c,"height",""+a.height+"px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);e&&d.appendChild(e);c.appendChild(f);g&&g.m(c,null)},p(a,e){a.color&&t(d,"border-color",e.color);e.label?g?g.p(a,e):(g=nh(b,e),g.c(),g.m(c,null)):g&&(g.d(1),g=null);a.width&&t(c,"width",""+e.width+"px");a.height&&t(c,"height",""+e.height+"px")},d(a){a&&z(c);e&&Sa(d,e);g&&g.d()}}}function nh(b,a){var c,d;return{c(){c=
l("div");d=m(a.label);c.className="label svelte-k0t0vh";t(c,"background-color",a.color)},m(a,b){a.insertBefore(c,b);c.appendChild(d)},p(a,b){a.label&&W(d,b.label);a.color&&t(c,"background-color",b.color)},d(a){a&&z(c)}}}function Za(b){x(this,b);this._state=q({label:null,width:null,height:null,color:"#ff6600"},b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=Zm(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function $m(b,a){var c,d,e,f,g,k,n,r=new O({root:b.root,
store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-1-1.jpg"}}),p=new Ya({root:b.root,store:b.store,data:{aspectRatio:"1",scale:a.$focus1Highlight.scale,gcx:a.$focus1Highlight.x,gcy:a.$focus1Highlight.y,background:!1,round:!0,enableDragging:!1}}),y=new O({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-1-2.jpg"}}),u=new Za({root:b.root,store:b.store,slots:{default:aa()}});return{c(){c=l("div");d=l("div");r._fragment.c();e=m("\n    ");
p._fragment.c();f=m("\n  ");g=l("div");y._fragment.c();u._fragment.c();k=m("\n  ");n=l("div");n.textContent='When we map opacity to the amount that each activation contributes to "fireboat" in the layer mixed5b, we see a main cluster of icons showing red boats and splashing, spraying water. While there are some stray areas elsewhere, it seems that this is region of the atlas that is dedicated specifically to classifying red boats with splashing water nearby.';d.className="main svelte-17cyjzl";g.className=
"detail svelte-17cyjzl";n.className="figcaption svelte-17cyjzl";c.className="root svelte-17cyjzl"},m(a,b){a.insertBefore(c,b);c.appendChild(d);r._mount(d,null);d.appendChild(e);p._mount(d,null);c.appendChild(f);c.appendChild(g);y._mount(u._slotted.default,null);u._mount(g,null);c.appendChild(k);c.appendChild(n)},p(a,b){var c={};a.$focus1Highlight&&(c.scale=b.$focus1Highlight.scale);a.$focus1Highlight&&(c.gcx=b.$focus1Highlight.x);a.$focus1Highlight&&(c.gcy=b.$focus1Highlight.y);p._set(c)},d(a){a&&
z(c);r.destroy();p.destroy();y.destroy();u.destroy()}}}function oh(b){x(this,b);this._state=q(this.store._init(["focus1Highlight"]),b.data);this.store._add(this,["focus1Highlight"]);this._intro=!0;this._handlers.destroy=[oa];this._fragment=$m(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function an(b,a){var c,d,e,f,g,k,n,r,p,y,u,q,t,v,w=new O({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-2-1.jpg"}}),x=new Ya({root:b.root,
store:b.store,data:{aspectRatio:"1",annotationValue:"3",extent:[[a.$focusHighlights[0].x,a.$focusHighlights[0].y],[a.$focusHighlights[0].x+.1,a.$focusHighlights[0].y+.1]],scale:a.$focusHighlights[0].scale,gcx:a.$focusHighlights[0].x,gcy:a.$focusHighlights[0].y,background:!1,round:!0,enableDragging:!1}}),B=new Ya({root:b.root,store:b.store,data:{aspectRatio:"1",annotationValue:"2",scale:a.$focusHighlights[1].scale,gcx:a.$focusHighlights[1].x,gcy:a.$focusHighlights[1].y,background:!1,round:!0,enableDragging:!1}}),
I=new Ya({root:b.root,store:b.store,data:{aspectRatio:"1",annotationValue:"1",scale:a.$focusHighlights[2].scale,gcx:a.$focusHighlights[2].x,gcy:a.$focusHighlights[2].y,background:!1,round:!0,enableDragging:!1}}),H=new O({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-2-4.jpg"}}),C=new Za({root:b.root,store:b.store,slots:{default:aa()},data:{label:1}}),D=new O({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-2-3.jpg"}}),
L=new Za({root:b.root,store:b.store,slots:{default:aa()},data:{label:2}}),F=new O({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-2-2.jpg"}}),K=new Za({root:b.root,store:b.store,slots:{default:aa()},data:{label:3}});return{c(){c=l("div");d=l("div");w._fragment.c();e=m("\n    ");x._fragment.c();f=m("\n    ");B._fragment.c();g=m("\n    ");I._fragment.c();k=m("\n  ");n=l("div");r=l("div");H._fragment.c();C._fragment.c();p=m("\n    ");y=l("div");D._fragment.c();
L._fragment.c();u=m("\n    ");q=l("div");F._fragment.c();K._fragment.c();t=m("\n    ");v=l("div");v.textContent='In mixed4d we see we see the attribution toward "fireboat" is high in several clusters located in different positions around the atlas. One is very focused on windows, another on geysers and splashing water, and yet another on crane-like objects.';d.className="main svelte-f72nro";r.className="loupe svelte-f72nro";y.className="loupe svelte-f72nro";q.className="loupe svelte-f72nro";v.className=
"figcaption svelte-f72nro";n.className="detail svelte-f72nro";c.className="root svelte-f72nro"},m(a,b){a.insertBefore(c,b);c.appendChild(d);w._mount(d,null);d.appendChild(e);x._mount(d,null);d.appendChild(f);B._mount(d,null);d.appendChild(g);I._mount(d,null);c.appendChild(k);c.appendChild(n);n.appendChild(r);H._mount(C._slotted.default,null);C._mount(r,null);n.appendChild(p);n.appendChild(y);D._mount(L._slotted.default,null);L._mount(y,null);n.appendChild(u);n.appendChild(q);F._mount(K._slotted.default,
null);K._mount(q,null);n.appendChild(t);n.appendChild(v)},p(a,b){var c={};a.$focusHighlights&&(c.extent=[[b.$focusHighlights[0].x,b.$focusHighlights[0].y],[b.$focusHighlights[0].x+.1,b.$focusHighlights[0].y+.1]]);a.$focusHighlights&&(c.scale=b.$focusHighlights[0].scale);a.$focusHighlights&&(c.gcx=b.$focusHighlights[0].x);a.$focusHighlights&&(c.gcy=b.$focusHighlights[0].y);x._set(c);c={};a.$focusHighlights&&(c.scale=b.$focusHighlights[1].scale);a.$focusHighlights&&(c.gcx=b.$focusHighlights[1].x);a.$focusHighlights&&
(c.gcy=b.$focusHighlights[1].y);B._set(c);c={};a.$focusHighlights&&(c.scale=b.$focusHighlights[2].scale);a.$focusHighlights&&(c.gcx=b.$focusHighlights[2].x);a.$focusHighlights&&(c.gcy=b.$focusHighlights[2].y);I._set(c)},d(a){a&&z(c);w.destroy();x.destroy();B.destroy();I.destroy();H.destroy();C.destroy();D.destroy();L.destroy();F.destroy();K.destroy()}}}function ph(b){x(this,b);this._state=q(this.store._init(["focusHighlights"]),b.data);this.store._add(this,["focusHighlights"]);this._intro=!0;this._handlers.destroy=
[oa];this._fragment=an(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function qh(b,a,c){b=Object.create(b);b.h=a[c];b.i=c;return b}function rh(b,a,c){b=Object.create(b);b.h=a[c];b.i=c;return b}function bn(b,a){for(var c,d,e,f,g,k,n,r,p,y,u=new O({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-2-1.jpg"}}),q=a.$focusHighlights,t=[],v=0;v<q.length;v+=1)t[v]=sh(b,rh(a,q,v));var w=new O({root:b.root,store:b.store,data:{border:!1,
background:!1,src:"assets/images/renders/focus-3-1.jpg"}}),x=a.$focusHighlights,B=[];for(v=0;v<x.length;v+=1)B[v]=th(b,qh(a,x,v));return{c(){c=l("div");d=l("h4");d.textContent="Activations for Fireboat";e=m("\n  ");f=l("div");u._fragment.c();g=m("\n    ");for(var a=0;a<t.length;a+=1)t[a].c();k=m("\n  ");n=l("h4");n.textContent="Activations for Streetcar";r=m("\n  ");p=l("div");w._fragment.c();y=m("\n    ");for(a=0;a<B.length;a+=1)B[a].c();d.className="svelte-1ow7yzn";f.className="main svelte-1ow7yzn";
n.className="svelte-1ow7yzn";p.className="main svelte-1ow7yzn";c.className="root svelte-1ow7yzn"},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(e);c.appendChild(f);u._mount(f,null);f.appendChild(g);for(a=0;a<t.length;a+=1)t[a].m(f,null);c.appendChild(k);c.appendChild(n);c.appendChild(r);c.appendChild(p);w._mount(p,null);p.appendChild(y);for(a=0;a<B.length;a+=1)B[a].m(p,null)},p(a,c){if(a.$focusHighlights){q=c.$focusHighlights;for(var d=0;d<q.length;d+=1){var e=rh(c,q,d);t[d]?t[d].p(a,
e):(t[d]=sh(b,e),t[d].c(),t[d].m(f,null))}for(;d<t.length;d+=1)t[d].d(1);t.length=q.length}if(a.$focusHighlights){x=c.$focusHighlights;for(d=0;d<x.length;d+=1)e=qh(c,x,d),B[d]?B[d].p(a,e):(B[d]=th(b,e),B[d].c(),B[d].m(p,null));for(;d<B.length;d+=1)B[d].d(1);B.length=x.length}},d(a){a&&z(c);u.destroy();U(t,a);w.destroy();U(B,a)}}}function sh(b,a){var c=new Ya({root:b.root,store:b.store,data:{aspectRatio:"1",annotationValue:a.i+1,scale:a.h.scale,gcx:a.h.x,gcy:a.h.y,background:!1,round:!0,enableDragging:!1}});
return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p(a,b){var d={};a.$focusHighlights&&(d.scale=b.h.scale);a.$focusHighlights&&(d.gcx=b.h.x);a.$focusHighlights&&(d.gcy=b.h.y);c._set(d)},d(a){c.destroy(a)}}}function th(b,a){var c=new Ya({root:b.root,store:b.store,data:{color:"#ffaa00",aspectRatio:"1",annotationValue:a.i+1,scale:a.h.scale,gcx:a.h.x,gcy:a.h.y,background:!1,round:!0,enableDragging:!1}});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p(a,b){var d={};a.$focusHighlights&&(d.scale=b.h.scale);
a.$focusHighlights&&(d.gcx=b.h.x);a.$focusHighlights&&(d.gcy=b.h.y);c._set(d)},d(a){c.destroy(a)}}}function uh(b){x(this,b);this._state=q(this.store._init(["focusHighlights"]),b.data);this.store._add(this,["focusHighlights"]);this._intro=!0;this._handlers.destroy=[oa];this._fragment=bn(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function vh(b,a,c){b=Object.create(b);b.h=a[c];b.i=c;return b}function wh(b,a,c){b=Object.create(b);b.h=a[c];b.i=c;return b}function cn(b,
a){for(var c,d,e,f,g,k,n,r,p,y,u,q,v,x,w,D,B,I,H=a.$focusHighlights,C=[],G=0;G<H.length;G+=1)C[G]=xh(b,wh(a,H,G));var L=a.$focusHighlights,F=[];for(G=0;G<L.length;G+=1)F[G]=yh(b,vh(a,L,G));return{c(){c=l("div");d=l("h4");e=m("Fireboat");f=m("\n    ");for(var b=0;b<C.length;b+=1)C[b].c();g=m("\n\n    ");k=l("h4");n=m("Streetcar");r=m("\n    ");for(b=0;b<F.length;b+=1)F[b].c();p=m("\n\n    ");y=l("div");u=m("\n    ");q=l("div");q.textContent='At mixed4d, Both "streetcar" and "fireboat" contain activations for what look like windows.';
v=m("\n    ");x=l("div");x.textContent="Both classes contain activations for crane-like apparatuses, though they are less prominent than the window activations.";w=m("\n    ");D=l("div");D.textContent='"Fireboat" activations have much stronger attributions from water than "streetcar", where there is virtually no positive evidence.';B=m("\n    ");I=l("div");I.textContent='The activations for "streetcar" have much stronger attributions from buildings than does "fireboat".';t(d,"width",""+a.loupeSize+
"px");d.className="svelte-1946vr6";t(k,"width",""+a.loupeSize+"px");k.className="svelte-1946vr6";q.className="figcaption svelte-1946vr6";x.className="figcaption svelte-1946vr6";D.className="figcaption svelte-1946vr6";I.className="figcaption svelte-1946vr6";c.className="root svelte-1946vr6"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);c.appendChild(f);for(a=0;a<C.length;a+=1)C[a].m(c,null);c.appendChild(g);c.appendChild(k);k.appendChild(n);c.appendChild(r);for(a=0;a<F.length;a+=1)F[a].m(c,
null);c.appendChild(p);c.appendChild(y);c.appendChild(u);c.appendChild(q);c.appendChild(v);c.appendChild(x);c.appendChild(w);c.appendChild(D);c.appendChild(B);c.appendChild(I)},p(a,e){a.loupeSize&&t(d,"width",""+e.loupeSize+"px");if(a.$focusHighlights){H=e.$focusHighlights;for(var f=C.length;f<H.length;f+=1){let a=wh(e,H,f);C[f]=xh(b,a);C[f].c();C[f].m(c,g)}for(f=H.length;f<C.length;f+=1)C[f].d(1);C.length=H.length}a.loupeSize&&t(k,"width",""+e.loupeSize+"px");if(a.$focusHighlights){L=e.$focusHighlights;
for(f=F.length;f<L.length;f+=1)a=vh(e,L,f),F[f]=yh(b,a),F[f].c(),F[f].m(c,p);for(f=L.length;f<F.length;f+=1)F[f].d(1);F.length=L.length}},d(a){a&&z(c);U(C,a);U(F,a)}}}function xh(b,a){var c,d=new O({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-2-"+(a.i+2)+".jpg"}});a={label:a.i+1};var e=new Za({root:b.root,store:b.store,slots:{default:aa()},data:a});return{c(){c=l("div");d._fragment.c();e._fragment.c();c.className="loupe svelte-1946vr6"},m(a,b){a.insertBefore(c,
b);d._mount(e._slotted.default,null);e._mount(c,null)},d(a){a&&z(c);d.destroy();e.destroy()}}}function yh(b,a){var c,d=new O({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-3-"+(a.i+2)+".jpg"}});a={label:a.i+1,color:"#ffaa00"};var e=new Za({root:b.root,store:b.store,slots:{default:aa()},data:a});return{c(){c=l("div");d._fragment.c();e._fragment.c();c.className="loupe svelte-1946vr6"},m(a,b){a.insertBefore(c,b);d._mount(e._slotted.default,null);e._mount(c,
null)},d(a){a&&z(c);d.destroy();e.destroy()}}}function zh(b){x(this,b);this._state=q(this.store._init(["focusHighlights"]),b.data);this.store._add(this,["focusHighlights"]);this._intro=!0;this._handlers.destroy=[oa];this._fragment=cn(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}function dn({selectedComparison:b,comparisons:a}){return a[b]}function en({selectedMethod:b,methods:a}){return a[b]}function ce(b){return 10>b?"0"+b:b}function Ah(b,a,c){b=Object.create(b);
b.patch=a[c];b.p=c;return b}function Bh(b,a,c){b=Object.create(b);b.method=a[c];b.i=c;return b}function Ch(b,a,c){b=Object.create(b);b.comparison=a[c];b.i=c;return b}function Dh(b,a,c){b=Object.create(b);b.comparison=a[c];return b}function Eh(b,a,c){b=Object.create(b);b.method=a[c];return b}function fn(b,a){function c(){t=!0;b.set({selectedComparison:ie(q)});t=!1}function d(){x=!0;b.set({selectedMethod:ie(w)});x=!1}for(var e,f,g,k,n,r,p,y,u,q,t=!1,v,w,x=!1,B,D,H,C,G,L,F,K,M,N,S,O,R,P,V=a.c.noise[a.method][2],
Q,X,Z,W,aa=a.c.noise[a.method][0],ba,ea,da=a.c.noise[a.method][1],ia,oa,la,ma=a.c.noise[a.method][5],na,ra,ya,Da,Ea=a.c.noise[a.method][3],pa,Aa,va=a.c.noise[a.method][4],ua,wa,Ba,xa=a.methods,sa=[],Y=0;Y<xa.length;Y+=1)sa[Y]=Fh(b,Eh(a,xa,Y));var ha=a.comparisons,ca=[];for(Y=0;Y<ha.length;Y+=1)ca[Y]=Gh(b,Ch(a,ha,Y));var qa=a.methods,ta=[];for(Y=0;Y<qa.length;Y+=1)ta[Y]=Hh(b,Bh(a,qa,Y));var Ja=a.c.patches,fa=[];for(Y=0;Y<Ja.length;Y+=1)fa[Y]=Ih(b,Ah(a,Ja,Y));return{c(){for(var h=0;h<sa.length;h+=1)sa[h].c();
e=m("\n\n\n");f=l("h4");f.textContent="details for each patch tested";g=m("\n\n\n\n");k=l("div");n=l("table");r=l("thead");p=l("tr");y=l("th");u=l("div");q=l("select");for(h=0;h<ca.length;h+=1)ca[h].c();v=m("\n\n            ");w=l("select");for(h=0;h<ta.length;h+=1)ta[h].c();B=m("\n        ");D=l("th");D.innerHTML='<div class="title svelte-3dx3cf">Success rate</div>';H=m("\n        ");C=l("th");C.innerHTML='<div class="title svelte-3dx3cf">Probability change</div>';G=m("\n\n    \n    ");for(h=0;h<
fa.length;h+=1)fa[h].c();L=m("\n    ");F=l("tr");K=l("td");M=l("img");S=m("\n        ");O=l("div");O.textContent="Random noise";R=m("\n      ");P=l("td");Q=l("noscript");X=m("%");Z=m("\n      ");W=l("td");ba=l("noscript");ea=m(" / ");ia=l("noscript");oa=m("\n      ");la=l("td");na=l("noscript");ra=m("%");ya=m("\n      ");Da=l("td");pa=l("noscript");Aa=m("% \u2192 ");ua=l("noscript");wa=l("noscript");Ba=m("%");f.className="svelte-3dx3cf";q.addEventListener("change",c,void 0);"selectedComparison"in
a||b.root._beforecreate.push(c);q.className="svelte-3dx3cf";w.addEventListener("change",d,void 0);"selectedMethod"in a||b.root._beforecreate.push(d);w.className="svelte-3dx3cf";u.className="controls svelte-3dx3cf";y.className="svelte-3dx3cf";D.colSpan="2";D.className="svelte-3dx3cf";C.colSpan="2";C.className="svelte-3dx3cf";M.src="assets/images/patches/random.png";M.alt=N="patch "+a.p;M.className="svelte-3dx3cf";K.className="svelte-3dx3cf";P.className="svelte-3dx3cf";W.className="svelte-3dx3cf";la.className=
"svelte-3dx3cf";Da.className="svelte-3dx3cf";n.className="svelte-3dx3cf";k.className="method svelte-3dx3cf"},m(b,c){for(var d=0;d<sa.length;d+=1)sa[d].m(b,c);b.insertBefore(e,c);b.insertBefore(f,c);b.insertBefore(g,c);b.insertBefore(k,c);k.appendChild(n);n.appendChild(r);r.appendChild(p);p.appendChild(y);y.appendChild(u);u.appendChild(q);for(d=0;d<ca.length;d+=1)ca[d].m(q,null);Ob(q,a.selectedComparison);u.appendChild(v);u.appendChild(w);for(d=0;d<ta.length;d+=1)ta[d].m(w,null);Ob(w,a.selectedMethod);
p.appendChild(B);p.appendChild(D);p.appendChild(H);p.appendChild(C);n.appendChild(G);for(d=0;d<fa.length;d+=1)fa[d].m(n,null);n.appendChild(L);n.appendChild(F);F.appendChild(K);K.appendChild(M);K.appendChild(S);K.appendChild(O);F.appendChild(R);F.appendChild(P);P.appendChild(Q);Q.insertAdjacentHTML("beforebegin",V);P.appendChild(X);F.appendChild(Z);F.appendChild(W);W.appendChild(ba);ba.insertAdjacentHTML("beforebegin",aa);W.appendChild(ea);W.appendChild(ia);ia.insertAdjacentHTML("afterend",da);F.appendChild(oa);
F.appendChild(la);la.appendChild(na);na.insertAdjacentHTML("beforebegin",ma);la.appendChild(ra);F.appendChild(ya);F.appendChild(Da);Da.appendChild(pa);pa.insertAdjacentHTML("beforebegin",Ea);Da.appendChild(Aa);Da.appendChild(ua);ua.insertAdjacentHTML("afterend",va);Da.appendChild(wa);Da.appendChild(Ba)},p(a,c){if(a.comparisons||a.methods||a.$inceptionLabels){xa=c.methods;for(var d=0;d<xa.length;d+=1){var f=Eh(c,xa,d);sa[d]?sa[d].p(a,f):(sa[d]=Fh(b,f),sa[d].c(),sa[d].m(e.parentNode,e))}for(;d<sa.length;d+=
1)sa[d].d(1);sa.length=xa.length}if(a.$inceptionLabels||a.comparisons){ha=c.comparisons;for(d=0;d<ha.length;d+=1)f=Ch(c,ha,d),ca[d]?ca[d].p(a,f):(ca[d]=Gh(b,f),ca[d].c(),ca[d].m(q,null));for(;d<ca.length;d+=1)ca[d].d(1);ca.length=ha.length}!t&&a.selectedComparison&&Ob(q,c.selectedComparison);if(a.methods){qa=c.methods;for(d=ta.length;d<qa.length;d+=1)f=Bh(c,qa,d),ta[d]=Hh(b,f),ta[d].c(),ta[d].m(w,null);for(d=qa.length;d<ta.length;d+=1)ta[d].d(1);ta.length=qa.length}!x&&a.selectedMethod&&Ob(w,c.selectedMethod);
if(a.c||a.method){Ja=c.c.patches;for(d=0;d<Ja.length;d+=1)f=Ah(c,Ja,d),fa[d]?fa[d].p(a,f):(fa[d]=Ih(b,f),fa[d].c(),fa[d].m(n,L));for(;d<fa.length;d+=1)fa[d].d(1);fa.length=Ja.length}a.p&&N!==(N="patch "+c.p)&&(M.alt=N);(a.c||a.method)&&V!==(V=c.c.noise[c.method][2])&&($a(Q),Q.insertAdjacentHTML("beforebegin",V));(a.c||a.method)&&aa!==(aa=c.c.noise[c.method][0])&&($a(ba),ba.insertAdjacentHTML("beforebegin",aa));(a.c||a.method)&&da!==(da=c.c.noise[c.method][1])&&(ac(ia),ia.insertAdjacentHTML("afterend",
da));(a.c||a.method)&&ma!==(ma=c.c.noise[c.method][5])&&($a(na),na.insertAdjacentHTML("beforebegin",ma));(a.c||a.method)&&Ea!==(Ea=c.c.noise[c.method][3])&&($a(pa),pa.insertAdjacentHTML("beforebegin",Ea));(a.c||a.method)&&va!==(va=c.c.noise[c.method][4])&&($b(ua,wa),ua.insertAdjacentHTML("afterend",va))},d(a){U(sa,a);a&&(z(e),z(f),z(g),z(k));U(ca,a);q.removeEventListener("change",c,void 0);U(ta,a);w.removeEventListener("change",d,void 0);U(fa,a)}}}function Jh(b,a){var c;return{c(){c=l("h4");c.textContent=
"Consistent corner position";c.className="svelte-3dx3cf"},m(a,b){a.insertBefore(c,b)},d(a){a&&z(c)}}}function Kh(b,a){var c;return{c(){c=l("h4");c.textContent="Dynamic corner position";c.className="svelte-3dx3cf"},m(a,b){a.insertBefore(c,b)},d(a){a&&z(c)}}}function Lh(b,a){var c;return{c(){c=l("div");c.innerHTML='<img src="assets/icon-dynamic.png" alt="icon" class="svelte-3dx3cf">\n\t\t\t            <div><div class="figcaption svelte-3dx3cf">Choosing the strongest size and corner position for each example.</div></div>';
c.className="description svelte-3dx3cf"},m(a,b){a.insertBefore(c,b)},d(a){a&&z(c)}}}function Mh(b,a){var c;return{c(){c=l("div");c.innerHTML='<img src="assets/icon-static.png" alt="icon" class="svelte-3dx3cf">\n\t\t\t            <div><div class="figcaption svelte-3dx3cf">Choosing a consistent size and corner position across all examples.</div></div>';c.className="description svelte-3dx3cf"},m(a,b){a.insertBefore(c,b)},d(a){a&&z(c)}}}function Nh(b,a){var c;return{c(){c=l("div");c.textContent="Previously correctly classified images that the patch changed to the target class.";
c.className="explanation figcaption svelte-3dx3cf"},m(a,b){a.insertBefore(c,b)},d(a){a&&z(c)}}}function Oh(b,a){var c;return{c(){c=l("div");c.textContent="Mean probability assigned to the target class before and after patch.";c.className="explanation figcaption svelte-3dx3cf"},m(a,b){a.insertBefore(c,b)},d(a){a&&z(c)}}}function Ph(b,a){var c,d,e=a.$inceptionLabels[a.comparison.comparison[0]]+" \u2192 "+a.$inceptionLabels[a.comparison.comparison[1]],f,g,k=Nb(a.comparison.totals[a.method][2]),n,r,p=
jd(a.comparison.totals[a.method][0]),q,u,t=jd(a.comparison.totals[a.method][1]),v,x,w,D=Qh(a.comparison.totals[a.method][5]),B,I,H=Nb(a.comparison.totals[a.method][3]),C,G,L=Nb(a.comparison.totals[a.method][4]),F;return{c(){c=l("tr");d=l("td");f=m("\n        ");g=l("td");n=m("\n        ");r=l("td");q=l("noscript");u=m(" / ");v=l("noscript");x=m("\n        ");w=l("td");B=m("\n        ");I=l("td");C=l("noscript");G=m(" \u2192 ");F=l("noscript");d.className="svelte-3dx3cf";g.className="svelte-3dx3cf";
r.className="svelte-3dx3cf";w.className="svelte-3dx3cf";I.className="svelte-3dx3cf"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.innerHTML=e;c.appendChild(f);c.appendChild(g);g.innerHTML=k;c.appendChild(n);c.appendChild(r);r.appendChild(q);q.insertAdjacentHTML("beforebegin",p);r.appendChild(u);r.appendChild(v);v.insertAdjacentHTML("afterend",t);c.appendChild(x);c.appendChild(w);w.innerHTML=D;c.appendChild(B);c.appendChild(I);I.appendChild(C);C.insertAdjacentHTML("beforebegin",H);I.appendChild(G);
I.appendChild(F);F.insertAdjacentHTML("afterend",L)},p(a,b){(a.$inceptionLabels||a.comparisons)&&e!==(e=b.$inceptionLabels[b.comparison.comparison[0]]+" \u2192 "+b.$inceptionLabels[b.comparison.comparison[1]])&&(d.innerHTML=e);(a.comparisons||a.methods)&&k!==(k=Nb(b.comparison.totals[b.method][2]))&&(g.innerHTML=k);(a.comparisons||a.methods)&&p!==(p=jd(b.comparison.totals[b.method][0]))&&($a(q),q.insertAdjacentHTML("beforebegin",p));(a.comparisons||a.methods)&&t!==(t=jd(b.comparison.totals[b.method][1]))&&
(ac(v),v.insertAdjacentHTML("afterend",t));(a.comparisons||a.methods)&&D!==(D=Qh(b.comparison.totals[b.method][5]))&&(w.innerHTML=D);(a.comparisons||a.methods)&&H!==(H=Nb(b.comparison.totals[b.method][3]))&&($a(C),C.insertAdjacentHTML("beforebegin",H));(a.comparisons||a.methods)&&L!==(L=Nb(b.comparison.totals[b.method][4]))&&(ac(F),F.insertAdjacentHTML("afterend",L))},d(a){a&&z(c)}}}function Fh(b,a){for(var c,d,e,f,g,k,n,r,p,q,u,t,v,x,w,D,B="dynamic"==a.method?Kh:Jh,I=B(b,a),H="static"==a.method?
Mh:Lh,C=H(b,a),G="dynamic"==a.method&&Nh(b,a),L="dynamic"==a.method&&Oh(b,a),F=a.comparisons,K=[],M=0;M<F.length;M+=1)K[M]=Ph(b,Dh(a,F,M));return{c(){I.c();c=m("\n  ");d=l("div");e=l("table");f=l("thead");g=l("tr");k=l("th");C.c();n=m("\n        ");r=l("th");p=l("div");p.textContent="Success rate";q=m("\n          ");G&&G.c();u=m("\n        ");t=l("th");v=l("div");v.textContent="Probability change";x=m("\n          ");L&&L.c();w=m("\n    ");D=l("tbody");for(var a=0;a<K.length;a+=1)K[a].c();k.className=
"svelte-3dx3cf";p.className="title svelte-3dx3cf";r.colSpan="2";r.className="svelte-3dx3cf";v.className="title svelte-3dx3cf";t.colSpan="2";t.className="svelte-3dx3cf";e.className="svelte-3dx3cf";d.className="method details svelte-3dx3cf"},m(a,b){I.m(a,b);a.insertBefore(c,b);a.insertBefore(d,b);d.appendChild(e);e.appendChild(f);f.appendChild(g);g.appendChild(k);C.m(k,null);g.appendChild(n);g.appendChild(r);r.appendChild(p);r.appendChild(q);G&&G.m(r,null);g.appendChild(u);g.appendChild(t);t.appendChild(v);
t.appendChild(x);L&&L.m(t,null);e.appendChild(w);e.appendChild(D);for(a=0;a<K.length;a+=1)K[a].m(D,null)},p(a,d){B!==(B="dynamic"==d.method?Kh:Jh)&&(I.d(1),I=B(b,d),I.c(),I.m(c.parentNode,c));H!==(H="static"==d.method?Mh:Lh)&&(C.d(1),C=H(b,d),C.c(),C.m(k,null));"dynamic"==d.method?G||(G=Nh(b,d),G.c(),G.m(r,null)):G&&(G.d(1),G=null);"dynamic"==d.method?L||(L=Oh(b,d),L.c(),L.m(t,null)):L&&(L.d(1),L=null);if(a.comparisons||a.methods||a.$inceptionLabels){F=d.comparisons;for(var e=0;e<F.length;e+=1){let c=
Dh(d,F,e);K[e]?K[e].p(a,c):(K[e]=Ph(b,c),K[e].c(),K[e].m(D,null))}for(;e<K.length;e+=1)K[e].d(1);K.length=F.length}},d(a){I.d(a);a&&(z(c),z(d));C.d();G&&G.d();L&&L.d();U(K,a)}}}function Gh(b,a){var c,d=a.$inceptionLabels[a.comparison.comparison[0]],e,f,g=a.$inceptionLabels[a.comparison.comparison[1]],k;return{c(){c=l("option");e=m(d);f=m(" \u2192 ");k=m(g);c.__value=a.i;c.value=c.__value},m(a,b){a.insertBefore(c,b);c.appendChild(e);c.appendChild(f);c.appendChild(k)},p(a,b){(a.$inceptionLabels||a.comparisons)&&
d!==(d=b.$inceptionLabels[b.comparison.comparison[0]])&&W(e,d);(a.$inceptionLabels||a.comparisons)&&g!==(g=b.$inceptionLabels[b.comparison.comparison[1]])&&W(k,g)},d(a){a&&z(c)}}}function gn(b,a){var c;return{c(){c=m("Consistent size and corner position")},m(a,b){a.insertBefore(c,b)},d(a){a&&z(c)}}}function hn(b,a){var c;return{c(){c=m("Strongest size and corner position")},m(a,b){a.insertBefore(c,b)},d(a){a&&z(c)}}}function Hh(b,a){var c;var d=0===a.i?hn:gn;var e=d(b,a);return{c(){c=l("option");
e.c();c.__value=a.i;c.value=c.__value},m(a,b){a.insertBefore(c,b);e.m(c,null)},d(a){a&&z(c);e.d()}}}function Ih(b,a){var c,d,e,f,g,k,n="Patch "+ce(a.p+1),r,p,q=a.patch[a.method][2],u,t,v,x,w=a.patch[a.method][0],D,B,G=a.patch[a.method][1],H,C,O,L=a.patch[a.method][5],F,K,M,N,S=a.patch[a.method][3],P,R,Q=a.patch[a.method][4],V,U,W;return{c(){c=l("tr");d=l("td");e=l("img");g=m("\n          ");k=l("div");r=m("\n        ");p=l("td");u=l("noscript");t=m("%");v=m("\n        ");x=l("td");D=l("noscript");
B=m(" / ");H=l("noscript");C=m("\n        ");O=l("td");F=l("noscript");K=m("%");M=m("\n        ");N=l("td");P=l("noscript");R=m("% \u2192 ");V=l("noscript");U=l("noscript");W=m("%");e.src=f="assets/images/patches/"+a.c.name+"-"+ce(a.p+1)+".png";e.alt="patch "+a.p;e.className="svelte-3dx3cf";d.className="svelte-3dx3cf";p.className="svelte-3dx3cf";x.className="svelte-3dx3cf";O.className="svelte-3dx3cf";N.className="svelte-3dx3cf"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);d.appendChild(g);
d.appendChild(k);k.innerHTML=n;c.appendChild(r);c.appendChild(p);p.appendChild(u);u.insertAdjacentHTML("beforebegin",q);p.appendChild(t);c.appendChild(v);c.appendChild(x);x.appendChild(D);D.insertAdjacentHTML("beforebegin",w);x.appendChild(B);x.appendChild(H);H.insertAdjacentHTML("afterend",G);c.appendChild(C);c.appendChild(O);O.appendChild(F);F.insertAdjacentHTML("beforebegin",L);O.appendChild(K);c.appendChild(M);c.appendChild(N);N.appendChild(P);P.insertAdjacentHTML("beforebegin",S);N.appendChild(R);
N.appendChild(V);V.insertAdjacentHTML("afterend",Q);N.appendChild(U);N.appendChild(W)},p(a,b){a.c&&f!==(f="assets/images/patches/"+b.c.name+"-"+ce(b.p+1)+".png")&&(e.src=f);(a.c||a.method)&&q!==(q=b.patch[b.method][2])&&($a(u),u.insertAdjacentHTML("beforebegin",q));(a.c||a.method)&&w!==(w=b.patch[b.method][0])&&($a(D),D.insertAdjacentHTML("beforebegin",w));(a.c||a.method)&&G!==(G=b.patch[b.method][1])&&(ac(H),H.insertAdjacentHTML("afterend",G));(a.c||a.method)&&L!==(L=b.patch[b.method][5])&&($a(F),
F.insertAdjacentHTML("beforebegin",L));(a.c||a.method)&&S!==(S=b.patch[b.method][3])&&($a(P),P.insertAdjacentHTML("beforebegin",S));(a.c||a.method)&&Q!==(Q=b.patch[b.method][4])&&($b(V,U),V.insertAdjacentHTML("afterend",Q))},d(a){a&&z(c)}}}function de(b){x(this,b);this._state=q(q(this.store._init(["inceptionLabels"]),{methods:["dynamic","static"],comparisons:Rh,selectedComparison:0,selectedMethod:0}),b.data);this.store._add(this,["inceptionLabels"]);this._recompute({selectedComparison:1,comparisons:1,
selectedMethod:1,methods:1},this._state);this._intro=!0;this._handlers.destroy=[oa];this._fragment=fn(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),G(this))}var D={destroy:function(b){this.destroy=X;this.fire("destroy");this.set=X;this._fragment.d(!1!==b);this._fragment=null;this._state={}},get:le,fire:ke,on:me,set:function(b){this._set(q({},b));this.root._lock||G(this.root)},_recompute:X,_set:function(b){var a=this._state,c={},d=!1;b=q(this._staged,b);this._staged=
{};for(var e in b)this._differs(b[e],a[e])&&(c[e]=d=!0);d&&(this._state=q(q({},a),b),this._recompute(c,this._state),this._bind&&this._bind(c,this._state),this._fragment&&(this.fire("state",{changed:c,current:this._state,previous:a}),this._fragment.p(c,this._state),this.fire("update",{changed:c,current:this._state,previous:a})))},_stage:function(b){q(this._staged,b)},_mount:function(b,a){this._fragment[this._fragment.i?"i":"m"](b,a||null)},_differs:je};q(ne.prototype,{_add(b,a){this._dependents.push({component:b,
props:a})},_init(b){let a={};for(let c=0;c<b.length;c+=1){let d=b[c];a["$"+d]=this._state[d]}return a},_remove(b){let a=this._dependents.length;for(;a--;)if(this._dependents[a].component===b){this._dependents.splice(a,1);break}},_set(b,a){let c=this._state;this._state=q(q({},c),b);for(b=0;b<this._sortedComputedProperties.length;b+=1)this._sortedComputedProperties[b].update(this._state,a);this.fire("state",{changed:a,previous:c,current:this._state});this._dependents.filter((b)=>{let c={},d=!1;for(let e=
0;e<b.props.length;e+=1){let f=b.props[e];f in a&&(c["$"+f]=this._state[f],d=!0)}if(d)return b.component._stage(c),!0}).forEach((a)=>{a.component.set({})});this.fire("update",{changed:a,previous:c,current:this._state})},_sortComputedProperties(){function b(f){let g=a[f];g&&(g.deps.forEach((a)=>{if(a===e)throw Error(`Cyclical dependency detected between ${a} <-> ${f}`);b(a)}),d[f]||(d[f]=!0,c.push(g)))}let a=this._computed,c=this._sortedComputedProperties=[],d=Object.create(null),e;for(let a in this._computed)b(e=
a)},compute(b,a,c){let d,e={deps:a,update:(e,f,g)=>{var h=a.map((a)=>{a in f&&(g=!0);return e[a]});g&&(h=c.apply(null,h),this._differs(h,d)&&(d=h,f[b]=!0,e[b]=d))}};this._computed[b]=e;this._sortComputedProperties();let f=q({},this._state),g={};e.update(f,g,!0);this._set(f,g)},fire:ke,get:le,on:me,set(b){let a=this._state,c=this._changed={},d=!1;for(let e in b){if(this._computed[e])throw Error(`'${e}' is a read-only computed property`);this._differs(b[e],a[e])&&(c[e]=d=!0)}d&&this._set(b,c)}});var Tb=
{inception:"dummy;kit fox;English setter;Siberian husky;Australian terrier;English springer;grey whale;lesser panda;Egyptian cat;ibex;Persian cat;cougar;gazelle;porcupine;sea lion;malamute;badger;Great Dane;Walker hound;Welsh springer spaniel;whippet;Scottish deerhound;killer whale;mink;African elephant;Weimaraner;soft - coated wheaten terrier;Dandie Dinmont;red wolf;Old English sheepdog;jaguar;otterhound;bloodhound;Airedale;hyena;meerkat;giant schnauzer;titi;three - toed sloth;sorrel;black - footed ferret;dalmatian;black - and - tan coonhound;papillon;skunk;Staffordshire bullterrier;Mexican hairless;Bouvier des Flandres;weasel;miniature poodle;Cardigan;malinois;bighorn;fox squirrel;colobus;tiger cat;Lhasa;impala;coyote;Yorkshire terrier;Newfoundland;brown bear;red fox;Norwegian elkhound;Rottweiler;hartebeest;Saluki;grey fox;schipperke;Pekinese;Brabancon griffon;West Highland white terrier;Sealyham terrier;guenon;mongoose;indri;tiger;Irish wolfhound;wild boar;EntleBucher;zebra;ram;French bulldog;orangutan;basenji;leopard;Bernese mountain dog;Maltese dog;Norfolk terrier;toy terrier;vizsla;cairn;squirrel monkey;groenendael;clumber;Siamese cat;chimpanzee;komondor;Afghan hound;Japanese spaniel;proboscis monkey;guinea pig;white wolf;ice bear;gorilla;borzoi;toy poodle;Kerry blue terrier;ox;Scotch terrier;Tibetan mastiff;spider monkey;Doberman;Boston bull;Greater Swiss Mountain dog;Appenzeller;Shih - Tzu;Irish water spaniel;Pomeranian;Bedlington terrier;warthog;Arabian camel;siamang;miniature schnauzer;collie;golden retriever;Irish terrier;affenpinscher;Border collie;hare;boxer;silky terrier;beagle;Leonberg;German short - haired pointer;patas;dhole;baboon;macaque;Chesapeake Bay retriever;bull mastiff;kuvasz;capuchin;pug;curly - coated retriever;Norwich terrier;flat - coated retriever;hog;keeshond;Eskimo dog;Brittany spaniel;standard poodle;Lakeland terrier;snow leopard;Gordon setter;dingo;standard schnauzer;hamster;Tibetan terrier;Arctic fox;wire - haired fox terrier;basset;water buffalo;American black bear;Angora;bison;howler monkey;hippopotamus;chow;giant panda;American Staffordshire terrier;Shetland sheepdog;Great Pyrenees;Chihuahua;tabby;marmoset;Labrador retriever;Saint Bernard;armadillo;Samoyed;bluetick;redbone;polecat;marmot;kelpie;gibbon;llama;miniature pinscher;wood rabbit;Italian greyhound;lion;cocker spaniel;Irish setter;dugong;Indian elephant;beaver;Sussex spaniel;Pembroke;Blenheim spaniel;Madagascar cat;Rhodesian ridgeback;lynx;African hunting dog;langur;Ibizan hound;timber wolf;cheetah;English foxhound;briard;sloth bear;Border terrier;German shepherd;otter;koala;tusker;echidna;wallaby;platypus;wombat;revolver;umbrella;schooner;soccer ball;accordion;ant;starfish;chambered nautilus;grand piano;laptop;strawberry;airliner;warplane;airship;balloon;space shuttle;fireboat;gondola;speedboat;lifeboat;canoe;yawl;catamaran;trimaran;container ship;liner;pirate;aircraft carrier;submarine;wreck;half track;tank;missile;bobsled;dogsled;bicycle - built -for-two;mountain bike;freight car;passenger car;barrow;shopping cart;motor scooter;forklift;electric locomotive;steam locomotive;amphibian;ambulance;beach wagon;cab;convertible;jeep;limousine;minivan;Model T;racer;sports car;go-kart;golfcart;moped;snowplow;fire engine;garbage truck;pickup;tow truck;trailer truck;moving van;police van;recreational vehicle;streetcar;snowmobile;tractor;mobile home;tricycle;unicycle;horse cart;jinrikisha;oxcart;bassinet;cradle;crib;four-poster;bookcase;china cabinet;medicine chest;chiffonier;table lamp;file;park bench;barber chair;throne;folding chair;rocking chair;studio couch;toilet seat;desk;pool table;dining table;entertainment center;wardrobe;Granny Smith;orange;lemon;fig;pineapple;banana;jackfruit;custard apple;pomegranate;acorn;hip;ear;rapeseed;corn;buckeye;organ;upright;chime;drum;gong;maraca;marimba;steel drum;banjo;cello;violin;harp;acoustic guitar;electric guitar;cornet;French horn;trombone;harmonica;ocarina;panpipe;bassoon;oboe;sax;flute;daisy;yellow lady's slipper;cliff;valley;alp;volcano;promontory;sandbar;coral reef;lakeside;seashore;geyser;hatchet;cleaver;letter opener;plane;power drill;lawn mower;hammer;corkscrew;can opener;plunger;screwdriver;shovel;plow;chain saw;cock;hen;ostrich;brambling;goldfinch;house finch;junco;indigo bunting;robin;bulbul;jay;magpie;chickadee;water ouzel;kite;bald eagle;vulture;great grey owl;black grouse;ptarmigan;ruffed grouse;prairie chicken;peacock;quail;partridge;African grey;macaw;sulphur-crested cockatoo;lorikeet;coucal;bee eater;hornbill;hummingbird;jacamar;toucan;drake;red-breasted merganser;goose;black swan;white stork;black stork;spoonbill;flamingo;American egret;little blue heron;bittern;crane;limpkin;American coot;bustard;ruddy turnstone;red - backed sandpiper;redshank;dowitcher;oystercatcher;European gallinule;pelican;king penguin;albatross;great white shark;tiger shark;hammerhead;electric ray;stingray;barracouta;coho;tench;goldfish;eel;rock beauty;anemone fish;lionfish;puffer;sturgeon;gar;loggerhead;leatherback turtle;mud turtle;terrapin;box turtle;banded gecko;common iguana;American chameleon;whiptail;agama;frilled lizard;alligator lizard;Gila monster;green lizard;African chameleon;Komodo dragon;triceratops;African crocodile;American alligator;thunder snake;ringneck snake;hognose snake;green snake;king snake;garter snake;water snake;vine snake;night snake;boa constrictor;rock python;Indian cobra;green mamba;sea snake;horned viper;diamondback;sidewinder;European fire salamander;common newt;eft;spotted salamander;axolotl;bullfrog;tree frog;tailed frog;whistle;wing;paintbrush;hand blower;oxygen mask;snorkel;loudspeaker;microphone;screen;mouse;electric fan;oil filter;strainer;space heater;stove;guillotine;barometer;rule;odometer;scale;analog clock;digital clock;wall clock;hourglass;sundial;parking meter;stopwatch;digital watch;stethoscope;syringe;magnetic compass;binoculars;projector;sunglasses;loupe;radio telescope;bow;cannon [ground];assault rifle;rifle;projectile;computer keyboard;typewriter keyboard;crane;lighter;abacus;cash machine;slide rule;desktop computer;hand - held computer;notebook;web site;harvester;thresher;printer;slot;vending machine;sewing machine;joystick;switch;hook;car wheel;paddlewheel;pinwheel;potter's wheel;gas pump;carousel;swing;reel;radiator;puck;hard disc;sunglass;pick;car mirror;solar dish;remote control;disk brake;buckle;hair slide;knot;combination lock;padlock;nail;safety pin;screw;muzzle;seat belt;ski;candle;jack - o'-lantern;spotlight;torch;neck brace;pier;tripod;maypole;mousetrap;spider web;trilobite;harvestman;scorpion;black and gold garden spider;barn spider;garden spider;black widow;tarantula;wolf spider;tick;centipede;isopod;Dungeness crab;rock crab;fiddler crab;king crab;American lobster;spiny lobster;crayfish;hermit crab;tiger beetle;ladybug;ground beetle;long - horned beetle;leaf beetle;dung beetle;rhinoceros beetle;weevil;fly;bee;grasshopper;cricket;walking stick;cockroach;mantis;cicada;leafhopper;lacewing;dragonfly;damselfly;admiral;ringlet;monarch;cabbage butterfly;sulphur butterfly;lycaenid;jellyfish;sea anemone;brain coral;flatworm;nematode;conch;snail;slug;sea slug;chiton;sea urchin;sea cucumber;iron;espresso maker;microwave;Dutch oven;rotisserie;toaster;waffle iron;vacuum;dishwasher;refrigerator;washer;Crock Pot;frying pan;wok;caldron;coffeepot;teapot;spatula;altar;triumphal arch;patio;steel arch bridge;suspension bridge;viaduct;barn;greenhouse;palace;monastery;library;apiary;boathouse;church;mosque;stupa;planetarium;restaurant;cinema;home theater;lumbermill;coil;obelisk;totem pole;castle;prison;grocery store;bakery;barbershop;bookshop;butcher shop;confectionery;shoe shop;tobacco shop;toyshop;fountain;cliff dwelling;yurt;dock;brass;megalith;bannister;breakwater;dam;chainlink fence;picket fence;worm fence;stone wall;grille;sliding door;turnstile;mountain tent;scoreboard;honeycomb;plate rack;pedestal;beacon;mashed potato;bell pepper;head cabbage;broccoli;cauliflower;zucchini;spaghetti squash;acorn squash;butternut squash;cucumber;artichoke;cardoon;mushroom;shower curtain;jean;carton;handkerchief;sandal;ashcan;safe;plate;necklace;croquet ball;fur coat;thimble;pajama;running shoe;cocktail shaker;chest;manhole cover;modem;tub;tray;balance beam;bagel;prayer rug;kimono;hot pot;whiskey jug;knee pad;book jacket;spindle;ski mask;beer bottle;crash helmet;bottlecap;tile roof;mask;maillot;Petri dish;football helmet;bathing cap;teddy bear;holster;pop bottle;photocopier;vestment;crossword puzzle;golf ball;trifle;suit;water tower;feather boa;cloak;red wine;drumstick;shield;Christmas stocking;hoopskirt;menu;stage;bonnet;meat loaf;baseball;face powder;scabbard;sunscreen;beer glass;hen-of - the - woods;guacamole;lampshade;wool;hay;bow tie;mailbag;water jug;bucket;dishrag;soup bowl;eggnog;mortar;trench coat;paddle;chain;swab;mixing bowl;potpie;wine bottle;shoji;bulletproof vest;drilling platform;binder;cardigan;sweatshirt;pot;birdhouse;hamper;ping-pong ball;pencil box;pay - phone;consomme;apron;punching bag;backpack;groom;bearskin;pencil sharpener;broom;mosquito net;abaya;mortarboard;poncho;crutch;Polaroid camera;space bar;cup;racket;traffic light;quill;radio;dough;cuirass;military uniform;lipstick;shower cap;monitor;oscilloscope;mitten;brassiere;French loaf;vase;milk can;rugby ball;paper towel;earthstar;envelope;miniskirt;cowboy hat;trolleybus;perfume;bathtub;hotdog;coral fungus;bullet train;pillow;toilet tissue;cassette;carpenter's kit;ladle;stinkhorn;lotion;hair spray;academic gown;dome;crate;wig;burrito;pill bottle;chain mail;theater curtain;window shade;barrel;washbasin;ballpoint;basketball;bath towel;cowboy boot;gown;window screen;agaric;cellular telephone;nipple;barbell;mailbox;lab coat;fire screen;minibus;packet;maze;pole;horizontal bar;sombrero;pickelhaube;rain barrel;wallet;cassette player;comic book;piggy bank;street sign;bell cote;fountain pen;Windsor tie;volleyball;overskirt;sarong;purse;bolo tie;bib;parachute;sleeping bag;television;swimming trunks;measuring cup;espresso;pizza;breastplate;shopping basket;wooden spoon;saltshaker;chocolate sauce;ballplayer;goblet;gyromitra;stretcher;water bottle;dial telephone;soap dispenser;jersey;school bus;jigsaw puzzle;plastic bag;reflex camera;diaper;Band Aid;ice lolly;velvet;tennis ball;gasmask;doormat;Loafer;ice cream;pretzel;quilt;maillot;tape player;clog;iPod;bolete;scuba diver;pitcher;matchstick;bikini;sock;CD player;lens cap;thatch;vault;beaker;bubble;cheeseburger;parallel bars;flagpole;coffee mug;rubber eraser;stole;carbonara;dumbbell".split(";")};
class jn extends ne{}let Q=new jn({scroll:!1,inceptionLabels:Tb.inception,currentClass:62,currentClassAtlasIndex:507,currentClassAtlasCompareIndex:507,classChoices:[9,622,665,652,288,233,188,169,80,76,62,61,7,355,990,746,791],classAtlasIndices:[982,507,62,9,169,7,80,76,235,41,2,442,450,454,930,378,582,780,901,946,791,738,736,744,489,387,388,399,721,672,6,665,652,288,355,348,804,600,605,631,643],multipleLayers:{abacus:[{layerName:"mixed3b",homeX:.8086,homeY:.4295,gridSize:3,homeScale:48},{layerName:"mixed4c",
homeX:.8593,homeY:.5814},{layerName:"mixed5b",homeX:.8183,homeY:.79,gridSize:4,homeScale:96}],plant:[{layerName:"mixed3b",homeX:.59,homeY:.64,gridSize:3,homeScale:48,caption:"You'll immediately notice that the early layer is very nonspecific in comparison to the others. The icons that emerge are of patterns and splotches of color. It is suggestive of the final class, but not particularly evocative."},{layerName:"mixed4c",homeX:.15,homeY:.4,caption:"By the middle layer, icons definitely resemble leaves, but they could be any type of plant. Attributions are focused on plants, but are a little all over the board."},
{layerName:"mixed5b",homeX:.178,homeY:.72,caption:"Here we see foliage with textures that are specific to cabbage, and curved into rounded balls. There are full heads of cabbage rather than individual leaves."}],water:[{layerName:"mixed4c",homeX:.365,homeY:.673,caption:'In mixed4c we see two different regions that have high attribution toward "sandbar": an area of <b>sandy textures</b>\u2026'},{layerName:"mixed4c",homeX:.318,homeY:.764,caption:"\u2026and a separate area of <b>watery textures</b>."},
{layerName:"mixed5b",homeX:.74,homeY:.48,caption:'In a later layer we see activations that contain <b>both</b> of those concepts when detecting "sandbar".'}]},currentClassComparisonIndex:0,classComparisons:[{id:"507_982",leftLabel:"snorkel",rightLabel:"scuba diver",left:507,right:982,annotation:[{pos:{x:7,y:8},desc:"locomotive?"}]},{id:"736_744",leftLabel:"head cabbage",rightLabel:"artichoke",left:736,right:744,annotation:[]},{id:"671_672",leftLabel:"frying pan",rightLabel:"wok",left:671,right:672,
annotation:[{pos:{x:1,y:7},desc:"noodles?"}]},{id:"777_831",leftLabel:"beer bottle",rightLabel:"wine bottle",left:777,right:831,annotation:[]},{id:"543_544",leftLabel:"computer keyboard",rightLabel:"typewriter keyboard",left:543,right:544,annotation:[]},{id:"28_205",leftLabel:"red wolf",rightLabel:"timber wolf",left:28,right:205,annotation:[]},{id:"67_62",leftLabel:"grey fox",rightLabel:"red fox",left:67,right:62,annotation:[]},{id:"1_62",leftLabel:"kit fox",rightLabel:"red fox",left:1,right:62,annotation:[]},
{id:"6_442",leftLabel:Tb.inception[6],rightLabel:Tb.inception[442],left:6,right:442,annotation:[{pos:{x:2,y:7},desc:"baseball?"}]}],focus1Highlight:{scale:6,x:.844,y:.49},focusHighlights:[{scale:10,x:.873,y:.585},{scale:10,x:.709,y:.579},{scale:10,x:.221,y:.862},{scale:10,x:.807,y:.667}],pois:{mammals:{layerName:"mixed4a",gridSize:2,gcx:.6295,gcy:1-.9475,scale:8},dogs:{layerName:"mixed5a",gridSize:3,gcx:.589,gcy:1-.946,scale:10},curves:{layerName:"mixed4b",gridSize:3,gcx:.5947,gcy:.3351,scale:14},
cups:{layerName:"mixed5b",gridSize:3,gcx:.35073,gcy:.862,scale:10},patterns:{layerName:"mixed4b",gridSize:3,gcx:.91579,gcy:.32406,scale:8},text:{layerName:"mixed5a",gridSize:3,gcx:.5281,gcy:.9766,scale:19},fabric:{layerName:"mixed4b",gridSize:3,gcx:.489,gcy:.2043,scale:12},clothing:{layerName:"mixed5a",gridSize:3,gcx:.743,gcy:.48,scale:12}}});q(Pb.prototype,D);q(Pb.prototype,{mousemove:function(b){let {visible:a}=this.get();a&&this.set({x:b.clientX,y:b.clientY})},show:function(b){this.set({visible:!0});
this.refs.component.set(b)},hide:function(){this.set({visible:!1})}});Pb.prototype._recompute=function(b,a){(b.x||b.width||b.y||b.height||b.visible)&&this._differs(a.style,a.style=hi(a))&&(b.style=!0)};q(od.prototype,D);q(od.prototype,{measure(){}});var ni=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;pd.prototype=qd.prototype;qd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,this.width|
0))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var se,te={"%":function(b,a){return(100*b).toFixed(a)},b:function(b){return Math.round(b).toString(2)},c:function(b){return b+""},d:function(b){return Math.round(b).toString(10)},e:function(b,a){return b.toExponential(a)},f:function(b,a){return b.toFixed(a)},g:function(b,a){return b.toPrecision(a)},o:function(b){return Math.round(b).toString(8)},p:function(b,a){return pe(100*b,a)},r:pe,
s:function(b,a){var c=Qb(b,a);if(!c)return b+"";var d=c[0];c=c[1];c=c-(se=3*Math.max(-8,Math.min(8,Math.floor(c/3))))+1;var e=d.length;return c===e?d:c>e?d+Array(c-e+1).join("0"):0<c?d.slice(0,c)+"."+d.slice(c):"0."+Array(1-c).join("0")+Qb(b,Math.max(0,a+c-1))[0]},X:function(b){return Math.round(b).toString(16).toUpperCase()},x:function(b){return Math.round(b).toString(16)}},re="y z a f p n \u00b5 m  k M G T P E Z Y".split(" "),ee,bb;(function(b){ee=oi(b);bb=ee.format;return ee})({decimal:".",thousands:",",
grouping:[3],currency:["$",""]});var ye=bb(".2f"),ve=bb(",");q(ze.prototype,D);q(Rb.prototype,D);q(rd.prototype,D);q(ea.prototype,D);q(ea.prototype,{measure(){this.set({clientWidth:this.refs.container.offsetWidth,clientHeight:this.refs.container.offsetHeight})},getComponent(){return this.refs.component}});ea.prototype._recompute=function(b,a){(b.radarReady||b.component||b.clientWidth)&&this._differs(a.finalReady,a.finalReady=ti(a))&&(b.finalReady=!0);b.width&&this._differs(a.finalWidth,a.finalWidth=
ui(a))&&(b.finalWidth=!0);(b.clientWidth||b.height||b.aspectRatio||b.minHeight)&&this._differs(a.finalHeight,a.finalHeight=vi(a))&&(b.finalHeight=!0)};q(sd.prototype,D);q(O.prototype,D);q(td.prototype,D);q(bc.prototype,D);q(Ee.prototype,D);q(Fe.prototype,D);q(Ge.prototype,D);q(Sb.prototype,D);Sb.prototype._recompute=function(b,a){b.name&&this._differs(a.Icon,a.Icon=Fi(a))&&(b.Icon=!0)};q(yb.prototype,D);q(yb.prototype,{measure(){this.set({clientWidth:this.refs.root.offsetWidth,clientHeight:this.refs.root.offsetHeight})},
up(){let {upListener:b,moveListener:a}=this.get();window.removeEventListener("pointermove",a);window.removeEventListener("pointerup",b);this.set({cursor:"grab"})},down(b){b.preventDefault();var {enableDragging:a}=this.get();a&&this.move(b);b=this.up.bind(this);window.addEventListener("pointerup",b);a=this.move.bind(this);window.addEventListener("pointermove",a);this.set({upListener:b,moveListener:a,cursor:"grabbing"})},move(b){let {clientWidth:a,clientHeight:c}=this.get(),d=b.offsetX/a,e=b.offsetY/
c;this.set({gcx:d,gcy:e,startPos:{x:b.screenX,y:b.screenY}});this.fire("drag",{gcx:d,gcy:e})}});yb.prototype._recompute=function(b,a){if(b.clientWidth||b.extent)this._differs(a.left,a.left=Hi(a))&&(b.left=!0),this._differs(a.right,a.right=Ii(a))&&(b.right=!0);if(b.clientHeight||b.extent)this._differs(a.top,a.top=Ji(a))&&(b.top=!0),this._differs(a.bottom,a.bottom=Ki(a))&&(b.bottom=!0)};q(Ke.prototype,D);var kn={destroy:Le,get:function(b){return b?this._state[b]:this._state},fire:function(b,a){if(b=
b in this._handlers&&this._handlers[b].slice())for(var c=0;c<b.length;c+=1)b[c].call(this,a)},observe:function(b,a,c){var d=c&&c.defer?this._observers.post:this._observers.pre;(d[b]||(d[b]=[])).push(a);c&&!1===c.init||(a.__calling=!0,a.call(this,this._state[b]),a.__calling=!1);return{cancel:function(){var c=d[b].indexOf(a);~c&&d[b].splice(c,1)}}},on:function(b,a){if("teardown"===b)return this.on("destroy",a);var c=this._handlers[b]||(this._handlers[b]=[]);c.push(a);return{cancel:function(){var b=
c.indexOf(a);~b&&c.splice(b,1)}}},set:function(b){this._set(gc({},b));this.root._lock||(this.root._lock=!0,Ic(this.root._beforecreate),Ic(this.root._oncreate),Ic(this.root._aftercreate),this.root._lock=!1)},teardown:Le,_recompute:ud,_set:function(b){var a=this._state,c={},d=!1,e;for(e in b)this._differs(b[e],a[e])&&(c[e]=d=!0);d&&(this._state=gc({},a,b),this._recompute(c,this._state),this._bind&&this._bind(c,this._state),this._fragment&&(Me(this,this._observers.pre,c,this._state,a),this._fragment.p(c,
this._state),Me(this,this._observers.post,c,this._state,a)))},_mount:function(b,a){this._fragment[this._fragment.i?"i":"m"](b,a||null)},_unmount:function(){this._fragment&&this._fragment.u()},_differs:function(b,a){return b!=b?a==a:b!==a||b&&"object"===typeof b||"function"===typeof b}};let vd=new Map;gc(Ne.prototype,{draw(){if(this.refs.canvas){let b=this.refs.canvas.getContext("2d"),{img:a,index:c,width:d,realHeight:e,columns:f,loaded:g}=this.get();b.clearRect(0,0,d,e);let k=Array.isArray(c)?c[0]*
d:c%f*d,n=Array.isArray(c)?c[1]*e:Math.floor(c/f)*e;g?b.drawImage(a,k,n,d,e,0,0,d,e):(b.fillStyle="#ccc",b.fillRect(0,0,d,e),b.fillStyle="#eee",b.textAlign="center",b.font="16px sans-serif",b.fillText("...",d/2,e/2))}}},kn);Ne.prototype._recompute=function(b,a){(b.width||b.height)&&this._differs(a.realHeight,a.realHeight=Oi(a.width,a.height))&&(b.realHeight=!0)};var Qe={},wd={},ln=Pe(",").parse,mn=Pe("\t").parse;let zd=new Map,Lc=new Map,yd=new Map,Te=new Map([["gif",Jc],["png",Jc],["jpeg",Jc],["jpg",
Jc],["csv",function(b){return Kc(b).then((a)=>Promise.resolve(ln(a)))}],["tsv",function(b){return Kc(b).then((a)=>Promise.resolve(mn(a)))}],["txt",Kc],["text",Kc],["json",function(b){return fetch(b).then(Re).then((a)=>a.json())}]]);var Nc=[235,287,237,982,507,41,176,3,2,112,158,14,442,450,454,513,523,529,930,600,605,736,744,358,756,936,942,943,366,365,367,484,483,488,489,387,388,399,411,405],Sh={vm:"shan-gpu-06-vm",id:"inceptionv1_mixed3a",build_dir:"build",cloud_dir:"gs://activation-atlas-public",
model:"inceptionv1",layer:"mixed3a",sample_type:"random",sample_images:1E6,filter:4E5,tries:4,tile_size:10,grid_size:[20,40,80,160],whiten:"false",steps:1024,icon_size:80,layout:"200_0.05_euclidean",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},Th={vm:"shan-gpu-06-vm",id:"inceptionv1_mixed3b",build_dir:"build",cloud_dir:"gs://activation-atlas-public",model:"inceptionv1",layer:"mixed3b",sample_type:"random",sample_images:1E6,filter:4E5,tries:4,tile_size:10,grid_size:[20,40,80,160],whiten:"false",
steps:1024,icon_size:80,layout:"200_0.05_euclidean",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},Uh={vm:"shan-gpu-08-vm",id:"inceptionv1_mixed4a",build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:["mixed4a"],sample_type:"random",sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,160],whiten:"true",steps:1024,icon_size:80,layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},Vh={vm:"shan-gpu-08-vm",
id:"inceptionv1_mixed4b",build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:["mixed4b"],sample_type:"random",sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,160],whiten:"true",steps:1024,icon_size:80,layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},Wh={vm:"shan-gpu-08-vm",id:"inceptionv1_mixed4c",build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:["mixed4c"],
sample_type:"random",sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,160],whiten:"true",steps:1024,icon_size:80,layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},Xh={vm:"shan-gpu-07-vm",id:"inceptionv1_mixed4d",build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:["mixed4d"],sample_type:"random",sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,160],whiten:"true",steps:1024,icon_size:80,
layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},Yh={vm:"shan-gpu-07-vm",id:"inceptionv1_mixed4e",build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:["mixed4e"],sample_type:"random",sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,160],whiten:"true",steps:1024,icon_size:80,layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},Zh={vm:"shan-gpu-08-vm",id:"inceptionv1_mixed5a",
build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:["mixed5a"],sample_type:"random",sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,160,320],whiten:"true",steps:1024,icon_size:80,layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},$h={vm:"shan-gpu-07-vm",id:"inceptionv1_mixed5b",build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:["mixed5b"],sample_type:"random",
sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,160,320],whiten:"true",steps:1024,icon_size:80,layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1};let Wi={inceptionv1_mixed3a:Sh,inceptionv1_mixed3b:Th,inceptionv1_mixed4a:Uh,inceptionv1_mixed4b:Vh,inceptionv1_mixed4c:Wh,inceptionv1_mixed4d:Xh,inceptionv1_mixed4e:Yh,inceptionv1_mixed5a:Zh,inceptionv1_mixed5b:$h};q(Mc.prototype,D);q(Mc.prototype,{render(){let {grid:b,gridSize:a,icons:c,classHeatmap:d,
layerName:e}=this.get(),f=this.refs.canvas.getContext("2d"),g=f.getImageData(0,0,a,a),k=g.data,n=!1,l=!1;switch(e){case "mixed4a":l=n=!0;break;case "mixed4d":n=!0;l=!1;break;case "mixed5a":n=!0;l=!1;break;case "mixed5b":n=!0,l=!1}for(let e of c){var m=1;-1<d&&(m=Nc.indexOf(d),m=Math.max(.1,20*Math.max(0,e.f[m])));k[(n?a-e.x-1:e.x)*a*4+4*(l?a-e.y-1:e.y)+3]=40+e.n/Math.pow(b+1,2)*a*a*(20<a?8E-4:1.5E-4)*m}f.putImageData(g,0,0)}});Mc.prototype._recompute=function(b,a){b.clientWidth&&this._differs(a.height,
a.height=Ti(a))&&(b.height=!0);(b.model||b.layerName)&&this._differs(a.id,a.id=Ui(a))&&(b.id=!0)};q(We.prototype,D);q(Ad.prototype,D);Ad.prototype._recompute=function(b,a){b.inceptionLabels&&this._differs(a.labels,a.labels=$i(a))&&(b.labels=!0)};var af={},Bd={},nn=$e(",").parse,on=$e("\t").parse;let Ed=new Map,Qc=new Map,Dd=new Map,df=new Map([["gif",Oc],["png",Oc],["jpeg",Oc],["jpg",Oc],["csv",function(b){return Pc(b).then((a)=>Promise.resolve(nn(a)))}],["tsv",function(b){return Pc(b).then((a)=>
Promise.resolve(on(a)))}],["txt",Pc],["text",Pc],["json",function(b){return fetch(b).then(bf).then((a)=>a.json())}]]);(function(b){1===b.length&&(b=dj(b));return{left:function(a,c,d,e){null==d&&(d=0);null==e&&(e=a.length);for(;d<e;){var f=d+e>>>1;0>b(a[f],c)?d=f+1:e=f}return d},right:function(a,c,d,e){null==d&&(d=0);null==e&&(e=a.length);for(;d<e;){var f=d+e>>>1;0<b(a[f],c)?e=f:d=f+1}return d}}})(ef);let fj={inceptionv1_mixed3a:Sh,inceptionv1_mixed3b:Th,inceptionv1_mixed4a:Uh,inceptionv1_mixed4b:Vh,
inceptionv1_mixed4c:Wh,inceptionv1_mixed4d:Xh,inceptionv1_mixed4e:Yh,inceptionv1_mixed5a:Zh,inceptionv1_mixed5b:$h};q(Fd.prototype,D);var hj={value:function(){}};Rc.prototype=Gd.prototype={constructor:Rc,on:function(b,a){var c=this._,d=gj(b+"",c),e,f=-1,g=d.length;if(2>arguments.length)for(;++f<g;){var k;if(k=e=(b=d[f]).type){a:{k=c[e];for(var n=0,l=k.length;n<l;++n)if((e=k[n]).name===b.name){e=e.value;break a}e=void 0}k=e}if(k)return e}else{if(null!=a&&"function"!==typeof a)throw Error("invalid callback: "+
a);for(;++f<g;)if(e=(b=d[f]).type)c[e]=ff(c[e],b.name,a);else if(null==a)for(e in c)c[e]=ff(c[e],b.name,null);return this}},copy:function(){var b={},a=this._,c;for(c in a)b[c]=a[c].slice();return new Rc(b)},call:function(b,a){if(0<(e=arguments.length-2))for(var c=Array(e),d=0,e,f;d<e;++d)c[d]=arguments[d+2];if(!this._.hasOwnProperty(b))throw Error("unknown type: "+b);f=this._[b];d=0;for(e=f.length;d<e;++d)f[d].value.apply(a,c)},apply:function(b,a,c){if(!this._.hasOwnProperty(b))throw Error("unknown type: "+
b);b=this._[b];for(var d=0,e=b.length;d<e;++d)b[d].value.apply(a,c)}};var gf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ai=function(b){return function(){return this.matches(b)}};if("undefined"!==typeof document){var vb=document.documentElement;if(!vb.matches){var pn=vb.webkitMatchesSelector||vb.msMatchesSelector||vb.mozMatchesSelector||vb.oMatchesSelector;
ai=function(b){return function(){return pn.call(this,b)}}}}var bi=ai;Tc.prototype={constructor:Tc,appendChild:function(b){return this._parent.insertBefore(b,this._next)},insertBefore:function(b,a){return this._parent.insertBefore(b,a)},querySelector:function(b){return this._parent.querySelector(b)},querySelectorAll:function(b){return this._parent.querySelectorAll(b)}};lf.prototype={add:function(b){0>this._names.indexOf(b)&&(this._names.push(b),this._node.setAttribute("class",this._names.join(" ")))},
remove:function(b){b=this._names.indexOf(b);0<=b&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(b){return 0<=this._names.indexOf(b)}};var pf={},P=null;"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(pf={mouseenter:"mouseover",mouseleave:"mouseout"}));var rf=[null];la.prototype=hb.prototype={constructor:la,select:function(b){"function"!==typeof b&&(b=Hd(b));for(var a=this._groups,c=a.length,d=Array(c),e=0;e<c;++e)for(var f=
a[e],g=f.length,k=d[e]=Array(g),n,l,m=0;m<g;++m)(n=f[m])&&(l=b.call(n,n.__data__,m,f))&&("__data__"in n&&(l.__data__=n.__data__),k[m]=l);return new la(d,this._parents)},selectAll:function(b){"function"!==typeof b&&(b=jf(b));for(var a=this._groups,c=a.length,d=[],e=[],f=0;f<c;++f)for(var g=a[f],k=g.length,n,l=0;l<k;++l)if(n=g[l])d.push(b.call(n,n.__data__,l,g)),e.push(n);return new la(d,e)},filter:function(b){"function"!==typeof b&&(b=bi(b));for(var a=this._groups,c=a.length,d=Array(c),e=0;e<c;++e)for(var f=
a[e],g=f.length,k=d[e]=[],n,l=0;l<g;++l)(n=f[l])&&b.call(n,n.__data__,l,f)&&k.push(n);return new la(d,this._parents)},data:function(b,a){if(!b)return t=Array(this.size()),l=-1,this.each(function(a){t[++l]=a}),t;var c=a?oj:nj,d=this._parents,e=this._groups;"function"!==typeof b&&(b=mj(b));for(var f=e.length,g=Array(f),k=Array(f),n=Array(f),l=0;l<f;++l){var m=d[l],q=e[l],u=q.length,t=b.call(m,m&&m.__data__,l,d),v=t.length,x=k[l]=Array(v),w=g[l]=Array(v);u=n[l]=Array(u);c(m,q,x,w,u,t,a);q=m=0;for(var z;m<
v;++m)if(u=x[m]){for(m>=q&&(q=m+1);!(z=w[q])&&++q<v;);u._next=z||null}}g=new la(g,d);g._enter=k;g._exit=n;return g},enter:function(){return new la(this._enter||this._groups.map(kf),this._parents)},exit:function(){return new la(this._exit||this._groups.map(kf),this._parents)},merge:function(b){var a=this._groups;b=b._groups;for(var c=a.length,d=Math.min(c,b.length),e=Array(c),f=0;f<d;++f)for(var g=a[f],k=b[f],n=g.length,l=e[f]=Array(n),m,q=0;q<n;++q)if(m=g[q]||k[q])l[q]=m;for(;f<c;++f)e[f]=a[f];return new la(e,
this._parents)},order:function(){for(var b=this._groups,a=-1,c=b.length;++a<c;)for(var d=b[a],e=d.length-1,f=d[e],g;0<=--e;)if(g=d[e])f&&f!==g.nextSibling&&f.parentNode.insertBefore(g,f),f=g;return this},sort:function(b){function a(a,c){return a&&c?b(a.__data__,c.__data__):!a-!c}b||(b=pj);for(var c=this._groups,d=c.length,e=Array(d),f=0;f<d;++f){for(var g=c[f],k=g.length,l=e[f]=Array(k),m,p=0;p<k;++p)if(m=g[p])l[p]=m;l.sort(a)}return(new la(e,this._parents)).order()},call:function(){var b=arguments[0];
arguments[0]=this;b.apply(null,arguments);return this},nodes:function(){var b=Array(this.size()),a=-1;this.each(function(){b[++a]=this});return b},node:function(){for(var b=this._groups,a=0,c=b.length;a<c;++a)for(var d=b[a],e=0,f=d.length;e<f;++e){var g=d[e];if(g)return g}return null},size:function(){var b=0;this.each(function(){++b});return b},empty:function(){return!this.node()},each:function(b){for(var a=this._groups,c=0,d=a.length;c<d;++c)for(var e=a[c],f=0,g=e.length,k;f<g;++f)(k=e[f])&&b.call(k,
k.__data__,f,e);return this},attr:function(b,a){var c=Sc(b);if(2>arguments.length){var d=this.node();return c.local?d.getAttributeNS(c.space,c.local):d.getAttribute(c)}return this.each((null==a?c.local?rj:qj:"function"===typeof a?c.local?vj:uj:c.local?tj:sj)(c,a))},style:function(b,a,c){return 1<arguments.length?this.each((null==a?wj:"function"===typeof a?yj:xj)(b,a,null==c?"":c)):Jb(this.node(),b)},property:function(b,a){return 1<arguments.length?this.each((null==a?zj:"function"===typeof a?Bj:Aj)(b,
a)):this.node()[b]},classed:function(b,a){var c=(b+"").trim().split(/^|\s+/);if(2>arguments.length){for(var d=Id(this.node()),e=-1,f=c.length;++e<f;)if(!d.contains(c[e]))return!1;return!0}return this.each(("function"===typeof a?Ej:a?Cj:Dj)(c,a))},text:function(b){return arguments.length?this.each(null==b?Fj:("function"===typeof b?Hj:Gj)(b)):this.node().textContent},html:function(b){return arguments.length?this.each(null==b?Ij:("function"===typeof b?Kj:Jj)(b)):this.node().innerHTML},raise:function(){return this.each(Lj)},
lower:function(){return this.each(Mj)},append:function(b){var a="function"===typeof b?b:hf(b);return this.select(function(){return this.appendChild(a.apply(this,arguments))})},insert:function(b,a){var c="function"===typeof b?b:hf(b),d=null==a?Nj:"function"===typeof a?a:Hd(a);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})},remove:function(){return this.each(Oj)},clone:function(b){return this.select(b?Qj:Pj)},datum:function(b){return arguments.length?
this.property("__data__",b):this.node().__data__},on:function(b,a,c){var d=Sj(b+""),e=d.length,f;if(2>arguments.length){var g=this.node().__on;if(g)for(var k=0,l=g.length,m;k<l;++k){var p=0;for(m=g[k];p<e;++p)if((f=d[p]).type===m.type&&f.name===m.name)return m.value}}else{g=a?Uj:Tj;null==c&&(c=!1);for(p=0;p<e;++p)this.each(g(d[p],a,c));return this}},dispatch:function(b,a){return this.each(("function"===typeof a?Wj:Vj)(b,a))}};var wb=1/.7,Zj=/^#([0-9a-f]{3})$/,ak=/^#([0-9a-f]{6})$/,bk=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,
ck=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,dk=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,ek=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,fk=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
gk=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,yf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,
crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kb(na,Lb,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}});Kb(ba,Ld,zb(na,{brighter:function(b){b=
null==b?wb:Math.pow(wb,b);return new ba(this.r*b,this.g*b,this.b*b,this.opacity)},darker:function(b){b=null==b?.7:Math.pow(.7,b);return new ba(this.r*b,this.g*b,this.b*b,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&255>=this.r&&0<=this.g&&255>=this.g&&0<=this.b&&255>=this.b&&0<=this.opacity&&1>=this.opacity},hex:function(){return"#"+Md(this.r)+Md(this.g)+Md(this.b)},toString:function(){var b=this.opacity;b=isNaN(b)?1:Math.max(0,Math.min(1,b));return(1===b?"rgb(":
"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===b?")":", "+b+")")}}));Kb(pa,function(b,a,c,d){return 1===arguments.length?hk(b):new pa(b,a,c,null==d?1:d)},zb(na,{brighter:function(b){b=null==b?wb:Math.pow(wb,b);return new pa(this.h,this.s,this.l*b,this.opacity)},darker:function(b){b=null==b?.7:Math.pow(.7,b);return new pa(this.h,this.s,this.l*b,this.opacity)},rgb:function(){var b=
this.h%360+360*(0>this.h),a=isNaN(b)||isNaN(this.s)?0:this.s,c=this.l;a=c+(.5>c?c:1-c)*a;c=2*c-a;return new ba(Nd(240<=b?b-240:b+120,c,a),Nd(b,c,a),Nd(120>b?b+240:b-120,c,a),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity}}));var zf=Math.PI/180,Cf=180/Math.PI,Bf=4/29,Oa=6/29,Af=3*Oa*Oa,ik=Oa*Oa*Oa;Kb(ua,function(b,a,c,d){return 1===arguments.length?Od(b):new ua(b,a,c,null==d?1:d)},zb(na,{brighter:function(b){return new ua(this.l+
18*(null==b?1:b),this.a,this.b,this.opacity)},darker:function(b){return new ua(this.l-18*(null==b?1:b),this.a,this.b,this.opacity)},rgb:function(){var b=(this.l+16)/116,a=isNaN(this.a)?b:b+this.a/500,c=isNaN(this.b)?b:b-this.b/200;a=.96422*Rd(a);b=1*Rd(b);c=.82521*Rd(c);return new ba(Sd(3.1338561*a-1.6168667*b-.4906146*c),Sd(-.9787684*a+1.9161415*b+.033454*c),Sd(.0719453*a-.2289914*b+1.4052427*c),this.opacity)}}));Kb(Ta,function(b,a,c,d){return 1===arguments.length?jk(b):new Ta(b,a,c,null==d?1:d)},
zb(na,{brighter:function(b){return new Ta(this.h,this.c,this.l+18*(null==b?1:b),this.opacity)},darker:function(b){return new Ta(this.h,this.c,this.l-18*(null==b?1:b),this.opacity)},rgb:function(){return Od(this).rgb()}}));var ci=1.78277*-.29227-.1347134789;Kb(Ab,function(b,a,c,d){if(1===arguments.length){var e=b;if(e instanceof Ab)e=new Ab(e.h,e.s,e.l,e.opacity);else{e instanceof ba||(e=Kd(e));var f=e.g/255,g=e.b/255,k=(ci*g+e.r/255*-1.7884503806-3.5172982438*f)/(ci+-1.7884503806-3.5172982438);g-=
k;var l=(1.97294*(f-k)- -.29227*g)/-.90649;g=(f=Math.sqrt(l*l+g*g)/(1.97294*k*(1-k)))?Math.atan2(l,g)*Cf-120:NaN;e=new Ab(0>g?g+360:g,f,k,e.opacity)}}else e=new Ab(b,a,c,null==d?1:d);return e},zb(na,{brighter:function(b){b=null==b?wb:Math.pow(wb,b);return new Ab(this.h,this.s,this.l*b,this.opacity)},darker:function(b){b=null==b?.7:Math.pow(.7,b);return new Ab(this.h,this.s,this.l*b,this.opacity)},rgb:function(){var b=isNaN(this.h)?0:(this.h+120)*zf,a=+this.l,c=isNaN(this.s)?0:this.s*a*(1-a),d=Math.cos(b);
b=Math.sin(b);return new ba(255*(a+c*(-.14861*d+1.78277*b)),255*(a+c*(-.29227*d+-.90649*b)),255*(a+1.97294*c*d),this.opacity)}}));var Of=function c(a){function d(a,c){var d=e((a=Ld(a)).r,(c=Ld(c)).r),f=e(a.g,c.g),g=e(a.b,c.b),h=Ef(a.opacity,c.opacity);return function(c){a.r=d(c);a.g=f(c);a.b=g(c);a.opacity=h(c);return a+""}}var e=mk(a);d.gamma=c;return d}(1),Td=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ud=new RegExp(Td.source,"g"),Gf=180/Math.PI,fe={translateX:0,translateY:0,rotate:0,skewX:0,
scaleX:1,scaleY:1},xb,ge,di,kd,qn=Hf(function(a){if("none"===a)return fe;xb||(xb=document.createElement("DIV"),ge=document.documentElement,di=document.defaultView);xb.style.transform=a;a=di.getComputedStyle(ge.appendChild(xb),null).getPropertyValue("transform");ge.removeChild(xb);a=a.slice(7,-1).split(",");return Ff(+a[0],+a[1],+a[2],+a[3],+a[4],+a[5])},"px, ","px)","deg)"),rn=Hf(function(a){if(null==a)return fe;kd||(kd=document.createElementNS("http://www.w3.org/2000/svg","g"));kd.setAttribute("transform",
a);if(!(a=kd.transform.baseVal.consolidate()))return fe;a=a.matrix;return Ff(a.a,a.b,a.c,a.d,a.e,a.f)},", ",")",")"),Ub=Math.SQRT2,Cb=0,Db=0,Vb=0,Zc,Eb,Yc=0,qa=0,Wc=0,Bb="object"===typeof performance&&performance.now?performance:Date,Jf="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};Xc.prototype=Kf.prototype={constructor:Xc,restart:function(a,c,d){if("function"!==typeof a)throw new TypeError("callback is not a function");
d=(null==d?Vc():+d)+(null==c?0:+c);this._next||Eb===this||(Eb?Eb._next=this:Zc=this,Eb=this);this._call=a;this._time=d;Vd()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Vd())}};var uk=Gd("start","end","interrupt"),vk=[],sn=hb.prototype.constructor,ei=0,Ib=hb.prototype;Pa.prototype=function(a){return hb().transition(a)}.prototype={constructor:Pa,select:function(a){var c=this._name,d=this._id;"function"!==typeof a&&(a=Hd(a));for(var e=this._groups,f=e.length,g=Array(f),k=0;k<f;++k)for(var l=
e[k],m=l.length,p=g[k]=Array(m),q,t,v=0;v<m;++v)(q=l[v])&&(t=a.call(q,q.__data__,v,l))&&("__data__"in q&&(t.__data__=q.__data__),p[v]=t,$c(p[v],c,d,v,p,va(q,d)));return new Pa(g,this._parents,c,d)},selectAll:function(a){var c=this._name,d=this._id;"function"!==typeof a&&(a=jf(a));for(var e=this._groups,f=e.length,g=[],k=[],l=0;l<f;++l)for(var m=e[l],p=m.length,q,t=0;t<p;++t)if(q=m[t]){for(var v=a.call(q,q.__data__,t,m),x,z=va(q,d),w=0,D=v.length;w<D;++w)(x=v[w])&&$c(x,c,d,w,v,z);g.push(v);k.push(q)}return new Pa(g,
k,c,d)},filter:function(a){"function"!==typeof a&&(a=bi(a));for(var c=this._groups,d=c.length,e=Array(d),f=0;f<d;++f)for(var g=c[f],k=g.length,l=e[f]=[],m,p=0;p<k;++p)(m=g[p])&&a.call(m,m.__data__,p,g)&&l.push(m);return new Pa(e,this._parents,this._name,this._id)},merge:function(a){if(a._id!==this._id)throw Error();var c=this._groups;a=a._groups;for(var d=c.length,e=Math.min(d,a.length),f=Array(d),g=0;g<e;++g)for(var k=c[g],l=a[g],m=k.length,p=f[g]=Array(m),q,t=0;t<m;++t)if(q=k[t]||l[t])p[t]=q;for(;g<
d;++g)f[g]=c[g];return new Pa(f,this._parents,this._name,this._id)},selection:function(){return new sn(this._groups,this._parents)},transition:function(){for(var a=this._name,c=this._id,d=++ei,e=this._groups,f=e.length,g=0;g<f;++g)for(var k=e[g],l=k.length,m,p=0;p<l;++p)if(m=k[p]){var q=va(m,c);$c(m,a,d,p,k,{time:q.time+q.delay+q.duration,delay:0,duration:q.duration,ease:q.ease})}return new Pa(e,this._parents,a,d)},call:Ib.call,nodes:Ib.nodes,node:Ib.node,size:Ib.size,empty:Ib.empty,each:Ib.each,
on:function(a,c){var d=this._id;return 2>arguments.length?va(this.node(),d).on.on(a):this.each(Mk(d,a,c))},attr:function(a,c){var d=Sc(a),e="transform"===d?rn:Nf;return this.attrTween(a,"function"===typeof c?(d.local?Dk:Ck)(d,e,Xd(this,"attr."+a,c)):null==c?(d.local?zk:yk)(d):(d.local?Bk:Ak)(d,e,c+""))},attrTween:function(a,c){var d="attr."+a;if(2>arguments.length)return(d=this.tween(d))&&d._value;if(null==c)return this.tween(d,null);if("function"!==typeof c)throw Error();var e=Sc(a);return this.tween(d,
(e.local?Ek:Fk)(e,c))},style:function(a,c,d){var e="transform"===(a+="")?qn:Nf;return null==c?this.styleTween(a,Ok(a,e)).on("end.style."+a,Pk(a)):this.styleTween(a,"function"===typeof c?Rk(a,e,Xd(this,"style."+a,c)):Qk(a,e,c+""),d)},styleTween:function(a,c,d){var e="style."+(a+="");if(2>arguments.length)return(e=this.tween(e))&&e._value;if(null==c)return this.tween(e,null);if("function"!==typeof c)throw Error();return this.tween(e,Sk(a,c,null==d?"":d))},text:function(a){return this.tween("text","function"===
typeof a?Uk(Xd(this,"text",a)):Tk(null==a?"":a+""))},remove:function(){return this.on("end.remove",Nk(this._id))},tween:function(a,c){var d=this._id;a+="";if(2>arguments.length){d=va(this.node(),d).tween;for(var e=0,f=d.length,g;e<f;++e)if((g=d[e]).name===a)return g.value;return null}return this.each((null==c?wk:xk)(d,a,c))},delay:function(a){var c=this._id;return arguments.length?this.each(("function"===typeof a?Gk:Hk)(c,a)):va(this.node(),c).delay},duration:function(a){var c=this._id;return arguments.length?
this.each(("function"===typeof a?Ik:Jk)(c,a)):va(this.node(),c).duration},ease:function(a){var c=this._id;return arguments.length?this.each(Kk(c,a)):va(this.node(),c).ease}};var he={time:null,delay:0,duration:250,ease:function(a){return(1>=(a*=2)?a*a*a:(a-=2)*a*a+2)/2}};hb.prototype.interrupt=function(a){return this.each(function(){ad(this,a)})};hb.prototype.transition=function(a){var c;if(a instanceof Pa){var d=a._id;a=a._name}else d=++ei,(c=he).time=Vc(),a=null==a?null:a+"";for(var e=this._groups,
f=e.length,g=0;g<f;++g)for(var k=e[g],l=k.length,m,p=0;p<l;++p)if(m=k[p]){var q=m,t=a,v=d,x=p,z=k,w;if(!(w=c))a:{w=void 0;for(var D=d;!(w=m.__transition)||!(w=w[D]);)if(!(m=m.parentNode)){w=(he.time=Vc(),he);break a}}$c(q,t,v,x,z,w)}return new Pa(e,this._parents,a,d)};cb.prototype={constructor:cb,scale:function(a){return 1===a?this:new cb(this.k*a,this.x,this.y)},translate:function(a,c){return 0===a&0===c?this:new cb(this.k,this.x+this.k*a,this.y+this.k*c)},apply:function(a){return[a[0]*this.k+this.x,
a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+
","+this.y+") scale("+this.k+")"}};var cd=new cb(1,0,0);Pf.prototype=cb.prototype;var ya={components:[],running:!1,add:function(a){~ya.components.indexOf(a)||(ya.components.push(a),ya.running||(ya.running=!0,requestAnimationFrame(ya.next)))},next:function(){for(var a=window.performance.now(),c=!1,d=ya.components.length;d--;){var e=ya.components[d],f={},g=!1,k;for(k in e._currentTweens){var l=e._currentTweens[k];a>=l.end?(f[k]=l.to,delete e._currentTweens[k],l.fulfil()):(c=g=!0,a>=l.start&&(f[k]=l.value(l.ease((a-
l.start)/l.duration))))}e._tweening=!0;e.set(f);e._tweening=!1;g||ya.components.splice(d,1)}c?requestAnimationFrame(ya.next):ya.running=!1}};q(dd.prototype,D);q(dd.prototype,{tween:function(a,c,d){var e=this;void 0===d&&(d={});if(!this._currentTweens){this._currentTweens=Object.create(null);this._tweening=!1;var f=this.set;this.set=function(a){if(!e._tweening)for(var c in a)e._currentTweens[c]&&e._currentTweens[c].abort();f.call(e,a)}}this._currentTweens[a]&&this._currentTweens[a].abort();var g=window.performance.now()+
(d.delay||0),k=d.duration||400,l=g+k,m={key:a,value:(d.interpolate||Yd)(this.get()[a],c),to:c,start:g,end:l,duration:k,ease:d.easing||cl,running:!0,abort:function(){m.running=!1;delete e._currentTweens[a]}};this._currentTweens[a]=m;ya.add(this);c=new Promise(function(a){m.fulfil=a});c.abort=m.abort;return c},zoomEventFilter:function(){let {scrollWheel:a,disableBehaviors:c}=this.get();return c?!1:a?!P.button:!("wheel"===P.type&&!1===P.ctrlKey)&&!P.button},mouseMove:function(a){this.set({msx:a.offsetX,
msy:a.offsetY});let {}=this.get()},update:function(){var {el:a}=this.get();a=Pf(a);this.set({scale:a.k,transform:a,translateX:a.x,translateY:a.y})},onzoom:function(a){a.update();a.fire("zoom")},zoomTo:function(a,c,d=1,e=1E3){let {selection:f,z:g,minSize:k,clientWidth:l,clientHeight:m}=this.get();f.transition().duration(e).call(g.transform,cd.translate(l/2,m/2).scale(d).translate(-a*k,-c*k))},translateTo:function(a,c){let {z:d,selection:e,minSize:f}=this.get();d.translateTo(e,a*f,c*f)},home:function(a=
0){let {homeX:c,homeY:d,homeScale:e}=this.get();this.zoomTo(c,d,e,a)},scaleTo:function(a,c=0){let {z:d,selection:e}=this.get();e.transition().duration(c).call(d.scaleTo,a)}});dd.prototype._recompute=function(a,c){(a.clientWidth||a.clientHeight)&&this._differs(c.minSize,c.minSize=dl(c))&&(a.minSize=!0);(a.msx||a.msy)&&this._differs(c.mouseOver,c.mouseOver=el(c))&&(a.mouseOver=!0);(a.transform||a.msx||a.msy||a.clientHeight||a.clientWidth||a.minSize)&&this._differs(c.mouseGlobalPosition,c.mouseGlobalPosition=
fl(c))&&(a.mouseGlobalPosition=!0);(a.scale||a.translateX||a.translateY||a.minSize||a.clientWidth||a.clientHeight)&&this._differs(c.extent,c.extent=gl(c))&&(a.extent=!0);a.extent&&(this._differs(c.gcx,c.gcx=hl(c))&&(a.gcx=!0),this._differs(c.gcy,c.gcy=il(c))&&(a.gcy=!0))};q(ic.prototype,D);q(ic.prototype,{measure(){this.set({viewWidth:this.refs.root.offsetWidth,viewHeight:this.refs.root.offsetHeight})},fullscreen(){this.refs.root.webkitRequestFullscreen()},home(a=0){this.refs.d3Zoom.home(a)},translateTo(a,
c){this.refs.d3Zoom.translateTo(a,c)},zoomTo(a,c,d,e=1E3){this.refs.d3Zoom.zoomTo(a,c,d,e)},transitionTo(a,c,d,e=0){this.refs.d3Zoom.transformTo(a,c,d,e)},scaleBy(a){let {scale:c}=this.get();this.refs.d3Zoom.scaleTo(c*a,300)},iconToGlobalPosition(a,c){let {density:d,scale:e,translateX:f,translateY:g,config:k,w:l,h:m}=this.get();var p=k.grid_size[c];c=a.gw*e*Math.min(l,m);p=c*Math.min(1,Math.sqrt(d*a.num_activations/(("number"==typeof k.filter[0]?k.filter[0]:k.sample_images)/(p*p))));return{sourceX:a.localX*
k.icon_size,sourceY:a.localY*k.icon_size,iconX:a.gy*e*Math.min(l,m)+f+(c-p)/2,iconY:a.gx*e*Math.min(l,m)+g+(c-p)/2,iconWidth:p}},clear(){let {viewHeight:a,viewWidth:c,context:d,backgroundColor:e,labelsContext:f}=this.get();d.globalAlpha=1;d.fillStyle=e;d.clearRect(0,0,c,a);d.fillRect(0,0,c,a);f.globalAlpha=1;f.clearRect(0,0,c,a)},render(){let {id:a,labelsContext:c,loading:d,classHeatmap:e,showLabels:f,labels:g,labelsBufferCanvas:k,imageSmoothing:l,scale:m,w:p,h:q,translateX:t,translateY:v,context:x,
config:z,layers:w,currentZoomIndex:D,strokeColor:B,strokeThickness:G,maxAttributionValue:H}=this.get();this.clear();x.imageSmoothingEnabled=l;c.strokeStyle=B;c.lineWidth=G;x.fillStyle="white";if(z&&w&&!d){let d=[{i:D,opacity:1}];this.set({visibleLayers:d});d.forEach((d)=>{let h=d.i;d=w[h];var l=Math.min(p,q);let n=Math.max(0,Math.floor(-(t/m/l)*d.length)),r=n+Math.ceil(p/m/l*d.length);var u=Math.max(0,Math.floor(-(v/m/l)*d.length));for(l=u+Math.ceil(q/m/l*d.length);u<=l;u++)for(let l=n;l<=r;l++)if(d[u]&&
d[u][l]){let m=d[u][l],{iconX:n,iconY:r,iconWidth:p}=this.iconToGlobalPosition(m,h),q=a;{c.globalAlpha=.3;c.strokeRect(n,r,p,p);c.globalAlpha=1;var y=Math.ceil(40/p);let a=Math.ceil(60/p);f&&g&&-1===e&&0==m.y%a&&0==m.x%y&&(c.globalAlpha=1,y=m.top_class_indices[0],c.drawImage(k,y%10*150,20*Math.floor(y/10)+4,Math.min(p*a-5,100),20,n,r+p-20-2,Math.min(p*a-5,100),20));Cd(m.url).then((a)=>{let {id:c,visibleLayers:d}=this.get();if(d.reduce((a,c)=>c.i===h?a+1:a,0)&&q===c){let {config:c,classHeatmap:d,classHeatmapMultiplier:g,
classHeatmapPositive:k}=this.get(),{sourceX:l,sourceY:n,iconX:p,iconY:r,iconWidth:q}=this.iconToGlobalPosition(m,h);var e=1;-1<d&&(e=m.full_class_indices.indexOf(d),-1<e?(e=m.full_class_values[e]/H,e*=k,e=Math.max(0,e)*g):e=0);var f=Math.min(8/q,.6);x.globalAlpha=1;f=f*c.icon_size/2;-1<d&&x.fillRect(p,r,q,q);x.globalAlpha=e;x.drawImage(a,n+f,l+f,c.icon_size-2*f,c.icon_size-2*f,p,r,q,q)}})}}})}}});ic.prototype._recompute=function(a,c){(a.layers||a.layer)&&this._differs(c.maxAttributionValue,c.maxAttributionValue=
ll(c))&&(a.maxAttributionValue=!0);(a.viewWidth||a.screenResolution)&&this._differs(c.w,c.w=ml(c))&&(a.w=!0);(a.viewHeight||a.screenResolution)&&this._differs(c.h,c.h=nl(c))&&(a.h=!0);(a.scale||a.gridSize||a.config||a.classHeatmap||a.w||a.h||a.autoGridSizeMultiplier)&&this._differs(c.currentZoomIndex,c.currentZoomIndex=ol(c))&&(a.currentZoomIndex=!0);(a.currentZoomIndex||a.layers)&&this._differs(c.currentLayerData,c.currentLayerData=pl(c))&&(a.currentLayerData=!0);(a.labelsBufferContext||a.labels||
a.fontSize||a.textColor||a.textShadowColor)&&this._differs(c.labelsBuffer,c.labelsBuffer=ql(c))&&(a.labelsBuffer=!0);(a.currentLayerData||a.config||a.mouseGlobalPosition||a.w||a.h||a.translateX||a.translateY)&&this._differs(c.hoverIconData,c.hoverIconData=sl(c))&&(a.hoverIconData=!0);(a.hoverIconData||a.mouseGlobalPosition)&&this._differs(c.showHover,c.showHover=rl(c))&&(a.showHover=!0);(a.hoverIconData||a.scale||a.w||a.h||a.translateX)&&this._differs(c.hoverIconX,c.hoverIconX=tl(c))&&(a.hoverIconX=
!0);(a.hoverIconData||a.scale||a.w||a.h||a.translateY)&&this._differs(c.hoverIconY,c.hoverIconY=ul(c))&&(a.hoverIconY=!0);(a.hoverIconData||a.scale||a.w||a.h)&&this._differs(c.hoverIconW,c.hoverIconW=vl(c))&&(a.hoverIconW=!0);(a.mouseGlobalPosition||a.hoverIconData||a.enableHover)&&this._differs(c.showHoverIcon,c.showHoverIcon=wl(c))&&(a.showHoverIcon=!0)};q(Zd.prototype,D);q(ed.prototype,D);ed.prototype._recompute=function(a,c){(a.clientWidth||a.minWidth)&&this._differs(c.scale,c.scale=Bl(c))&&(a.scale=
!0);(a.clientWidth||a.width||a.minWidth)&&this._differs(c.finalWidth,c.finalWidth=Cl(c))&&(a.finalWidth=!0);(a.clientHeight||a.scale)&&this._differs(c.finalHeight,c.finalHeight=Dl(c))&&(a.finalHeight=!0)};let fi=bb(".3f");var jc=fi;q(Mb.prototype,D);q(Mb.prototype,{home(a){this.refs.atlas.home(a)},zoomTo(a,c,d,e=1E3){this.refs.atlas.zoomTo(a,c,d,e)},toggle(){let {showOptions:a}=this.get();this.set({showOptions:!a})},copyShareLink(){var {layerName:a}=this.get();let {gcx:c,gcy:d,scale:e}=this.refs.atlas.get();
a=`layer=${encodeURIComponent(a)}&poi=${[c,d,e].map(fi).join(",")}`;window.navigator.clipboard.writeText(location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+location.pathname+"?"+a).then(function(){console.log("Copied to clipboard")},function(){console.error("Unable to copy to clipboard")})}});Mb.prototype._recompute=function(a,c){a.gridSize&&this._differs(c.realGridSize,c.realGridSize=Fl(c))&&(a.realGridSize=!0);(a.iconScaleFactor||a.realGridSize)&&this._differs(c.scaleCountFactor,
c.scaleCountFactor=Gl(c))&&(a.scaleCountFactor=!0)};q(Yf.prototype,D);q(Zf.prototype,D);q($f.prototype,D);q(Hb.prototype,D);Hb.prototype._recompute=function(a,c){(a.w||a.gridSize)&&this._differs(c.cellSize,c.cellSize=Ml(c))&&(a.cellSize=!0);a.filterType&&this._differs(c.root,c.root=Nl(c))&&(a.root=!0);a.gridSize&&this._differs(c.ticks,c.ticks=Ol(c))&&(a.ticks=!0);if(a.root||a.classFilter||a.gridSize||a.filterType)this._differs(c.config,c.config=Pl(c))&&(a.config=!0),this._differs(c.src,c.src=Ql(c))&&
(a.src=!0)};q(ig.prototype,D);q(lg.prototype,D);q($d.prototype,D);$d.prototype._recompute=function(a,c){if(a.$classComparisons||a.classComparisonIndex)this._differs(c.leftIndex,c.leftIndex=Vl(c))&&(a.leftIndex=!0),this._differs(c.rightIndex,c.rightIndex=Wl(c))&&(a.rightIndex=!0)};q(tb.prototype,D);tb.prototype._recompute=function(a,c){a.width&&this._differs(c.height,c.height=Yl(c))&&(a.height=!0);(a.width||a.margin)&&this._differs(c.outerWidth,c.outerWidth=Zl(c))&&(a.outerWidth=!0);(a.height||a.margin)&&
this._differs(c.outerHeight,c.outerHeight=$l(c))&&(a.outerHeight=!0);a.width&&this._differs(c.cellWidth,c.cellWidth=am(c))&&(a.cellWidth=!0);(a.currentClassComparisonIndex||a.$classComparisons)&&this._differs(c.comparison,c.comparison=bm(c))&&(a.comparison=!0)};var Bg=bb(".1f");q(Zb.prototype,D);q(Cg.prototype,D);q(Dg.prototype,D);q(Eg.prototype,D);var Rg=bb(" .5f");q(ae.prototype,D);ae.prototype._recompute=function(a,c){(a.inputWidth||a.columnWidth||a.columnMargin)&&this._differs(c.width,c.width=
im(c))&&(a.width=!0);a.inputWidth&&this._differs(c.height,c.height=jm(c))&&(a.height=!0);(a.timerCount||a.numCells)&&this._differs(c.clippedCount,c.clippedCount=km(c))&&(a.clippedCount=!0);if(a.clippedCount||a.numCells)this._differs(c.windowX,c.windowX=lm(c))&&(a.windowX=!0),this._differs(c.windowY,c.windowY=mm(c))&&(a.windowY=!0);(a.inputWidth||a.numCells||a.cellPadding)&&this._differs(c.cellWidth,c.cellWidth=nm(c))&&(a.cellWidth=!0);(a.numCells||a.windowSize)&&this._differs(c.numInputCells,c.numInputCells=
om(c))&&(a.numInputCells=!0);(a.inputWidth||a.numInputCells||a.cellPadding)&&this._differs(c.inputCellWidth,c.inputCellWidth=pm(c))&&(a.inputCellWidth=!0);a.numCells&&this._differs(c.activations,c.activations=qm(c))&&(a.activations=!0)};q(hd.prototype,D);hd.prototype._recompute=function(a,c){(a.width||a.columnPadding)&&this._differs(c.columnWidth,c.columnWidth=sm(c))&&(a.columnWidth=!0);(a.columnWidth||a.inputPadding)&&this._differs(c.inputWidth,c.inputWidth=tm(c))&&(a.inputWidth=!0);(a.inputWidth||
a.numCells||a.cellPadding)&&this._differs(c.cellWidth,c.cellWidth=um(c))&&(a.cellWidth=!0);(a.columnWidth||a.numIcons)&&this._differs(c.iconWidth,c.iconWidth=vm(c))&&(a.iconWidth=!0)};q(gh.prototype,D);q(Xa.prototype,D);q(id.prototype,D);q(id.prototype,{render(){let {icon:a,config:c,width:d,height:e,iconCrop:f}=this.get(),g=this.refs.canvas.getContext("2d");g.clearRect(0,0,d,e);if(a){let h=f*c.icon_size/2;xd(a.url).then((f)=>{g.drawImage(f,a.localY*c.icon_size+h,a.localX*c.icon_size+h,c.icon_size-
2*h,c.icon_size-2*h,0,0,d,e)})}}});id.prototype._recompute=function(a,c){a.width&&this._differs(c.height,c.height=Cm(c))&&(a.height=!0)};q(be.prototype,D);be.prototype._recompute=function(a,c){a.layerName&&this._differs(c.fullId,c.fullId=Em(c))&&(a.fullId=!0);a.layers&&this._differs(c.pathZoomIndex,c.pathZoomIndex=Gm(c))&&(a.pathZoomIndex=!0);(a.pointList||a.layers||a.pathZoomIndex)&&this._differs(c.imgList,c.imgList=Fm(c))&&(a.imgList=!0)};q(ub.prototype,D);ub.prototype._recompute=function(a,c){a.pointList&&
this._differs(c.numIcons,c.numIcons=Im(c))&&(a.numIcons=!0);(a.viewWidth||a.viewHeight)&&this._differs(c.edgeLength,c.edgeLength=Jm(c))&&(a.edgeLength=!0);(a.viewWidth||a.viewHeight||a.edgeLength)&&this._differs(c.topLeft,c.topLeft=Km(c))&&(a.topLeft=!0);(a.pointList||a.topLeft||a.edgeLength)&&this._differs(c.path_d,c.path_d=Lm(c))&&(a.path_d=!0)};q(Ya.prototype,D);Ya.prototype._recompute=function(a,c){a.scale&&this._differs(c.h,c.h=Nm(c))&&(a.h=!0);(a.scale||a.aspectRatio)&&this._differs(c.w,c.w=
Om(c))&&(a.w=!0);(a.gcx||a.w)&&this._differs(c.l,c.l=Pm(c))&&(a.l=!0);(a.gcy||a.h||a.aspectRatio)&&this._differs(c.t,c.t=Qm(c))&&(a.t=!0);(a.l||a.w)&&this._differs(c.r,c.r=Rm(c))&&(a.r=!0);(a.t||a.h)&&this._differs(c.b,c.b=Sm(c))&&(a.b=!0);a.l&&this._differs(c.left,c.left=Tm(c))&&(a.left=!0);a.r&&this._differs(c.right,c.right=Um(c))&&(a.right=!0);a.t&&this._differs(c.top,c.top=Vm(c))&&(a.top=!0);a.b&&this._differs(c.bottom,c.bottom=Wm(c))&&(a.bottom=!0)};q(mh.prototype,D);q(Za.prototype,D);q(oh.prototype,
D);q(ph.prototype,D);q(uh.prototype,D);q(zh.prototype,D);var Rh=[{name:"train",comparison:[507,982],patches:[{dynamic:"729 827 88.1 3.7 64.0 +60.3".split(" "),static:"595 827 71.9 3.7 50.5 +46.8".split(" ")},{dynamic:"690 827 83.4 3.7 56.7 +53.0".split(" "),static:"505 827 61.1 3.7 43.4 +39.7".split(" ")},{dynamic:"764 827 92.4 3.7 70.6 +66.9".split(" "),static:"586 827 70.9 3.7 53.1 +49.4".split(" ")},{dynamic:"769 827 93.0 3.7 70.4 +66.7".split(" "),static:"677 827 81.9 3.7 58.5 +54.8".split(" ")},
{dynamic:"728 827 88.0 3.7 62.5 +58.8".split(" "),static:"531 827 64.2 3.7 47.2 +43.4".split(" ")},{dynamic:"707 827 85.5 3.7 55.7 +52.0".split(" "),static:"503 827 60.8 3.7 41.5 +37.7".split(" ")},{dynamic:"713 827 86.2 3.7 61.2 +57.4".split(" "),static:"546 827 66.0 3.7 47.6 +43.9".split(" ")},{dynamic:"464 827 56.1 3.7 34.5 +30.7".split(" "),static:"297 827 35.9 3.7 21.3 +17.6".split(" ")},{dynamic:"761 827 92.0 3.7 68.5 +64.8".split(" "),static:"562 827 68.0 3.7 50.2 +46.5".split(" ")},{dynamic:"706 827 85.4 3.7 61.3 +57.6".split(" "),
static:"607 827 73.4 3.7 53.9 +50.2".split(" ")}],noise:{dynamic:"115 827 13.9 3.7 13.2 +9.5".split(" "),static:"35 827 4.2 3.7 5.4 +1.7".split(" ")}},{name:"baseball",comparison:[6,442],patches:[{dynamic:"578 874 66.1 1.8 46.2 +44.4".split(" "),static:"253 874 28.9 1.8 24.7 +22.9".split(" ")},{dynamic:"387 874 44.3 1.8 36.7 +34.9".split(" "),static:"210 874 24.0 1.8 23.1 +21.2".split(" ")},{dynamic:"504 874 57.7 1.8 47.4 +45.6".split(" "),static:"260 874 29.7 1.8 28.0 +26.2".split(" ")},{dynamic:"350 874 40.0 1.8 32.7 +30.9".split(" "),
static:"130 874 14.9 1.8 16.9 +15.1".split(" ")},{dynamic:"281 874 32.2 1.8 26.8 +25.0".split(" "),static:"139 874 15.9 1.8 15.5 +13.6".split(" ")},{dynamic:"394 874 45.1 1.8 33.8 +31.9".split(" "),static:"185 874 21.2 1.8 20.4 +18.5".split(" ")},{dynamic:"233 874 26.7 1.8 20.8 +18.9".split(" "),static:"81 874 9.3 1.8 10.9 +9.1".split(" ")},{dynamic:"429 874 49.1 1.8 39.5 +37.7".split(" "),static:"243 874 27.8 1.8 25.9 +24.1".split(" ")},{dynamic:"239 874 27.3 1.8 19.6 +17.8".split(" "),static:"98 874 11.2 1.8 10.7 +8.8".split(" ")},
{dynamic:"144 874 16.5 1.8 12.2 +10.4".split(" "),static:"40 874 4.6 1.8 5.0 +3.2".split(" ")}],noise:{dynamic:"99 874 11.3 1.8 12.1 +10.2".split(" "),static:"38 874 4.3 1.8 5.9 +4.0".split(" ")}},{name:"noodles",comparison:[671,672],patches:[{dynamic:"175 624 28.0 10.3 25.9 +15.6".split(" "),static:"77 624 12.3 10.3 14.8 +4.6".split(" ")},{dynamic:"481 624 77.1 10.3 53.2 +42.9".split(" "),static:"350 624 56.1 10.3 39.5 +29.2".split(" ")},{dynamic:"452 624 72.4 10.3 48.6 +38.4".split(" "),static:"259 624 41.5 10.3 33.9 +23.7".split(" ")},
{dynamic:"266 624 42.6 10.3 32.1 +21.8".split(" "),static:"146 624 23.4 10.3 21.7 +11.4".split(" ")},{dynamic:"177 624 28.4 10.3 25.4 +15.2".split(" "),static:"78 624 12.5 10.3 15.0 +4.8".split(" ")},{dynamic:"303 624 48.6 10.3 38.3 +28.0".split(" "),static:"165 624 26.4 10.3 25.4 +15.1".split(" ")},{dynamic:"408 624 65.4 10.3 41.7 +31.4".split(" "),static:"258 624 41.3 10.3 29.6 +19.4".split(" ")},{dynamic:"180 624 28.8 10.3 25.5 +15.2".split(" "),static:"88 624 14.1 10.3 17.2 +6.9".split(" ")},
{dynamic:"151 624 24.2 10.3 24.9 +14.6".split(" "),static:"66 624 10.6 10.3 15.6 +5.3".split(" ")},{dynamic:"206 624 33.0 10.3 28.5 +18.2".split(" "),static:"108 624 17.3 10.3 17.6 +7.3".split(" ")}],noise:{dynamic:"114 624 18.3 10.3 19.5 +9.2".split(" "),static:"29 624 4.6 10.3 11.0 +0.7".split(" ")}}];Rh.forEach((a)=>{a.totals={};["dynamic","static"].forEach((c)=>{let d=[0,0,0,0,0,0];a.patches.forEach((a)=>{d[0]+=+a[c][0];d[1]+=+a[c][1];d[3]+=+a[c][3];d[4]+=+a[c][4]});d[2]=d[0]/d[1];d[3]=d[3]/a.patches.length/
100;d[4]=d[4]/a.patches.length/100;d[5]=d[4]-d[3];a.totals[c]=d})});bb(".1f");var jd=bb(","),Nb=bb(".1%"),Qh=bb("+.1%");q(de.prototype,D);de.prototype._recompute=function(a,c){(a.selectedComparison||a.comparisons)&&this._differs(c.c,c.c=dn(c))&&(a.c=!0);(a.selectedMethod||a.methods)&&this._differs(c.method,c.method=en(c))&&(a.method=!0)};new od({target:document.querySelector("body"),store:Q});Q.set({tooltip:new Pb({target:document.body,store:Q,data:{width:250,component:ze}})});let tn=new ea({target:document.querySelector("#cover"),
store:Q,data:{component:Mb,componentData:{showClassFilter:!1,layerName:"mixed4d",showOptions:!1,loadTarget:{x:.661,y:.278,scale:5},gridSize:2,scrollWheel:!1}}});document.addEventListener("DOMContentLoaded",(a)=>{a=document.querySelectorAll("[data-lazy-image]");for(var c of a){a=c.getAttribute("data-lazy-image");let d=c.getAttribute("alt"),e=c.getAttribute("data-lazy-image-aspect-ratio");new O({target:c,data:{src:"assets/images/"+a,alt:d,aspectRatio:e?e:1,background:!1,border:!1}})}c=document.querySelectorAll("[data-notebook-url]");
for(var d of c)c=d.getAttribute("data-notebook-url"),new td({target:d,data:{url:c}});d=document.querySelectorAll("[data-cover-poi]");for(var e of d){let a=e.getAttribute("data-cover-poi").split(",").map((a)=>+a);e.addEventListener("click",(c)=>{c.preventDefault();c=tn.getComponent();c.set({layerName:"mixed4d"});c.zoomTo(a[0],a[1],a[2],4E3)})}new Yf({target:document.querySelector("#overview")});new Zf({target:document.querySelector("#model-overview")});new $f({target:document.querySelector("#grid-detail")});
new ea({target:document.querySelector("#activation-grid"),data:{aspectRatio:1150/290,component:ae}});new hd({target:document.querySelector("#process"),data:{aspectRatio:2.64,component:hd}});new ea({store:Q,target:document.querySelector("#one-layer"),data:{height:"calc(100vw - 40px + 28px + 40px)",component:gh}});new ea({target:document.querySelector("#layer-annotation-1"),store:Q,data:{height:300,component:Xa,componentData:{homeX:.306,homeY:.035}}});new ea({target:document.querySelector("#layer-annotation-2"),
store:Q,data:{height:300,component:Xa,componentData:{homeX:.309,homeY:.173}}});new ea({target:document.querySelector("#layer-annotation-3"),store:Q,data:{height:300,component:Xa,componentData:{homeX:.335,homeY:.353,gridSize:3,homeScale:32}}});new ea({target:document.querySelector("#layer-annotation-4"),store:Q,data:{component:Xa,height:300,componentData:{homeX:.33,homeY:.666}}});new ea({target:document.querySelector("#layer-annotation-5"),store:Q,data:{height:300,component:Xa,componentData:{homeX:.281,
homeY:.761}}});new ea({target:document.querySelector("#layer-annotation-6"),store:Q,data:{height:300,component:Xa,componentData:{homeX:.944,homeY:.51}}});new ea({target:document.querySelector("#layer-annotation-7"),store:Q,data:{height:300,component:Xa,componentData:{homeX:.8,homeY:.19}}});new ea({target:document.querySelector("#layer-annotation-8"),store:Q,data:{height:300,component:Xa,componentData:{homeX:.594,homeY:.223}}});new ub({target:document.querySelector("#show-a-path-0"),store:Q,data:{layerName:"mixed4c",
pointList:[[.161,.3861],[.161,.39373],[.161,.4013],[.161,.409],[.161,.41664],[.161,.42427],[.161,.4319],[.161,.43954],[.161,.4471],[.161,.4548],[.161,.46244],[.161,.47008],[.161,.47771],[.161,.48535],[.161,.49299],[.161,.5],[.161,.5082],[.161,.5158],[.161,.5235],[.161,.5311]]}});new ub({target:document.querySelector("#show-a-path-1"),store:Q,data:{layerName:"mixed4c",pointList:[[.8777,.35276],[.87582,.3431],[.87388,.3336],[.8719,.324],[.86999,.31443],[.86804,.30485],[.8661,.2952],[.86415,.2856],[.86221,
.2761],[.86026,.26652],[.85832,.25694],[.85638,.24735],[.85443,.23777],[.85249,.228],[.85054,.2186],[.8486,.20902],[.84665,.19944],[.84471,.18985],[.84276,.1802],[.84082,.17069]]}});new ub({target:document.querySelector("#show-a-path-2"),store:Q,data:{layerName:"mixed4c",pointList:[[.275,.775],[.27946,.76517],[.28392,.75535],[.288389,.74553],[.292852,.73571],[.29731,.72589],[.30177,.716],[.30408,.7056],[.305765,.69495],[.307448,.68429],[.30913,.67364],[.310813,.66298],[.31111,.65222],[.31111,.6414],
[.31111,.63065],[.31111,.61986],[.31111,.60907],[.30584,.59978],[.30019,.59059],[.29454,.5814]]}});new ub({target:document.querySelector("#show-a-path-3"),store:Q,data:{layerName:"mixed4c",pointList:[[.61,.13],[.609,.132],[.607,.139],[.606,.141],[.605,.145],[.603,.151],[.6,.158],[.597,.164],[.596,.169],[.594,.175],[.593,.177],[.592,.183],[.589,.188],[.587,.191],[.585,.195],[.582,.2],[.581,.204],[.579,.208],[.578,.213],[.577,.219]]}});let f=[0,1,2];["plant","water"].forEach((a)=>{f.forEach((c)=>{let d=
{index:c,subject:a};Object.assign(d,Q.get().multipleLayers[a][c]);new mh({target:document.querySelector(`#${a}-${c}`),store:Q,data:d})})});let g=new ea({target:document.querySelector("#all-layer-comparison"),store:Q,data:{component:Mb,componentData:{showClassFilter:!1,layerName:"mixed4e",gridSize:-1}}});e=document.querySelectorAll("[data-poi]");for(let a of e){let c=a.getAttribute("data-poi"),{pois:d}=Q.get();a.addEventListener("click",(a)=>{a.preventDefault();a=g.getComponent();a.set({layerName:d[c].layerName});
a.zoomTo(d[c].gcx,d[c].gcy,d[c].scale,0)})}new oh({target:document.querySelector("#focus-1"),store:Q});new ph({target:document.querySelector("#focus-2"),store:Q});new uh({target:document.querySelector("#focus-3"),store:Q});new zh({target:document.querySelector("#focus-3-table"),store:Q});new ea({target:document.querySelector("#focus-playground"),store:Q,data:{component:Mb,componentData:{classHeatmap:235,layerName:"mixed4d"}}});new ig({target:document.querySelector("#class-subset"),store:Q});new lg({target:document.querySelector("#class-filter-comparison"),
store:Q});new $d({target:document.querySelector("#class-comparison-2"),store:Q,data:{showControls:!1,classComparisonIndex:0,filterType:"top"}});new tb({target:document.querySelector("#class-gradient-snorkel"),store:Q,data:{aspectRatio:1.152,component:tb,currentClassComparisonIndex:0}});new tb({target:document.querySelector("#class-gradient-frying-pan"),store:Q,data:{aspectRatio:1.152,component:tb,currentClassComparisonIndex:2}});new tb({target:document.querySelector("#class-gradient-shark"),store:Q,
data:{aspectRatio:1.152,component:tb,currentClassComparisonIndex:8}});new Zb({target:document.querySelector("#snorkel-scuba-diver"),store:Q,data:{aspectRatio:480/360,left:"snorkel",right:"scuba diver",classifications:[{image:"assets/images/snorkel-train.png",caption:"Image from ImageNet labeled as \u201csnorkel\u201d with the classification confidences from Inceptionv1 for the top six classes.",rows:[["snorkel",55.6],["coral reef",18.65],["scuba diver",13.49],["loggerhead",5.52],["lionfish",1.71],
["sea snake",1.36]]},{image:"assets/images/snorkel-train-medium.png",caption:"By adding a picture of one of the concepts seen in the visualization above we can change the classification. With an added picture of a steam train the confidence of \u201cscuba diver\u201d classification rises and \u201csnorkel\u201d drops significantly.",rows:[["scuba diver",71.28],["coral reef",14.73],["snorkel",4.49],["lionfish",3.23],["sea snake",2.4],["loggerhead",.87]]},{image:"assets/images/snorkel-train-large.png",
caption:"As the picture of the train gets bigger, the classification for \u201csteam locomotive\u201d overwhelms, but \u201cscuba diver\u201d remains.",rows:[["steam locomotive",89.64],["snowplow",6.17],["jeep",.77],["tractor",.53],["scuba diver",.41],["passenger car",.35]]}]}});new Zb({target:document.querySelector("#frying-pan-wok"),store:Q,data:{left:"frying pan",right:"wok",aspectRatio:236/158,classifications:[{image:"assets/images/frying-pan-noodles.png",caption:"Image from ImageNet labeled as \u201cfrying pan\u201d with the classification confidences from Inceptionv1 for the top six classes.",
rows:[["frying pan",76.52],["wok",15.83],["stove",5.41],["spatula",1.02],["Dutch oven",.53],["mixing bowl",.17]]},{image:"assets/images/frying-pan-noodles-medium.png",caption:"By adding a picture of some noodles, also from ImageNet, we can see the top classification change from \u201cfrying pan\u201d to \u201cwok.\u201d",rows:[["wok",63.17],["frying pan",35.11],["spatula",.64],["hot pot",.45],["mixing bowl",.12],["stove",.11]]},{image:"assets/images/frying-pan-noodles-large.png",caption:"As we make the picture of noodles larger, its influence overpowers the other classifications, but \u201cwok\u201d remains ranked above \u201cfrying pan\u201d.",
rows:[["carbonara",96.37],["plate",2.3],["wok",.6],["meat loaf",.11],["dishwasher",.1],["rotisserie",.06]]}]}});new Zb({target:document.querySelector("#adversarial-teaser"),store:Q,data:{left:"great white shark",right:"grey whale",aspectRatio:996/656,classifications:[{image:"assets/images/whale-baseball.png",caption:"",rows:[["grey whale",90.95],["killer whale",7.54],["great white shark",.71],["gar",.39]]},{image:"assets/images/whale-baseball-medium.png",caption:"",rows:[["great white shark",66.7],
["baseball",7.36],["grey whale",4.07],["sombrero",3.22]]}]}});new Zb({target:document.querySelector("#shark-grey-whale"),store:Q,data:{left:"great white shark",right:"grey whale",aspectRatio:996/656,classifications:[{image:"assets/images/whale-baseball.png",caption:"",rows:[["grey whale",90.95],["killer whale",7.54],["great white shark",.71],["gar",.39],["sea lion",.13],["tiger shark",.07]]},{image:"assets/images/whale-baseball-medium.png",caption:"",rows:[["great white shark",66.7],["baseball",7.36],
["grey whale",4.07],["sombrero",3.22],["sea lion",3.11],["killer whale",2.7]]},{image:"assets/images/whale-baseball-large.png",caption:"",rows:[["baseball",100],["rugby ball",0],["golf ball",0],["ballplayer",0],["drum",0],["sombrero",0]]}]}});new de({target:document.querySelector("#patch-examples"),store:Q});new Cg({target:document.querySelector("#samples"),store:Q});new Dg({target:document.querySelector("#class-grids"),store:Q})})})();
//# sourceMappingURL=main.min.js.map
